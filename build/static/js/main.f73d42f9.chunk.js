(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1056:function(e,a){},1565:function(e,a,t){"use strict";t.r(a);var n=t(1),i=t.n(n),l=t(138),r=t.n(l),o=(t(738),t(51)),s=t(27),c=t(19),u=(t(430),t(713)),x=t(417),d=t.n(x),p=t(4),y=d()(u),h=function(e){var a=e.style,t=e.data,n=e.layout,i=e.templates;return e.loader?Object(p.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(p.jsx)(y,{style:a,data:[t].concat(Object(s.a)(i||[])),layout:n,config:{responsive:!0}})},m=t(718),b=t.n(m),j=t(717),v=t.n(j),f=t(1625),O=t(1624),g=t(1620),k=t(421),T=t.n(k),M=t(716),S=t(422),w=t.n(S);w.a.defaults.baseURL="http://3.210.142.92:5000/";var A=function(){var e=Object(M.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(a)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=t(1623),D=t(1621),E=[{name:"1h",ms:36e5},{name:"1d",ms:864e5},{name:"1wk",ms:6048e5},{name:"1mo",ms:2629746e3}],G=[{name:"T0",id:0},{name:"T1",id:1},{name:"T2",id:2},{name:"T3",id:3},{name:"T4",id:4},{name:"T5",id:5},{name:"T6",id:6},{name:"T7",id:7},{name:"T8",id:8}],I=function(e){var a=e.handleGrapthType,t=e.graphType,i=e.templateChange,l=(e.templatesOptions,e.data,e.selectedStock),r=e.handleStockChange,s=e.selectedTime,u=e.hanldeSelectedTime,x=Object(n.useState)([]),d=Object(c.a)(x,2),y=d[0],h=d[1];return Object(n.useEffect)((function(){A("stocks/available").then((function(e){var a;console.log("res",e),h((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.list)||[])}))}),[]),Object(p.jsxs)(C.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",style:{padding:"10px"},children:[Object(p.jsx)(C.a,{item:!0,xs:2,children:Object(p.jsx)(g.a,{value:l,disableClearable:!0,onChange:function(e,a){r(a)},fullWidth:!0,inputValue:l,options:y,renderInput:function(e){return Object(p.jsx)(D.a,Object(o.a)(Object(o.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(p.jsx)(C.a,{item:!0,xs:1,children:Object(p.jsxs)(O.a,{variant:"text","aria-label":"text button group",children:[Object(p.jsx)(f.a,{onClick:function(){return a("candlestick")},children:Object(p.jsx)(v.a,{color:"candlestick"===t?"primary":"action"})}),Object(p.jsx)(f.a,{onClick:function(){return a("ohlc")},children:Object(p.jsx)(b.a,{color:"ohlc"!==t?"primary":"action"})})]})}),Object(p.jsx)(C.a,{item:!0,xs:4,children:Object(p.jsx)(O.a,{variant:"text","aria-label":"text button group",children:E.map((function(e,a){return Object(p.jsx)(f.a,{onClick:function(){return u(e)},color:s.name!==e.name?"primary":"error",children:e.name},a)}))})}),Object(p.jsx)(C.a,{item:!0,xs:5,children:Object(p.jsx)(O.a,{variant:"text","aria-label":"text button group",children:G.map((function(e,a){return Object(p.jsx)(f.a,{onClick:function(){return i(e)},children:e.name},a)}))})})]})},L=(t(719),function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(a,t){return a<e.close[t]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}}),F=function(e){return{graph:[{x:e.x,y:e.low.map((function(a,t){return(a+e.high[t])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(a,t){return(a+e.high[t])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},N=function(e,a){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(a,t){return a<e.close[t]?a:-1*a})),type:"bar",marker:{color:e.open.map((function(a,t){return a<e.close[t]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(a,t){return a<e.close[t]?a:-1*a})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(a,t){return a<e.close[t]?a:-1*a})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},z=function(e){return[{name:"T1",id:1,template:Object(o.a)({},L(e))},{name:"T2",id:2,template:Object(o.a)({},F(e))},{name:"T3",id:3,template:Object(o.a)({},N(e))}]},R={x:[],close:[],decreasing:{fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"candlestick",xaxis:"x",yaxis:"y"};var B=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)("candlestick"),r=Object(c.a)(l,2),u=r[0],x=r[1],d=Object(n.useState)([]),y=Object(c.a)(d,2),m=(y[0],y[1],Object(n.useState)([])),b=Object(c.a)(m,2),j=(b[0],b[1],Object(n.useState)([])),v=Object(c.a)(j,2),f=(v[0],v[1],Object(n.useState)([])),O=Object(c.a)(f,2),g=O[0],k=O[1],T=Object(n.useState)([]),M=Object(c.a)(T,2),S=M[0],w=M[1],C=Object(n.useState)({dragmode:"zoom",margin:{r:10,t:25,b:40,l:60},showlegend:!1,xaxis:{domain:[0,1],range:[],rangeslider:{visible:!1},type:"date"},yaxis:{domain:[0,1],rangeslider:{visible:!1},position:1,side:"bottom",type:"linear"},opacity:.2,autosize:!0,height:550}),D=Object(c.a)(C,2),E=D[0],G=D[1],L=Object(n.useState)("MMM"),F=Object(c.a)(L,2),N=F[0],B=F[1],H=Object(n.useState)({name:"1d",ms:864e5}),J=Object(c.a)(H,2),P=J[0],U=J[1],V=Object(n.useState)(Object(o.a)({},R)),W=Object(c.a)(V,2),q=W[0],K=W[1],Q=function(e,a,t){i(!0);var n="stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=").concat(a.name);t>0&&(n+="&template=".concat(t)),A(n).then((function(e){var n,l;console.log("Total candles on time ",a.name," is ",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.length),i(!1);var r=Object(s.a)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),c=[],u=[],x=[],d=[],p=[],y=[],h=[],m=[],b=[],j=[],v=[],f=[],O=[],g=[],T=[],M=[],S=[],A=[],C=[],D=[],I=[];null===r||void 0===r||r.forEach((function(e){var a,n,i;if(c.push(e.high),u.push(e.low),x.push(e.open),d.push(e.close),p.push(new Date(e.date)),1===t)y.push(null===(a=e.indicators)||void 0===a?void 0:a.EMA0),h.push(null===(n=e.indicators)||void 0===n?void 0:n.EMA1),m.push(null===(i=e.indicators)||void 0===i?void 0:i.EMA2);else if(2===t){var l,r,o,s,k,w;y.push(null===(l=e.indicators)||void 0===l?void 0:l.EMA0),h.push(null===(r=e.indicators)||void 0===r?void 0:r.EMA1),m.push(null===(o=e.indicators)||void 0===o?void 0:o.EMA2),b.push(null===(s=e.indicators)||void 0===s?void 0:s.EMA3),j.push(null===(k=e.indicators)||void 0===k?void 0:k.EMA4),v.push(null===(w=e.indicators)||void 0===w?void 0:w.EMA5)}else if(4===t){var E,G,L,F,N,z;f.push(null===(E=e.indicators)||void 0===E?void 0:E.MACD0),O.push(null===(G=e.indicators)||void 0===G?void 0:G.MACD1),g.push(null===(L=e.indicators)||void 0===L?void 0:L.MACD2),T.push(null===(F=e.indicators)||void 0===F?void 0:F.MACDSIGNAL0),M.push(null===(N=e.indicators)||void 0===N?void 0:N.MACDHIST1),S.push(null===(z=e.indicators)||void 0===z?void 0:z.MACDSIGNAL2)}else if(7===t){var R,B,H,J;y.push(null===(R=e.indicators)||void 0===R?void 0:R.EMA0),C.push(null===(B=e.indicators)||void 0===B?void 0:B.MA0),D.push(null===(H=e.indicators)||void 0===H?void 0:H.MA1),I.push(null===(J=e.indicators)||void 0===J?void 0:J.RSI0)}else if(8===t){var P,U,V,W;f.push(null===(P=e.indicators)||void 0===P?void 0:P.MACD0),A.push(null===(U=e.indicators)||void 0===U?void 0:U.MACDHIST0),T.push(null===(V=e.indicators)||void 0===V?void 0:V.MACDSIGNAL0),I.push(null===(W=e.indicators)||void 0===W?void 0:W.RSI0)}}));var L=Math.min.apply(Math,Object(s.a)(u.filter((function(e){return null!==e})))),F=Math.min.apply(Math,Object(s.a)(d.filter((function(e){return null!==e})))),N=L>F?F:L,z=Math.min.apply(Math,Object(s.a)(u.filter((function(e){return null!==e})))),B=Math.max.apply(Math,Object(s.a)(d.filter((function(e){return null!==e})))),H=B>z?B:z;console.log("lowest",N,H);for(var J=0;J<20;J++)c.push(null),u.push(null),x.push(null),d.push(null),p.push(new Date(Date.now(p[p.length-1])+(J+1)*a.ms)),1===t?(y.push(null),h.push(null),m.push(null)):2===t?(y.push(null),h.push(null),m.push(null),b.push(null),j.push(null),v.push(null)):4===t?(f.push(null),O.push(null),g.push(null),T.push(null),M.push(null),S.push(null)):7===t?(y.push(null),C.push(null),D.push(null),I.push(null)):8===t&&(f.push(null),A.push(null),T.push(null),I.push(null));0===t&&(k([]),w([])),1===t?(k([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:h,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:m,xaxis:"x",yaxis:"y",marker:{color:"blue"}}]),w([])):2===t?(k([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:h,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:m,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:b,xaxis:"x",yaxis:"y",marker:{color:"red"}},{x:p,y:j,xaxis:"x",yaxis:"y",marker:{color:"red"}},{x:p,y:v,xaxis:"x",yaxis:"y",marker:{color:"red"}}]),w([])):4===t?(k([]),w([{x:p,y:f,marker:{color:"blue"},xaxis:"x",yaxis:"y",templates:[{x:p,y:T,xaxis:"x",yaxis:"y",marker:{color:"black"}}]},{x:p,y:O,xaxis:"x",yaxis:"y",marker:{color:"black"},templates:[{x:p,y:M,type:"bar",xaxis:"x",yaxis:"y",marker:{color:M.map((function(e,a){return e>0?"green":"red"}))}}]},{x:p,y:g,xaxis:"x",yaxis:"y",marker:{color:"blue"},templates:[{x:p,y:S,xaxis:"x",yaxis:"y",marker:{color:"black"}}]}])):7===t?(k([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:C,xaxis:"x",yaxis:"y",marker:{color:"black"}},{x:p,y:D,xaxis:"x",yaxis:"y",marker:{color:"black"}}]),w([{x:p,y:I,marker:{color:"blue"},xaxis:"x",yaxis:"y"}])):8===t&&(k([]),w([{x:p,y:I,marker:{color:"rgb(126,87,194)"},xaxis:"x",yaxis:"y",templates:[]}])),console.log("x",p),K(Object(o.a)(Object(o.a)({},R),{},{high:c,low:u,open:x,close:d,x:p})),G(Object(o.a)(Object(o.a)({},E),{},{yaxis:Object(o.a)(Object(o.a)({},E.yaxis),{},{rangeslider:{visible:!1},range:[N,H]})}))})).catch((function(e){i(!1)}))};return Object(n.useState)((function(){Q(N,P)}),[]),Object(p.jsxs)(p.Fragment,{children:[t?Object(p.jsx)("div",{className:"loader"}):Object(p.jsx)(p.Fragment,{}),Object(p.jsxs)("div",{style:{padding:"10px"},children:[Object(p.jsx)(I,{graphType:u,handleGrapthType:function(e){x(e)},templateChange:function(e){Q(N,P,e.id)},templatesOptions:z,data:q,selectedStock:N,selectedTime:P,hanldeSelectedTime:function(e){U(e),Q(N,e)},handleStockChange:function(e){B(e),Q(e,P)}}),Object(p.jsxs)("div",{id:"fullscreen",children:[Object(p.jsx)(h,{style:{width:"100%",height:"100%"},data:Object(o.a)(Object(o.a)({},q),{},{type:u}),layout:E,templates:g.length?Object(s.a)(g):[],loader:t}),S.map((function(e){return Object(p.jsx)(h,{templates:e.templates,style:{width:"100%"},data:Object(o.a)({},e),layout:{dragmode:"zoom",margin:{r:10,t:1,b:40,l:60},showlegend:!1,xaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},type:"date"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom"},opacity:.2,autosize:!0,height:150}},e)}))]})]})]})},H=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,1627)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,l=a.getLCP,r=a.getTTFB;t(e),n(e),i(e),l(e),r(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),H()},430:function(e,a,t){},738:function(e,a,t){},939:function(e,a){},941:function(e,a){}},[[1565,1,2]]]);
//# sourceMappingURL=main.f73d42f9.chunk.js.map
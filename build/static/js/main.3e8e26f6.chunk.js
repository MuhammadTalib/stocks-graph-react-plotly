(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1056:function(e,t){},1564:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(138),o=a.n(r),i=(a(738),a(60)),l=a(29),s=a(19),u=(a(429),a(712)),p=a(715),x=a.n(p),b=a(4),h=x()(u),d=function(e){var t=e.style,a=e.data,n=e.layout,c=e.templates;return Object(b.jsx)(h,{style:t,data:[a].concat(Object(l.a)(c||[])),layout:n})},j=a(718),y=a.n(j),m=a(717),O=a.n(m),f=a(1624),g=a(1623),k=a(1618),v=a(420),T=a.n(v),w=a(716),S=a(421),C=a.n(S);C.a.defaults.baseURL="http://3.210.142.92/";var G=function(){var e=Object(w.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(t)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=a(1621),D=a(1619),E=function(e){var t=e.handleGrapthType,a=e.graphType,c=e.templateChange,r=e.templatesOptions,o=e.data,l=e.selectedStock,u=e.handleStockChange,p=e.selectedTime,x=e.hanldeSelectedTime,h=Object(n.useState)([]),d=Object(s.a)(h,2),j=d[0],m=d[1];return Object(n.useEffect)((function(){G("stocks/available").then((function(e){console.log("res",e),m(e.data.list||[])}))}),[]),Object(b.jsxs)(L.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",children:[Object(b.jsx)(L.a,{item:!0,xs:2,children:Object(b.jsx)(k.a,{value:l,onChange:function(e,t){u(t)},fullWidth:!0,inputValue:l,options:j,renderInput:function(e){return Object(b.jsx)(D.a,Object(i.a)(Object(i.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(b.jsx)(L.a,{item:!0,xs:1,children:Object(b.jsxs)(g.a,{variant:"text","aria-label":"text button group",children:[Object(b.jsx)(f.a,{onClick:function(){return t("candlestick")},children:Object(b.jsx)(O.a,{color:"candlestick"===a?"primary":"action"})}),Object(b.jsx)(f.a,{onClick:function(){return t("ohlc")},children:Object(b.jsx)(y.a,{color:"ohlc"!==a?"primary":"action"})})]})}),Object(b.jsx)(L.a,{item:!0,xs:4,children:Object(b.jsx)(g.a,{variant:"text","aria-label":"text button group",children:["1h","1d","1wk","1mo"].map((function(e){return Object(b.jsx)(f.a,{onClick:function(){return x(e)},color:p!==e?"primary":"error",children:e})}))})}),Object(b.jsxs)(L.a,{item:!0,xs:5,children:[" ",Object(b.jsx)(g.a,{variant:"text","aria-label":"text button group",children:r(o).map((function(e,t){return Object(b.jsx)(f.a,{onClick:function(){return c(e)},children:e.name},t)}))})]})]})},F=function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(t,a){return t<e.close[a]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}},I=function(e){return{graph:[{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},M=function(e,t){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(255,0,0,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},z=function(e){return[{name:"T1",id:1,template:Object(i.a)({},F(e))},{name:"T2",id:2,template:Object(i.a)({},I(e))},{name:"T3",id:3,template:Object(i.a)({},M(e))}]},A={x:["2017-01-04","2017-01-05","2017-01-06","2017-01-07","2017-01-08","2017-01-09","2017-01-10","2017-01-11","2017-01-12","2017-01-13","2017-01-14","2017-01-15","2017-01-16","2017-01-17","2017-01-18","2017-01-19","2017-01-20","2017-01-21","2017-01-22","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-04","2017-02-05","2017-02-06","2017-02-07","2017-02-08","2017-02-09","2017-02-10","2017-02-11","2017-02-12","2017-02-13","2017-02-14","2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21","2017-02-22","2017-02-23","2017-02-24","2017-02-25","2017-02-26","2017-02-27","2017-02-28","2017-02-29","2017-02-30","2017-02-31"],close:[116.019997,116.610001,117.910004,118.989998,119.110001,119.75,119.25,119.040001,120,119.989998,119.779999,120,120.080002,119.970001,121.879997,121.940002,121.949997,121.629997,121.349998,128.75,128.529999,129.080002,130.289993,131.529999,132.039993,132.419998,132.119995,133.289993,135.020004,135.509995,119.040001,120,119.989998,119.779999,120,120.080002,119.970001,116.019997,116.610001,117.910004,118.989998,119.110001,119.75,119.25,119.040001,120,119.989998,119.779999,120,120.080002,119.970001,121.879997,121.940002,121.949997,121.629997,121.349998,128.75,128.529999,129.080002,130.289993,131.529999,132.039993,132.419998,132.119995,133.289993,135.020004,135.509995,119.040001,120,119.989998,119.779999,120,120.080002,119.970001],decreasing:{line:{color:"black"}},high:[116.510002,116.860001,118.160004,119.43,119.379997,119.93,119.300003,119.620003,120.239998,120.5,120.089996,120.449997,120.809998,120.099998,122.099998,122.440002,122.349998,121.629997,130.389999,130.490005,129.389999,129.190002,130.5,132.089996,132.220001,132.449997,132.940002,133.820007,135.089996,136.270004,119.620003,120.239998,120.5,120.089996,120.449997,120.809998,116.510002,116.860001,118.160004,119.43,119.379997,119.93,119.300003,119.620003,120.239998,120.5,120.089996,120.449997,120.809998,120.099998,122.099998,122.440002,122.349998,121.629997,130.389999,130.490005,129.389999,129.190002,130.5,132.089996,132.220001,132.449997,132.940002,133.820007,135.089996,136.270004,119.620003,120.239998,120.5,120.089996,120.449997,120.809998],increasing:{line:{color:"black"}},line:{color:"rgba(31,119,180,1)"},low:[115.75,115.809998,116.470001,117.940002,118.300003,118.599998,118.209999,118.809998,118.220001,119.709999,119.370003,119.730003,119.769997,119.5,120.279999,121.599998,121.599998,120.660004,120.620003,127.010002,127.779999,128.160004,128.899994,130.449997,131.220001,131.119995,132.050003,132.75,133.25,134.619995,118.209999,118.809998,118.220001,119.709999,119.370003,119.730003,115.75,115.809998,116.470001,117.940002,118.300003,118.599998,118.209999,118.809998,118.220001,119.709999,119.370003,119.730003,119.769997,119.5,120.279999,121.599998,121.599998,120.660004,120.620003,127.010002,127.779999,128.160004,128.899994,130.449997,131.220001,131.119995,132.050003,132.75,133.25,134.619995,118.209999,118.809998,118.220001,119.709999,119.370003,119.730003],open:[115.849998,115.919998,116.779999,117.949997,118.769997,118.739998,118.900002,119.110001,118.339996,120,119.400002,120.449997,120,119.550003,120.419998,121.669998,122.139999,120.93,121.150002,127.029999,127.980003,128.309998,129.130005,130.539993,131.350006,131.649994,132.460007,133.080002,133.470001,135.520004,118.900002,119.110001,118.339996,120,119.400002,120.449997,120,115.849998,115.919998,116.779999,117.949997,118.769997,118.739998,118.900002,119.110001,118.339996,120,119.400002,120.449997,120,119.550003,120.419998,121.669998,122.139999,120.93,121.150002,127.029999,127.980003,128.309998,129.130005,130.539993,131.350006,131.649994,132.460007,133.080002,133.470001,135.520004,118.900002,119.110001,118.339996,120,119.400002,120.449997,120],type:"candlestick",xaxis:"x",yaxis:"y"};var B=function(){var e=Object(n.useState)("candlestick"),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),u=o[0],p=o[1],x=Object(n.useState)([]),h=Object(s.a)(x,2),j=h[0],y=h[1],m=Object(n.useState)([]),O=Object(s.a)(m,2),f=O[0],g=O[1],k=Object(n.useState)({dragmode:"zoom",margin:{t:0,l:30,r:0,b:25},showlegend:!1,xaxis:{domain:[0,1],rangeslider:{visible:!1},title:"Date",type:"date"},yaxis:{domain:[0,1],autorange:!0},autosize:!0,height:600}),v=Object(s.a)(k,1)[0],T=Object(n.useState)("MMM"),w=Object(s.a)(T,2),S=w[0],C=w[1],L=Object(n.useState)("1d"),D=Object(s.a)(L,2),F=D[0],I=D[1],M=Object(n.useState)(Object(i.a)({},A)),B=Object(s.a)(M,2),J=B[0],P=B[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(E,{graphType:a,handleGrapthType:function(e){c(e)},templateChange:function(e){var t,a;console.log("template.subGraphs",e),t=e.id,a=e.template,console.log("Arr",a.subGraphs),-1!==j.indexOf(t)?(g(Object(l.a)(f.filter((function(e){return e.templateType!==t})))),p(Object(l.a)(u.filter((function(e){return e.templateType!==t})))),y(Object(l.a)(j.filter((function(e){return e!==t}))))):(y([].concat(Object(l.a)(j),[t])),g([].concat(Object(l.a)(f),Object(l.a)(a.graph))),p([].concat(Object(l.a)(u),Object(l.a)(a.subGraphs))))},templatesOptions:z,data:J,selectedStock:S,selectedTime:F,hanldeSelectedTime:function(e){I(e),S&&G("stocks?stock=".concat(null===S||void 0===S?void 0:S.toLowerCase(),"&interval=").concat(F)).then((function(e){var t,a,n=[],c=[],r=[],o=[],l=[];console.log(e),null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a||a.forEach((function(e){n.push(e.high),c.push(e.low),r.push(e.open),o.push(e.close),l.push(new Date(e.date))})),P(Object(i.a)(Object(i.a)({},A),{},{high:n,low:c,open:r,close:o,x:l}))}))},handleStockChange:function(e){C(e),e&&G("stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=1h")).then((function(e){var t,a,n=[],c=[],r=[],o=[],l=[];console.log(e.data.data),null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a||a.forEach((function(e){n.push(e.high),c.push(e.low),r.push(e.open),o.push(e.close),l.push(new Date(e.date))})),P(Object(i.a)(Object(i.a)({},A),{},{high:n,low:c,open:r,close:o,x:l}))}))}}),Object(b.jsxs)("div",{id:"fullscreen",children:[Object(b.jsx)(d,{style:{width:"100%",height:"100%"},data:Object(i.a)(Object(i.a)({},J),{},{type:a}),layout:v,templates:f}),u.map((function(e){return Object(b.jsx)(d,{style:{width:"100%"},data:Object(i.a)({},e),layout:Object(i.a)(Object(i.a)({},v),{},{autosize:!0,height:150}),templates:e.mergedGraphs},e)}))]})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1625)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(B,{})}),document.getElementById("root")),J()},429:function(e,t,a){},738:function(e,t,a){},939:function(e,t){},941:function(e,t){}},[[1564,1,2]]]);
//# sourceMappingURL=main.3e8e26f6.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1092:function(e,t){},1580:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(145),r=a.n(o),c=(a(757),a(9)),l=a(12),s=a(1656),d=(a(243),a(86)),u=a.n(d),h=a(123),b=a(25),m=a(160),x=a.n(m);x.a.defaults.baseURL="http://3.210.142.92:5000/";var j=function(){var e=Object(h.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(t)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={dragmode:"pan",margin:{r:10,t:25,b:40,l:20},hovermode:"x",showlegend:!0,legend:{x:0,y:1,traceorder:"normal",font:{family:"sans-serif",size:12,color:"#000"},bgcolor:"#E2E2E211",bordercolor:"#FFFFFF"},xaxis:{domain:[0,1],rangeslider:{visible:!1},autorange:!1,type:"category",tickmode:"array",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom",type:"linear",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},opacity:.2,autosize:!0,width:window.innerWidth-10,height:window.innerHeight-80},g=[{name:"1h",desc:"1 Hour",ms:36e5},{name:"2h",desc:"2 Hour",ms:72e5},{name:"4h",desc:"4 Hour",ms:144e5},{name:"6h",desc:"6 Hour",ms:216e5},{name:"8h",desc:"8 Hour",ms:288e5},{name:"12h",desc:"12 Hour",ms:432e5},{name:"18h",desc:"18 Hour",ms:648e5},{name:"1d",desc:"1 Day",ms:864e5},{name:"2d",desc:"2 Day",ms:1728e5},{name:"3d",desc:"3 Day",ms:2592e5},{name:"1wk",desc:"1 Week",ms:6048e5},{name:"2wk",desc:"2 Week",ms:12096e5},{name:"1mo",desc:"1 Month",ms:2629746e3}],y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],f={id:0,name:"T0",merged:{},separate:{}},O={x:[],name:"main",close:[],decreasing:{fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},low:[],open:[],type:"candlestick",hoverinfo:"x"},v=[{name:"T0",id:0,merged:{},separate:{},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,1]})}},{name:"T1",id:1,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 20",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"},hoverinfo:"x"},EMA1:{data:[],name:"EMA 22",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 26",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}}},separate:{"Volume EMA":{data:[],name:"Volume",marker:{color:"#9fa5c5"},yaxis:"y2",hoverinfo:"x",type:"bar",markerFn:function(e,t){return{color:t.open.map((function(e,a){return e<t.close[a]?"green":"red"}))}}}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.3,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.25]})}},{name:"T2",id:2,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 10",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],xaxis:"x",yaxis:"y",name:"EMA 20",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},separate:{},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,1]})}},{name:"T3",id:3,merged:{donchian_price0:{data:[],name:"DONCHIAN AVG",xaxis:"x",yaxis:"y",marker:{color:"blue",size:12},line:{width:1}},donchian_min0:{data:[],name:"DONCHAIN MIN",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}},donchian_max0:{data:[],name:"DONCHAIN MAX",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}}},separate:{"%R0":{data:[],name:"%R(5)",type:"bar",marker:{color:"blue"},yaxis:"y2"},"%R1":{data:[],name:"%R(20)",type:"bar",marker:{color:"red"},yaxis:"y3"}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.55,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.25,.5]}),yaxis3:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.25]}),xaxis:Object(c.a)({},p.xaxis)}},{name:"T4",id:4,merged:{SMA0:{data:[],name:"MMA 20",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,173,89)"}},SMA1:{data:[],name:"MMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(253,91,252)"}},SMA2:{data:[],name:"MMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(172,91,170)"}},SMA3:{data:[],name:"MMA 200",xaxis:"x",yaxis:"y",marker:{color:"rgb(89,89,89)"}}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.5,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.3,.45],range:[-5,5],autorange:!1}),yaxis3:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.15,.3]}),yaxis4:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.15]}),xaxis:Object(c.a)({},p.xaxis)},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACD HIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:function(e){return{color:e.map((function(e,t){return e>0?"green":"red"}))}}},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}}},{name:"T5",id:5,merged:{EMA0:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,0,56)"}},EMA2:{data:[],name:"EMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(13,190,58)"}},EMA3:{data:[],name:"EMA 200",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACDHIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:function(e){return{color:e.map((function(e,t){return e>0?"green":"red"}))}}},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{customLine:80,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.5,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.3,.45]}),yaxis3:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.15,.3]}),yaxis4:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.15]}),xaxis:Object(c.a)({},p.xaxis)}},{name:"T6",id:6,merged:{EMA0:{data:[],name:"EMA 10",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.35,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.3]}),xaxis:Object(c.a)({},p.xaxis)},separate:{HIST0:{data:[],type:"bar",name:"HIST0",markerFn:function(e){return{color:e.map((function(e,t){return e>0?"rgb(38,165,154)":"rgb(254,82,82)"}))}},xaxis:"x",yaxis:"y2"}}},{name:"T7",id:7,merged:{EMA0:{data:[],name:"EMA 5",xaxis:"x",yaxis:"y",marker:{color:"blue"}},MA0:{data:[],name:"MA 10",xaxis:"x",yaxis:"y",marker:{color:"black"}},MA1:{data:[],name:"MA 30",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{RSI0:{data:[],name:"RSI(14)",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},line1:{customLine:60,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{dash:"dashdot",width:2,color:"green"}},line2:{customLine:40,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{color:"red",dash:"dash",width:2}},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y3"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y3",marker:{color:"rgb(13,0,255)"}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line5:{data:[],customLine:20,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line6:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}}},layout:{yaxis:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.55,1]}),yaxis2:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[.25,.5],range:[20,80],autorange:!1}),yaxis3:Object(c.a)(Object(c.a)({},p.yaxis),{},{domain:[0,.25]}),xaxis:Object(c.a)({},p.xaxis)}}],k=[{value:"double-close",name:"Double close",columns:["Double close"]}],w=["Abandoned Baby","Bearish Double Close Outside Bar","Bullish Double Close Outside Bar","DARKCLOUDCOVER","ENGULFING","EVENINGDOJISTAR","EVENINGSTAR","MORNINGDOJISTAR","MORNINGSTAR","Multiple Inside Bars Minus","Multiple Inside Bars Plus","PIERCING","Piercing Pattern","Popgun Minus","Popgun Plus","RISEFALL3METHODS","Rising/Falling Three Methods","Three Advancing White Soldiers","Three Black Crows","Three Inside Down Modified","Three Inside Up Modified","Three Inside Up/Down","Tristar Pattern","Windows/Gap","bearish_key_reversal_day","bullish_key_reversal_day","engulifish_shadow_bearish","engulifish_shadow_bullish","evening_turn","island_bottom","island_top","modified_evening_morning_star","morning_turn","one_black_crow","one_black_crow_modified","one_white_soldier","one_white_soldier_modified","tower_bottom","tower_top"],S=a(2);function C(e){return e.reduce((function(e,t){return Math.min(e,t)}))}var M=function(e,t,a){return[].concat(Object(b.a)(e?[{x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.ConfrimHigh.map((function(e,a){return e?t.high[a]:null})),showlegend:!1,name:null===t||void 0===t?void 0:t.ConfrimHigh.map((function(e,n){return e?"Confirm High "+t.high[a]:null})),mode:"markers",marker:{color:"blue",symbol:"diamond"},hoverinfo:"skip"}]:[]),Object(b.a)(e?[{x:null===t||void 0===t?void 0:t.x,y:t.ConfrimLow.map((function(e,a){return e?t.low[a]:null})),showlegend:!1,name:"Confirm Low "+t.low[a],mode:"markers",marker:{color:"red",symbol:"diamond"},hoverinfo:"skip"}]:[]))},L=function(e,t,a,n){var i=[];return 6===e.id&&(i=[Object(c.a)(Object(c.a)({},O),{},{type:n,name:"Red price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map((function(e,a){return t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_red?e:null:e})):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"red",line:{color:"ohlc"===n?"red":"black",width:1}},increasing:{fillcolor:"red",line:{color:"ohlc"===n?"red":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData}),Object(c.a)(Object(c.a)({},O),{},{type:n,name:"Green price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map((function(e,a){return t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_green?e:null:e})):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"green",line:{color:"ohlc"===n?"green":"black",width:1}},increasing:{fillcolor:"green",line:{color:"ohlc"===n?"green":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData})]),e.merged&&Object.keys(e.merged).length?[].concat(Object(b.a)(i),Object(b.a)(Object.keys(e.merged).map((function(n){return Object(c.a)(Object(c.a)({},e.merged[n]),{},{x:null===t||void 0===t?void 0:t.x,y:e.merged[n].data.map((function(e){return e||null})),name:"".concat(e.merged[n].name," ").concat(e.merged[n].data[a]),hoverinfo:"x"})})))):[]},T=function(e,t,a){return e.separate&&Object.keys(e.separate).length?Object(b.a)(Object.keys(e.separate).map((function(n){return Object(c.a)(Object(c.a)(Object(c.a)({},e.separate[n]),{},{x:null===t||void 0===t?void 0:t.x,y:e.separate[n].data.map((function(e){return e||null}))},e.separate[n].markerFn?{marker:e.separate[n].markerFn(e.separate[n].data,t)}:{}),{},{name:"".concat(e.separate[n].name," ").concat(e.separate[n].data[a]),hoverinfo:"x"})}))):[]},D=function(e,t){var a=e&&t.x.findIndex((function(t){return t===e.time}));return e&&a>=0?[{type:"rect",text:"ddd",x0:a-.5,y0:0,x1:a+.5,yref:"paper",y1:1,line:{color:"#ffff00",width:1.5},hoverinfo:"x",fillcolor:"#ffff00",opacity:.6}]:[]},E=function(e,t){return e?t.x.slice(0,t.x.length-23).map((function(e,a){var n=new Date(e).getDate(),i=new Date(t.x[a-1]).getDate(),o=new Date(t.x[a-2]).getDate();return 1===n||2===n&&1!==i||3===n&&1!==o&&2!==i?{type:"line",text:"ddd",x0:String(e),y0:0,x1:String(e),yref:"paper",y1:1,line:{color:"grey",width:1.5,dash:"dot"},hoverinfo:"x"}:null})):[]};var A=function(e,t){var a="";return e.length&&w.forEach((function(n,i){var o;(null===e||void 0===e||null===(o=e[t])||void 0===o?void 0:o[n])&&(a.length>0&&(a+=", "),a+=n)})),a},_=a(299),I=function(e,t,a){var n,i,o,r,c=e.patternData;return"All Reversal Patterns"===t&&(c=e.patternData.map((function(e){var t,a=0,n=Object(_.a)(w);try{for(n.s();!(t=n.n()).done;){if(e[t.value]){a=1;break}}}catch(i){n.e(i)}finally{n.f()}return a}))),(null===(i=c=(null===a||void 0===a||null===(n=a.bearish_data)||void 0===n?void 0:n.map((function(e,t){var n,i;return(null===e||void 0===e?void 0:e["Bearish Double Close Outside Bar"])||(null===a||void 0===a||null===(n=a.bullish_data)||void 0===n||null===(i=n[t])||void 0===i?void 0:i["Bullish Double Close Outside Bar"])})))||c)||void 0===i?void 0:i.length)?[{x:null===e||void 0===e?void 0:e.x,y:null===(o=c)||void 0===o?void 0:o.map((function(t,a){var n=(e.max-e.min)/100*2.5;return t?e.close[a]>e.open[a]?Number(e.low[a])-n:Number(e.high[a])+n:null})),showlegend:!1,mode:"markers",marker:{color:null===(r=c)||void 0===r?void 0:r.map((function(t,a){return t?e.close[a]<e.open[a]?"red":"green":null})),symbol:c.map((function(t,a){return t?e.close[a]<e.open[a]?"triangle-down":"triangle-up":null})),size:7},hoverinfo:"skip"}]:[]},H=function(e){var t=e.patternTrigger;return(null===t||void 0===t?void 0:t.length)?[{x:null===e||void 0===e?void 0:e.x,y:null===t||void 0===t?void 0:t.map((function(t,a){return t?e.close[a]>e.open[a]?Number(e.low[a]):Number(e.high[a]):null})),showlegend:!1,mode:"markers",marker:{color:null===t||void 0===t?void 0:t.map((function(t,a){return t?(e.close[a],e.open[a],"red"):null})),symbol:t.map((function(t,a){return t?(e.close[a],e.open[a],"x"):null})),size:7},hoverinfo:"skip"}]:[]},B=a(728),F=a(731),N=a.n(F)()(B),W=function(e){var t,a=e.data,i=e.layout,o=e.templates,r=e.loader,s=e.separateGraphs,d=e.onHover,u=e.onUnhover,h=e.onClick,m=e.toggleFirstDayLine,x=e.onDoubleClick,j=e.strategiesData,p=e.id,g=e.setLayout,y=e.dualChartWidth,f=e.sidebarWidth;null===(t=document.querySelector('[data-title="Autoscale"]'))||void 0===t||t.addEventListener("onclick",(function(e){console.log("blah")}));var O=Object(n.useState)([]),v=Object(l.a)(O,2),k=v[0],w=v[1];return Object(n.useEffect)((function(){var e=[];(null===s||void 0===s?void 0:s.length)&&s.forEach((function(t){var a,n;e.push(t),(null===t||void 0===t||null===(a=t.templates)||void 0===a?void 0:a.length)&&(null===(n=t.templates)||void 0===n||n.forEach((function(t){e.push(t)})))})),w(e)}),[s]),r?Object(S.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(S.jsx)(N,{id:p,onClick:h,onDoubleClick:x,onHover:d,onUnhover:u,data:[a].concat(Object(b.a)(o||[]),Object(b.a)(k)),layout:Object(c.a)(Object(c.a)({},i),{},{shapes:[].concat(Object(b.a)(E(m,a)),Object(b.a)(D(j,a)))}),config:{scrollZoom:!0},useResizeHandler:!0,onRelayout:function(e){e["xaxis.autorange"]&&g(Object(c.a)(Object(c.a)({},i),{},{xaxis:Object(c.a)(Object(c.a)({},i.xaxis),{},{autorange:!1,range:[a.x.length-280,a.x.length-1]}),width:window.innerWidth-y-f,shapes:[].concat(Object(b.a)(E(m,a)),Object(b.a)(D(j,a)))}))}})},R=function(e){var t=e.selectedStock,a=e.ohlc,n=a.high,i=a.low,o=a.open,r=a.close,c=a.ConfrimLow,l=a.ConfrimHigh,s=e.selectedPattern,d=e.selectedTime;return Object(S.jsxs)("div",{style:{marginLeft:"10px",fontSize:"12px"},children:[t&&Object(S.jsxs)("div",{children:[t.name," - ",t.description||"description"," - ",t.sources.length&&String(t.sources[0]).toUpperCase()," - ",d.desc]}),Object(S.jsxs)("div",{children:["Open: ",o," High: ",n," Low: ",i," Close: ",r]}),s?Object(S.jsxs)("div",{children:["Pattern: ",s]}):Object(S.jsx)(S.Fragment,{}),c?Object(S.jsxs)("div",{children:["Confirm Low: ",i]}):Object(S.jsx)(S.Fragment,{}),l?Object(S.jsxs)("div",{children:["Confirm High: ",n]}):Object(S.jsx)(S.Fragment,{})]})};function z(e){var t,a=e.onHover,i=e.onUnhover,o=e.onClick,r=e.pointIndex,s=e.graphType,d=e.style,m=e.layout,p=e.toggleFirstDayLine,g=e.switchToggle,f=e.selectedTemp,v=e.selectedPattern,k=e.type,w=e.onDoubleClick,D=e.selectedStock,E=e.selectedTime,_=e.selectedCategory,B=e.id,F=e.setLayout,N=e.selectedStrategy,z=e.enableDualChart,P=e.sidebarWidth,U=e.dualChartWidth,G=e.dataBaseUrl,V=Object(n.useState)(Object(c.a)({},O)),X=Object(l.a)(V,2),q=X[0],J=X[1],K=Object(n.useState)(f),Y=Object(l.a)(K,2),Z=Y[0],$=Y[1],Q=Object(n.useState)(null),ee=Object(l.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){$(f)}),[f]),Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N||!N.length){e.next=5;break}return e.next=3,x.a.get("/stocks/".concat(null===(t=N[0])||void 0===t?void 0:t.value,"?interval=").concat(E.name,"&watch_list=").concat(_,"&trends_required=true"));case 3:n=e.sent,ae(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N,_,E]);var ne=Object(n.useState)(!1),ie=Object(l.a)(ne,2),oe=ie[0],re=ie[1],ce=function(e,t,a,n,i,o,r,l,s,d){return function(){var m=Object(h.a)(u.a.mark((function h(m,x,p,g,f){var v,k,w,S;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(null===(v=document.querySelector('[data-title="Autoscale"]'))||void 0===v||v.click(),e&&(null===m||void 0===m?void 0:m.name)&&!(null===m||void 0===m?void 0:m.selectedSource)){u.next=3;break}return u.abrupt("return");case 3:return t(!0),S="stocks".concat(d||"","?category=").concat(e,"&symbol=").concat(null===(k=m.name)||void 0===k?void 0:k.toLowerCase(),"&source=").concat((null===m||void 0===m?void 0:m.selectedSource)||(null===m||void 0===m||null===(w=m.sources)||void 0===w?void 0:w.length)&&m.sources[0],"&interval=").concat(x.name),p&&(null===p||void 0===p?void 0:p.id)>0&&(S+="&template=".concat(p.id)),(null===g||void 0===g?void 0:g.length)&&(S+="&pattern=".concat(g)),f&&(S+="&meta_template=".concat(f)),u.next=10,j(S).then((function(e){var d;t(!1);var u=Object(b.a)(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data),h=[],m=[],j=[],v=[],k=[],w=[],S=[],M=[],L=[],T=[],D=p&&p.merged,E=D;Object.keys(D).length&&Object.keys(D).forEach((function(e){E[e].data=[]}));var A=p&&p.separate,_=A;Object.keys(A).length&&Object.keys(A).forEach((function(e){_[e].data=[]})),null===u||void 0===u||u.forEach((function(e){var t,a,n,i,o;h.push(e.high),m.push(e.low),j.push(e.open),v.push(e.close),f&&(L.push(e["meta-indicators"]["Confrim High"]),T.push(e["meta-indicators"]["Confrim Low"])),void 0!==(null===(t=e[g])||void 0===t?void 0:t.pattern_end)&&void 0!==(null===(a=e[g])||void 0===a?void 0:a.trigger)?(w.push(null===(n=e[g])||void 0===n?void 0:n.pattern_end),S.push(null===(i=e[g])||void 0===i?void 0:i.trigger)):void 0!==e[g]&&w.push(e[g]),k.push(new Date(e.date).toUTCString()),p&&(D&&Object.keys(D).length&&Object.keys(D).forEach((function(t){E[t].data=[].concat(Object(b.a)(E[t].data),[e.indicators[t]])})),A&&Object.keys(A).length&&Object.keys(A).forEach((function(t){_[t].data=[].concat(Object(b.a)(_[t].data),[_[t].customLine?_[t].customLine:e.indicators[t]])})),6===p.id&&M.push(null===(o=e.indicators)||void 0===o?void 0:o.elder_impulse_system))}));for(var I,H=Object(c.a)(Object(c.a)({},a),p.layout),B=0;B<23;B++)h.push(null),m.push(null),j.push(null),v.push(null),k.push(new Date(Date.now(k[k.length-1])+(B+1)*x.ms).toUTCString()),p&&(D&&Object.keys(D).forEach((function(e){E[e].data=[].concat(Object(b.a)(E[e].data),[null])})),A&&Object.keys(A).forEach((function(e){_[e].data=[].concat(Object(b.a)(_[e].data),[null])})));p&&n(Object(c.a)(Object(c.a)({},p),{},{merged:E,separate:_})),i(Object(c.a)(Object(c.a)({},O),{},{realHigh:h,high:M.length?h.map((function(e,t){return M[t]?1!==M[t].is_red||1!==M[t].is_green?e:null:e})):h,low:m,open:j,close:v,x:k,hovertext:h,increasing:6===p.id?{fillcolor:"blue",line:{color:"ohlc"===r?"blue":"black",width:1}}:O.increasing,decreasing:6===p.id?{fillcolor:"blue",line:{color:"ohlc"===r?"blue":"black",width:1}}:O.decreasing,ConfrimHigh:L,ConfrimLow:T,patternData:w,patternTrigger:S,elder_impulse_system:M,max:(I=h,I.reduce((function(e,t){return Math.max(e,t)}))),min:C(m.filter((function(e){return 0!==e&&null!==e})))})),o(Object(c.a)(Object(c.a)({},H),{},{width:l?(window.innerWidth-s)/2:window.innerWidth-s,dualChartSet:l,height:window.innerHeight-80,xaxis:Object(c.a)(Object(c.a)({},a.xaxis),{},{rangeslider:{visible:!1},autorange:!1,range:[k.length-280,k.length-1],tickvals:Object(b.a)(k.filter((function(e,t){return t%15===0}))),ticktext:Object(b.a)(k.filter((function(e,t){return t%15===0})).map((function(e){var t=new Date(e);return y[t.getMonth()]+" "+t.getUTCFullYear()})))}),shapes:Object(b.a)(h.map((function(e,t){if(w[t]){var a=Math.min.apply(Math,[m[t],h[t],j[t],v[t]]),n=Math.max.apply(Math,[m[t],h[t],j[t],v[t]]);return{type:"rect",xref:"x",yref:"y",x0:String(new Date(k[t-1]).toUTCString()),y0:a,x1:String(new Date(k[t+1]).toUTCString()),width:1,y1:n,fillcolor:"yellow",opacity:.6,rightMargin:3,line:{width:2,color:j[t]<v[t]?"green":"red",opacity:1},hoverinfo:"x"}}return null})))}))})).catch((function(e){console.log("err",e),t(!1),i(null)}));case 10:case"end":return u.stop()}}),h)})));return function(e,t,a,n,i){return m.apply(this,arguments)}}()}(_,re,m,$,J,F,s,z,P,G);return Object(n.useEffect)((function(){E&&ce(D,E,Z,v,g)}),[D,E,_,v,g,Z.id,s,z]),q&&(null===q||void 0===q||null===(t=q.x)||void 0===t?void 0:t.length)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(R,{selectedStock:D,ohlc:{high:q.high[r],low:q.low[r],open:q.open[r],close:q.close[r],ConfrimHigh:null===q||void 0===q?void 0:q.ConfrimHigh[r],ConfrimLow:null===q||void 0===q?void 0:q.ConfrimLow[r]},selectedPattern:q.patternData[r]?"All Reversal Patterns"===v?A(q.patternData,r):v:void 0,selectedTime:E,pointIndex:r,data:q}),Object(S.jsx)(W,{id:B,onHover:a,onUnhover:i,onClick:o,onDoubleClick:function(){return w(k)},style:Object(c.a)(Object(c.a)({},d),{},{border:"1px solid red"}),data:Object(c.a)(Object(c.a)({},q),{},{type:s}),layout:m,toggleFirstDayLine:p,templates:[].concat(Object(b.a)(L(Z,q,r,s)),Object(b.a)(M(g,q,r)),Object(b.a)(I(q,v,null===te||void 0===te?void 0:te[D.name])),Object(b.a)(H(q))),separateGraphs:Object(b.a)(T(Z,q,r)),loader:oe,strategiesData:null===te||void 0===te?void 0:te[D.name],setLayout:F,dualChartWidth:U,sidebarWidth:P})]}):Object(S.jsx)(S.Fragment,{})}var P={width:"100%",height:"100%"},U=function(e){var t=e.layout,a=e.enableDualChart,o=e.graphType,r=e.selectedTemp,s=e.separateGraphs,d=e.toggleFirstDayLine,u=e.switchToggle,h=e.selectedPattern,b=e.setLayout,m=e.selectedStock,x=e.selectedTime,j=e.selectedCategory,p=e.selectedStrategy,g=e.sidebarWidth,y=e.secondaryLayout,f=e.setSecondaryLayout,O=e.dataBaseUrl,v=Object(n.useState)(null),k=Object(l.a)(v,2),w=k[0],C=k[1];Object(n.useEffect)((function(){var e=function(e){switch(e.name){case"1d":case"2d":case"3d":return{name:"1wk",desc:"1 Week",ms:6048e5};case"1wk":case"2wk":return{name:"1mo",desc:"1 Month",ms:2629746e3};default:return{name:"1d",desc:"1 Day",ms:864e5}}}(x);C(a?e:x)}),[x,a]);var M=Object(n.useState)("crosshair"),L=Object(l.a)(M,2),T=L[0],D=L[1],E=Object(n.useState)(""),A=Object(l.a)(E,2),_=A[0],I=A[1],H=Object(n.useState)(1),B=Object(l.a)(H,2),F=B[0],N=B[1],W=function(e){var t=Object(l.a)(e.points,1)[0];N(t.pointIndex),D("crosshair")},R=function(){D("crosshair")},U=function(){D("grabbing")},G=Object(n.useRef)(null),V=Object(n.useState)(!1),X=Object(l.a)(V,2),q=X[0],J=X[1],K=Object(n.useState)(0),Y=Object(l.a)(K,2),Z=Y[0],$=Y[1],Q=i.a.useCallback((function(){J(!1)}),[]),ee=i.a.useCallback((function(e){J(!0)}),[]),te=i.a.useCallback((function(e){if(q){var a;null===(a=document.querySelector('[data-title="Autoscale"]'))||void 0===a||a.click();var n=window.innerWidth-(G.current.getBoundingClientRect().right-e.clientX)-10;b(Object(c.a)(Object(c.a)({},t),{},{width:n,height:window.innerHeight-80})),f(Object(c.a)(Object(c.a)({},y),{},{width:G.current.getBoundingClientRect().right-e.clientX-10,height:window.innerHeight-80})),$(G.current.getBoundingClientRect().right-e.clientX)}}),[q,g]);return Object(n.useEffect)((function(){return window.addEventListener("mousemove",te),window.addEventListener("mouseup",Q),function(){window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",Q)}}),[te,Q]),t?Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)("div",{style:{height:"100vh",overflowY:"hidden",overflowX:"hidden"},children:Object(S.jsx)("div",{id:"default-chart",style:{cursor:T,marginTop:"52px",border:"default"===_?"4px solid #438695":"none"},children:Object(S.jsx)(z,{type:"default",onHover:W,onDoubleClick:function(e){return I(e)},onUnhover:R,onClick:U,pointIndex:F,graphType:o,style:P,enableDualChart:a,selectedTemp:r,layout:t,toggleFirstDayLine:d,switchToggle:u,selectedPattern:h,separateGraphs:s,selectedStock:m,id:"default",selectedTime:w,selectedCategory:j,setLayout:b,selectedStrategy:p,sidebarWidth:g,dualChartWidth:Z,dataBaseUrl:O})})}),a&&Object(S.jsxs)("div",{ref:G,className:"app-dualchart",style:{width:y.width+10+"px",marginTop:"52px"},onMouseDown:function(e){return e.preventDefault()},children:[Object(S.jsx)("div",{className:"app-dualchart-resizer",onMouseDown:ee}),Object(S.jsx)("div",{className:"app-dualchart-content",children:Object(S.jsx)("div",{id:"secondary-chart",style:{cursor:T,border:"secondary"===_?"4px solid #438695":"none"},children:Object(S.jsx)(z,{type:"secondary",onHover:W,onDoubleClick:function(e){return I(e)},graphType:o,style:P,enableDualChart:a,selectedTemp:r,layout:y,toggleFirstDayLine:d,switchToggle:u,selectedPattern:h,onUnhover:R,onClick:U,pointIndex:F,separateGraphs:s,selectedStock:m,id:"secondary",selectedTime:x,selectedCategory:j,setLayout:f,selectedStrategy:p,sidebarWidth:g,dualChartWidth:Z,dataBaseUrl:O})})})]})]}):Object(S.jsx)(S.Fragment,{})},G=a(1660),V=a(1659),X=a(1666),q=a(1663),J=a(1662),K=a(307),Y=a(1665),Z=a(1654),$=a(1655),Q=function(e){return Object(S.jsx)(Y.a,Object(c.a)({elevation:8},e))},ee=function(e){var t=e.options,a=e.value,i=e.label,o=e.handleChange,r=e.selectedStock,s=e.getOptionLabel,d=e.renderOption,u=Object(n.useState)(!1),h=Object(l.a)(u,2),m=h[0],x=h[1],j=Object(n.useRef)(null);Object(n.useEffect)((function(){x(!1)}),[r]);return Object(S.jsx)("div",{ref:j,onMouseLeave:function(){x(!1)},children:Object(S.jsx)(Z.a,{onKeyPress:function(e){(38===e.keyCode||40===e.keyCode)&&x(!1)},selectOnFocus:!1,blurOnSelect:"touch",onChange:function(e,t){o(t)},fullWidth:!0,open:m,onBlur:function(){x(!1)},options:Object(b.a)(t),onMouseLeave:function(){j.current.click()},onKeyDown:function(){x(!0)},onClick:function(){x(!0)},value:a,defaultValue:t.find((function(e){return e[0]})),PaperComponent:Q,getOptionLabel:s&&s,renderInput:d||function(e){return Object(S.jsx)($.a,Object(c.a)(Object(c.a)({},e),{},{label:i,variant:"standard",onClick:function(){x(!m)}}))}})})},te=function(e){var t=e.handleGrapthType,a=e.graphType,i=e.templateChange,o=e.setEnableDualChart,r=e.enableDualChart,c=e.handlePatternChange,s=e.selectedTime,d=e.hanldeSelectedTime,u=e.selectedTemp,h=e.selectedPattern,b=e.handlSwitchToggle,m=e.switchToggle,x=e.toggleFirstDayLine,p=e.setToggleFirstDayLine,y=e.selectedStock,f=e.dataBaseUrl,O=Object(n.useRef)(),k=Object(n.useState)([]),w=Object(l.a)(k,2),C=w[0],M=w[1];return Object(n.useEffect)((function(){j("stocks/patterns").then((function(e){var t;console.log("res",e),M((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]),Object(S.jsxs)(G.a,{container:!0,spacing:2,style:{position:"fixed",padding:"10px"},children:[Object(S.jsx)(G.a,{item:!0,md:2,sm:6,xs:12,children:Object(S.jsx)(ee,{options:C,value:h,label:"Pattern",handleChange:c,selectedStock:y})}),Object(S.jsx)(G.a,{item:!0,md:1,sm:6,xs:12,children:Object(S.jsx)(V.a,{control:Object(S.jsx)(X.a,{disabled:"1d"!==s.name,checked:x,onChange:function(e){p(e.target.checked)}}),label:"1st"})}),Object(S.jsx)(G.a,{item:!0,md:1,sm:2,xs:3,children:Object(S.jsxs)(J.a,{variant:"text","aria-label":"text button group",children:[Object(S.jsx)(q.a,{className:"btn ".concat("ohlc"!==a?"templateBtn":""),onClick:function(){return t("candlestick")},children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",fill:"currentColor",children:[Object(S.jsx)("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"}),Object(S.jsx)("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"}),Object(S.jsx)("path",{d:"M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"}),Object(S.jsx)("path",{d:"M10 4h1v3.5h-1zm0 16.5h1V24h-1z"})]})}),Object(S.jsx)(q.a,{className:"btn ".concat("ohlc"===a?"templateBtn":""),onClick:function(){return t("ohlc")},children:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",children:Object(S.jsx)("g",{fill:"none",stroke:"currentColor","stroke-linecap":"square",children:Object(S.jsx)("path",{d:"M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"})})})})]})}),Object(S.jsx)(G.a,{item:!0,md:2,children:Object(S.jsx)(ee,{options:[0,1,2,3,4],value:m,label:"MT4",handleChange:b,selectedStock:y})}),Object(S.jsx)(G.a,{item:!0,xs:2,children:Object(S.jsx)(ee,{options:g,value:s,label:"Time",handleChange:d,selectedStock:y,getOptionLabel:function(e){return e?null===e||void 0===e?void 0:e.name:null}})}),Object(S.jsx)(G.a,{item:!0,md:4,xs:4,children:Object(S.jsxs)(J.a,{variant:"text","aria-label":"text button group",children:[v.map((function(e,t){return Object(S.jsx)(q.a,{onClick:function(){return i(e)},className:"btn ".concat(u.id===e.id?"templateBtn":""),children:e.name},t)})),Object(S.jsx)(q.a,{onClick:function(){var e;o(!r),null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click()},className:"btn ".concat(r?"templateBtn":""),children:"Dual Chart"}),"/db_v1"!==f?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(K.b,{style:{display:"none"},ref:O,target:"_blank",to:"/db_v1"}),Object(S.jsx)(q.a,{onClick:function(){O.current.click()},children:" "})]}):Object(S.jsx)(S.Fragment,{})]})})]})},ae=a(734),ne=a.n(ae),ie=a(733),oe=a.n(ie),re=a(1658);function ce(e,t,a){return t.name<e.name?-1:t.name>e.name?1:0}var le=a(1661),se=a(1672),de=a(1670),ue=a(1673),he=a(1668),be=a(1669),me=a(1671),xe=a(1667),je=a(1651),pe=function(e){var t,a=e.row,n=e.index,i=e.selectedStock,o=e.handleStockChange,r=e.selectedTime,c=e.placeSelectedItemInTheMiddle,l=e.setSelectStockIndex,s=e.hanldeSelectedTime,d=(e.selectedStrategy,e.strategiesData);return a&&i?Object(S.jsxs)(xe.a,{className:a.name===i.name?"selectedRowStyle":"",active:a.name===i.name,onClick:function(){s(r),c(n),o(a),l(n)},focus:a.name===i.name,children:[Object(S.jsx)(he.a,{align:"center",children:a.name}),Object(S.jsx)(he.a,{align:"center",children:(null===a||void 0===a||null===(t=a.sources)||void 0===t?void 0:t.length)&&a.sources[0]}),Object(S.jsx)(he.a,{align:"center",children:(null===a||void 0===a?void 0:a.description)||"-"}),Object(S.jsx)(he.a,{align:"center",children:r.name}),d.map((function(e){var t,n,i,o,r,c,l,s,d,u,h,b;return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[null===a||void 0===a?void 0:a.name])||void 0===n?void 0:n.value)&&"temp"!==(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i[null===a||void 0===a?void 0:a.name])||void 0===o?void 0:o.value)?Object(S.jsxs)(he.a,{align:"center",children:["temp"!==(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(c=r[null===a||void 0===a?void 0:a.name])||void 0===c?void 0:c.value)?(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(s=l[null===a||void 0===a?void 0:a.name])||void 0===s?void 0:s.value)+", ":" ","temp"!==(null===e||void 0===e||null===(d=e.data)||void 0===d||null===(u=d[null===a||void 0===a?void 0:a.name])||void 0===u?void 0:u.time)?null===e||void 0===e||null===(h=e.data)||void 0===h||null===(b=h[null===a||void 0===a?void 0:a.name])||void 0===b?void 0:b.time:" "]}):Object(S.jsx)(S.Fragment,{})}))]},n):Object(S.jsx)(S.Fragment,{})},ge=function(e){var t,a,n=e.height,i=e.scrollableListRef,o=e.selectedStrategy,r=e.orderBy,c=e.createSortHandler,l=e.order,s=e.placeSelectedItemInTheMiddle,d=e.selectedStock,u=e.hanldeSelectedTime,h=e.handleStockChange,m=e.setSelectStockIndex,x=e.selectedTime,j=e.stocks,p=e.setStocks,g=e.strategiesData;return Object(S.jsx)(be.a,{sx:{maxHeight:n-20-25,margin:"10px 0px",overflowX:"auto"},children:Object(S.jsxs)(de.a,{sx:{minWidth:"300px"},ref:i,stickyHeader:!0,"aria-label":"sticky table",children:[Object(S.jsx)(me.a,{children:Object(S.jsx)(xe.a,{children:[{label:"Symbol",numeric:!1},{label:"Sources",numeric:!1},{label:"Description",numeric:!1},{label:"Time",numeric:!1}].concat(Object(b.a)((null===g||void 0===g?void 0:g.length)&&"temp"!==(null===(t=g[0].data)||void 0===t||null===(a=t[null===d||void 0===d?void 0:d.name])||void 0===a?void 0:a.value)?o.map((function(e){return{label:e.name,numeric:!1}})):[])).map((function(e,t){return Object(S.jsx)(he.a,{sx:{minWidth:"100px"},align:(e.numeric,"center"),sortDirection:r===e.label&&l,children:Object(S.jsxs)(le.a,{active:r===e.label,direction:r===e.label?l:"asc",onClick:c(e.label),children:[e.label,r===e.id?Object(S.jsx)(se.a,{component:"span",sx:je.a,children:"desc"===l?"sorted descending":"sorted ascending"}):null]})},t)}))})}),Object(S.jsx)(ue.a,{children:j.map((function(e,t){return Object(S.jsx)(pe,{row:e,index:t,selectedStock:d,handleStockChange:h,setSelectStockIndex:m,selectedTime:x,placeSelectedItemInTheMiddle:s,setStocks:p,stocks:j,hanldeSelectedTime:u,selectedStrategy:o,strategiesData:g},t)}))})]})})},ye=Object(S.jsx)(oe.a,{fontSize:"small"}),fe=Object(S.jsx)(ne.a,{fontSize:"small"}),Oe=function(e){var t=e.handleStockChange,a=e.selectedStock,o=e.stocks,r=e.setStocks,s=e.height,d=e.scrollableListRef,m=e.placeSelectedItemInTheMiddle,p=e.selectedCategory,y=e.setSelectedCategory,f=e.hanldeSelectedTime,O=e.setLayout,v=e.layout,w=e.setSidebarWidth,C=e.sidebarWidth,M=e.enableDualChart,L=e.selectedStrategy,T=e.setSelectedStrategy,D=e.secondaryLayout,E=e.setSecondaryLayout,A=Object(n.useState)([]),_=Object(l.a)(A,2),I=_[0],H=_[1],B=Object(n.useState)(0),F=Object(l.a)(B,2),N=F[0],W=F[1],R=Object(n.useState)([]),z=Object(l.a)(R,2),P=z[0],U=z[1],V=Object(n.useState)(!1),X=Object(l.a)(V,2),q=X[0],J=X[1],K=Object(n.useState)({name:"1d",ms:864e5}),Y=Object(l.a)(K,2),Q=Y[0],ee=Y[1];Object(n.useEffect)((function(){J(!0),j("/stocks/watchlish").then((function(e){var t;H((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[]),J(!1)})).catch((function(){J(!1)}))}),[]),Object(n.useEffect)((function(){j("stocks/watchlish/"+p).then((function(e){var a,n;r((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.list)||[]),W(0),t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.list[0])}))}),[p]),Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L||!L.length){e.next=7;break}return J(!0),e.next=4,x.a.get("/stocks/".concat(null===(t=L[0])||void 0===t?void 0:t.value,"?interval=").concat(Q.name,"&watch_list=").concat(p));case 4:a=e.sent,J(!1),U([{data:a.data.data}]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L,p,Q]);var te=function(e){38===e.keyCode?(f(Q),t(o[N-1]),W(N-1),m(N-1)):40===e.keyCode&&(f(Q),t(o[N+1]),W(N+1),m(N+1))},ae=i.a.useState("asc"),ne=Object(l.a)(ae,2),ie=ne[0],oe=ne[1],le=i.a.useState("Symbol"),se=Object(l.a)(le,2),de=se[0],ue=se[1],he=function(e){return function(t){be(t,e)}},be=function(e,t){var a=de===t&&"asc"===ie;oe(a?"desc":"asc"),ue(t),r(function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(o,function(e,t){return"desc"===e?function(e,t){return ce(e,t)}:function(e,t){return-ce(e,t)}}(a?"desc":"asc")))},me=Object(n.useMemo)((function(){return Object(S.jsxs)(G.a,{container:!0,children:[Object(S.jsxs)(G.a,{container:!0,item:!0,md:12,sm:12,xs:12,spacing:2,children:[Object(S.jsx)(G.a,{item:!0,md:3,sm:3,xs:3,children:Object(S.jsx)(Z.a,{blurOnSelect:!0,onChange:function(e,t){y(t)},fullWidth:!0,id:"free-solo-2-demo",options:I,disableListWrap:!0,value:p,renderInput:function(e){return Object(S.jsx)($.a,Object(c.a)(Object(c.a)({},e),{},{label:"Categrories",variant:"standard",InputProps:Object(c.a)(Object(c.a)({},e.InputProps),{},{type:"search"})}))}})}),Object(S.jsx)(G.a,{item:!0,md:2,sm:2,xs:2,children:Object(S.jsx)(Z.a,{blurOnSelect:!0,onChange:function(e,t){ee(t),f(t)},fullWidth:!0,disableClearable:!0,getOptionLabel:function(e){return e?null===e||void 0===e?void 0:e.name:null},options:g,value:Q,renderInput:function(e){return Object(S.jsx)($.a,Object(c.a)(Object(c.a)({},e),{},{label:"Time",variant:"standard",InputProps:Object(c.a)(Object(c.a)({},e.InputProps),{},{type:"search"})}))}})}),Object(S.jsx)(G.a,{item:!0,md:7,sm:7,xs:7,children:Object(S.jsx)(Z.a,{multiple:!0,id:"checkboxes-tags-demo",limitTags:1,size:"small",options:k,onChange:function(){var e=Object(h.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&a.length&&T(Object(b.a)(a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getOptionLabel:function(e){return e.name},renderOption:function(e,t,a){var n=a.selected;return Object(S.jsxs)("li",Object(c.a)(Object(c.a)({},e),{},{children:[Object(S.jsx)(re.a,{icon:ye,checkedIcon:fe,checked:n}),t.name]}))},renderInput:function(e){return Object(S.jsx)($.a,Object(c.a)(Object(c.a)({},e),{},{label:"Strategies",placeholder:"Strategies"}))}})})]}),Object(S.jsx)(G.a,{item:!0,md:12,sm:12,xs:12,children:Object(S.jsx)("div",{onKeyPress:te,children:Object(S.jsx)(ge,{height:s,scrollableListRef:d,selectedStrategy:L,orderBy:de,createSortHandler:he,order:ie,placeSelectedItemInTheMiddle:m,selectedStock:a,hanldeSelectedTime:f,handleStockChange:t,setSelectStockIndex:W,selectedTime:Q,stocks:o,setStocks:r,strategiesData:P})})})]})}),[o,a,ie,de,p,I,o,Q,L,P]),xe=Object(n.useRef)(null),je=Object(n.useState)(!1),pe=Object(l.a)(je,2),Oe=pe[0],ve=pe[1],ke=i.a.useCallback((function(e){if(Oe){var t=window.innerWidth-(xe.current.getBoundingClientRect().right-e.clientX)-10;M&&(t=Math.floor(t/2)),O(Object(c.a)(Object(c.a)({},v),{},{width:t,height:window.innerHeight-80})),E(Object(c.a)(Object(c.a)({},D),{},{width:t})),w(xe.current.getBoundingClientRect().right-e.clientX)}}),[Oe]),we=i.a.useCallback((function(){ve(!1)}),[]),Se=i.a.useCallback((function(e){ve(!0)}),[]);return Object(n.useEffect)((function(){return window.addEventListener("mousemove",ke),window.addEventListener("mouseup",we),function(){window.removeEventListener("mousemove",ke),window.removeEventListener("mouseup",we)}}),[ke,we]),Object(n.useEffect)((function(){return window.addEventListener("keydown",te),function(){window.removeEventListener("keydown",te)}})),Object(S.jsxs)("div",{onKeyDown:te,ref:xe,className:"app-sidebar",style:{width:C+"px",height:"calc(100vh - ".concat(52,"px")},onMouseDown:function(e){return e.preventDefault()},children:[q?Object(S.jsx)("div",{className:"watchListLoader"}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)("div",{className:"app-sidebar-resizer",onMouseDown:Se}),Object(S.jsx)("div",{className:"app-sidebar-content",style:{overflowX:"clip"},children:me})]})},ve=Object(s.a)((function(){return{container:function(e){return{width:"calc(100% - ".concat(e,"px)")}}}}));var ke=function(e){var t=e.dataBaseUrl,a=Object(n.useState)([]),o=Object(l.a)(a,2),r=o[0],s=o[1],d=Object(n.useState)(6),u=Object(l.a)(d,2),h=u[0],b=u[1],m=ve(h),x=Object(n.useState)("candlestick"),j=Object(l.a)(x,2),g=j[0],y=j[1],O=Object(n.useState)("FOREX"),v=Object(l.a)(O,2),k=v[0],w=v[1],C=Object(n.useState)(!0),M=Object(l.a)(C,2),L=M[0],T=M[1],D=Object(n.useState)(!1),E=Object(l.a)(D,2),A=E[0],_=E[1],I=Object(n.useState)(Object(c.a)({},p)),H=Object(l.a)(I,2),B=H[0],F=H[1],N=Object(n.useRef)(null),W=Object(n.useState)("MMM"),R=Object(l.a)(W,2),z=R[0],P=R[1],G=Object(n.useState)(null),V=Object(l.a)(G,2),X=V[0],q=V[1],J=Object(n.useState)({name:"1d",ms:864e5,desc:"1 Day"}),K=Object(l.a)(J,2),Y=K[0],Z=K[1],$=Object(n.useState)(Object(c.a)(Object(c.a)({},B),{},{width:"50%",height:window.innerHeight-80})),Q=Object(l.a)($,2),ee=Q[0],ae=Q[1],ne=Object(n.useState)(f),ie=Object(l.a)(ne,2),oe=ie[0],re=ie[1],ce=Object(n.useState)(0),le=Object(l.a)(ce,2),se=le[0],de=le[1],ue=Object(n.useState)([]),he=Object(l.a)(ue,2),be=he[0],me=he[1];Object(n.useEffect)((function(){}),[]),i.a.useEffect((function(){window.addEventListener("resize",(function(){var e;B.width===window.innerWidth-10&&B.height===window.innerHeight-80||(null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click(),F(Object(c.a)(Object(c.a)({},B),{},{width:window.innerWidth-10,height:window.innerHeight-80})))}))}),[window.innerWidth,window.innerHeight]);var xe=function(e){P(e)},je=function(e){"1d"!==(null===e||void 0===e?void 0:e.name)&&T(!1),Z(e)};return Object(S.jsxs)("div",{className:"app-container",children:[Object(S.jsxs)("div",{className:m.container+" app-frame",children:[Object(S.jsx)(te,{setEnableDualChart:_,enableDualChart:A,handleGrapthType:function(e){y(e)},graphType:g,templateChange:function(e){re(e)},selectedStock:z,handleStockChange:xe,handlePatternChange:function(e){q(e)},selectedTime:Y,hanldeSelectedTime:je,selectedTemp:oe,selectedPattern:X,handlSwitchToggle:function(e){de(e)},switchToggle:se,toggleFirstDayLine:L,setToggleFirstDayLine:T,dataBaseUrl:t}),Object(S.jsx)("div",{style:{height:"100vh",overflowY:"hidden"},children:Object(S.jsx)(U,{layout:B,enableDualChart:A,graphType:g,selectedTemp:oe,toggleFirstDayLine:L,switchToggle:se,selectedPattern:X,selectedStock:z,setLayout:F,selectedTime:Y,selectedCategory:k,selectedStrategy:be,sidebarWidth:h,secondaryLayout:ee,setSecondaryLayout:ae,dataBaseUrl:t})})]}),Object(S.jsx)(Oe,{selectedStock:z,handleStockChange:xe,stocks:r,setStocks:s,height:B.height,scrollableListRef:N,placeSelectedItemInTheMiddle:function(e){var t=315+21*e;N.current.scrollTo(t,0)},selectedCategory:k,setSelectedCategory:w,hanldeSelectedTime:je,setLayout:F,layout:B,setSidebarWidth:b,sidebarWidth:h,enableDualChart:A,selectedStrategy:be,setSelectedStrategy:me,secondaryLayout:ee,setSecondaryLayout:ae})]})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1674)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),o(e),r(e)}))},Se=a(1653),Ce=a(1664),Me=a(736),Le=a(1652),Te="#901f61",De=Object(Me.a)(Object(Le.a)({palette:{primary:{main:Te,light:"#901f6117"},secondary:{main:"#829ae621"}},typography:{fontSize:12,fontFamily:"Arial",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,h1:{fontSize:26,wordBreak:"break-all"},h2:{fontSize:24,wordBreak:"break-all"},h3:{fontSize:22,wordBreak:"break-all"},h4:{fontSize:20,wordBreak:"break-all"},h5:{fontSize:18,wordBreak:"break-all"},h6:{fontSize:18,wordBreak:"break-all"},subtitle1:{fontSize:20,fontWeight:"bold",wordBreak:"break-all"},subtitle2:{wordBreak:"break-all"},body1:{wordBreak:"break-all"},body2:{fontSize:13,wordBreak:"break-all"}},props:{MuiTextField:{variant:"standard",margin:"8px"},MuiTooltip:{placement:"bottom",arrow:!0}},overrides:{MuiInput:{input:{fontSize:12}},MuiInputLabel:{root:{fontSize:12}},MuiTooltip:{tooltip:{fontSize:"10px",color:"white",backgroundColor:Te},arrow:{color:Te,backgroundColor:"white"}},MuiCheckbox:{colorSecondary:{"&$checked":{color:Te}}},MuiTableCell:{root:{padding:"8px",fontSize:"12px",minWidth:"10px",maxWidth:"10px",width:"10px"},head:{background:"#484848",color:"white",minWidth:"10px",maxWidth:"10px",width:"10px"}}}})),Ee=a(29);r.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(Se.a,{injectFirst:!0,children:Object(S.jsx)(Ce.a,{theme:De,children:Object(S.jsx)(K.a,{children:Object(S.jsxs)(Ee.c,{children:[Object(S.jsx)(Ee.a,{path:"/",element:Object(S.jsx)(ke,{dataBaseUrl:""})}),Object(S.jsx)(Ee.a,{path:"/db_v1",element:Object(S.jsx)(ke,{dataBaseUrl:"/db_v1"})})]})})})})}),document.getElementById("root")),we()},243:function(e,t,a){},757:function(e,t,a){},977:function(e,t){},979:function(e,t){}},[[1580,1,2]]]);
//# sourceMappingURL=main.2d98fa0a.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1055:function(e,t){},1563:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(138),o=a.n(r),i=(a(737),a(53)),l=a(29),s=a(19),u=(a(429),a(712)),x=a(715),p=a.n(x),b=a(4),j=p()(u),d=function(e){var t=e.style,a=e.data,n=e.layout,c=e.templates;return Object(b.jsx)(j,{style:t,data:[a].concat(Object(l.a)(c||[])),layout:n,config:{responsive:!0}})},m=a(718),h=a.n(m),y=a(717),O=a.n(y),f=a(1623),g=a(1622),k=a(1618),v=a(420),T=a.n(v),w=a(716),S=a(421),C=a.n(S);C.a.defaults.baseURL="http://3.210.142.92:5000/";var G=function(){var e=Object(w.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(t)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=a(1621),F=a(1619),M=[{name:"1h",ms:36e5},{name:"1d",ms:864e5},{name:"1wk",ms:6048e5},{name:"1mo",ms:2629746e3}],I=function(e){var t=e.handleGrapthType,a=e.graphType,c=e.templateChange,r=e.templatesOptions,o=e.data,l=e.selectedStock,u=e.handleStockChange,x=e.selectedTime,p=e.hanldeSelectedTime,j=Object(n.useState)([]),d=Object(s.a)(j,2),m=d[0],y=d[1];return Object(n.useEffect)((function(){G("stocks/available").then((function(e){var t;console.log("res",e),y((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]),Object(b.jsxs)(D.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",style:{padding:"10px"},children:[Object(b.jsx)(D.a,{item:!0,xs:2,children:Object(b.jsx)(k.a,{value:l,disableClearable:!0,textInputProps:{clearButtonMode:"hidden"},onChange:function(e,t){u(t)},fullWidth:!0,inputValue:l,options:m,renderInput:function(e){return Object(b.jsx)(F.a,Object(i.a)(Object(i.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(b.jsx)(D.a,{item:!0,xs:1,children:Object(b.jsxs)(g.a,{variant:"text","aria-label":"text button group",children:[Object(b.jsx)(f.a,{onClick:function(){return t("candlestick")},children:Object(b.jsx)(O.a,{color:"candlestick"===a?"primary":"action"})}),Object(b.jsx)(f.a,{onClick:function(){return t("ohlc")},children:Object(b.jsx)(h.a,{color:"ohlc"!==a?"primary":"action"})})]})}),Object(b.jsx)(D.a,{item:!0,xs:4,children:Object(b.jsx)(g.a,{variant:"text","aria-label":"text button group",children:M.map((function(e,t){return Object(b.jsx)(f.a,{onClick:function(){return p(e)},color:x.name!==e.name?"primary":"error",children:e.name},t)}))})}),Object(b.jsxs)(D.a,{item:!0,xs:5,children:[" ",Object(b.jsx)(g.a,{variant:"text","aria-label":"text button group",children:r(o).map((function(e,t){return Object(b.jsx)(f.a,{onClick:function(){return c(e)},children:e.name},t)}))})]})]})},L=function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(t,a){return t<e.close[a]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}},z=function(e){return{graph:[{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},B=function(e,t){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(255,0,0,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},E=function(e){return[{name:"T1",id:1,template:Object(i.a)({},L(e))},{name:"T2",id:2,template:Object(i.a)({},z(e))},{name:"T3",id:3,template:Object(i.a)({},B(e))}]},J={x:[],close:[],decreasing:{fillcolor:"black",line:{color:"black"}},high:[],increasing:{fillcolor:"white",line:{color:"black"}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"candlestick",xaxis:"x",yaxis:"y"};var P=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("candlestick"),o=Object(s.a)(r,2),u=o[0],x=o[1],p=Object(n.useState)([]),j=Object(s.a)(p,2),m=j[0],h=j[1],y=Object(n.useState)([]),O=Object(s.a)(y,2),f=O[0],g=O[1],k=Object(n.useState)([]),v=Object(s.a)(k,2),T=v[0],w=v[1],S=Object(n.useState)({dragmode:"zoom",margin:{t:0,l:30,r:0,b:25},showlegend:!1,xaxis:{domain:[0,1],range:[new Date("Tue, 16 Jan 2021 18:30:00 GMT"),new Date("Wed, 08 Feb 2021 14:32:32 GMT")],rangeslider:{visible:!1},title:"Date",type:"date"},yaxis:{domain:[0,1],autorange:!0,position:1,side:"bottom"},autosize:!0,height:550}),C=Object(s.a)(S,2),D=C[0],F=C[1],M=Object(n.useState)("MMM"),L=Object(s.a)(M,2),z=L[0],B=L[1],P=Object(n.useState)({name:"1d",ms:864e5}),A=Object(s.a)(P,2),W=A[0],N=A[1],R=Object(n.useState)(Object(i.a)({},J)),U=Object(s.a)(R,2),V=U[0],q=U[1],H=function(e,t){c(!0),G("stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=").concat(t.name)).then((function(e){var a,n;c(!1);var r=[],o=[],l=[],s=[],u=[];null===e||void 0===e||null===(a=e.data)||void 0===a||null===(n=a.data)||void 0===n||n.forEach((function(e){r.push(e.high),o.push(e.low),l.push(e.open),s.push(e.close),u.push(new Date(e.date))}));for(var x=0;x<10;x++)r.push(null),o.push(null),l.push(null),s.push(null),u.push(new Date(Date.now(u[u.length-1])+(x+1)*t.ms));q(Object(i.a)(Object(i.a)({},J),{},{high:r,low:o,open:l,close:s,x:u})),F(Object(i.a)(Object(i.a)({},D),{},{xaxis:Object(i.a)(Object(i.a)({},D.xaxis),{},{range:[new Date(Date.now(u[u.length-1])-214*t.ms),new Date(u[u.length-1])],rangeslider:{visible:!1}})}))})).catch((function(e){c(!1)}))};return Object(n.useState)((function(){H(z,W)}),[]),Object(b.jsxs)(b.Fragment,{children:[a?Object(b.jsx)("div",{className:"loader"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)("div",{children:[Object(b.jsx)(I,{graphType:u,handleGrapthType:function(e){x(e)},templateChange:function(e){var t,a;t=e.id,a=e.template,console.log("Arr",a.subGraphs),-1!==f.indexOf(t)?(w(Object(l.a)(T.filter((function(e){return e.templateType!==t})))),h(Object(l.a)(m.filter((function(e){return e.templateType!==t})))),g(Object(l.a)(f.filter((function(e){return e!==t}))))):(g([].concat(Object(l.a)(f),[t])),w([].concat(Object(l.a)(T),Object(l.a)(a.graph))),h([].concat(Object(l.a)(m),Object(l.a)(a.subGraphs))))},templatesOptions:E,data:V,selectedStock:z,selectedTime:W,hanldeSelectedTime:function(e){N(e),H(z,e)},handleStockChange:function(e){B(e),H(e,W)}}),Object(b.jsxs)("div",{id:"fullscreen",children:[Object(b.jsx)(d,{style:{width:"100%",height:"100%"},data:Object(i.a)(Object(i.a)({},V),{},{type:u}),layout:D,templates:T}),m.map((function(e){return Object(b.jsx)(d,{style:{width:"100%"},data:Object(i.a)({},e),layout:Object(i.a)(Object(i.a)({},D),{},{autosize:!0,height:150}),templates:e.mergedGraphs},e)}))]})]})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1625)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),A()},429:function(e,t,a){},737:function(e,t,a){},938:function(e,t){},940:function(e,t){}},[[1563,1,2]]]);
//# sourceMappingURL=main.fc6d724c.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1055:function(e,t){},1563:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(138),l=a.n(r),c=(a(737),a(53)),o=a(27),s=a(19),u=(a(429),a(712)),x=a(715),p=a.n(x),d=a(4),b=p()(u),m=function(e){var t=e.style,a=e.data,n=e.layout,i=e.templates,r=e.time;return e.loader?Object(d.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(d.jsx)(b,{style:t,data:[a].concat(Object(o.a)(i||[])),layout:n,config:{responsive:!0}},r)},h=a(718),y=a.n(h),j=a(717),O=a.n(j),f=a(1623),g=a(1622),v=a(1618),k=a(420),T=a.n(k),w=a(716),S=a(421),M=a.n(S);M.a.defaults.baseURL="http://3.210.142.92:5000/";var C=function(){var e=Object(w.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(t)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=a(1621),A=a(1619),G=[{name:"1h",ms:36e5},{name:"1d",ms:864e5},{name:"1wk",ms:6048e5},{name:"1mo",ms:2629746e3}],L=[{name:"T1",id:1},{name:"T2",id:2},{name:"T3",id:3}],I=function(e){var t=e.handleGrapthType,a=e.graphType,i=e.templateChange,r=(e.templatesOptions,e.data,e.selectedStock),l=e.handleStockChange,o=e.selectedTime,u=e.hanldeSelectedTime,x=Object(n.useState)([]),p=Object(s.a)(x,2),b=p[0],m=p[1];return Object(n.useEffect)((function(){C("stocks/available").then((function(e){var t;console.log("res",e),m((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]),Object(d.jsxs)(D.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",style:{padding:"10px"},children:[Object(d.jsx)(D.a,{item:!0,xs:2,children:Object(d.jsx)(v.a,{value:r,disableClearable:!0,onChange:function(e,t){l(t)},fullWidth:!0,inputValue:r,options:b,renderInput:function(e){return Object(d.jsx)(A.a,Object(c.a)(Object(c.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(d.jsx)(D.a,{item:!0,xs:1,children:Object(d.jsxs)(g.a,{variant:"text","aria-label":"text button group",children:[Object(d.jsx)(f.a,{onClick:function(){return t("candlestick")},children:Object(d.jsx)(O.a,{color:"candlestick"===a?"primary":"action"})}),Object(d.jsx)(f.a,{onClick:function(){return t("ohlc")},children:Object(d.jsx)(y.a,{color:"ohlc"!==a?"primary":"action"})})]})}),Object(d.jsx)(D.a,{item:!0,xs:4,children:Object(d.jsx)(g.a,{variant:"text","aria-label":"text button group",children:G.map((function(e,t){return Object(d.jsx)(f.a,{onClick:function(){return u(e)},color:o.name!==e.name?"primary":"error",children:e.name},t)}))})}),Object(d.jsx)(D.a,{item:!0,xs:5,children:Object(d.jsx)(g.a,{variant:"text","aria-label":"text button group",children:L.map((function(e,t){return Object(d.jsx)(f.a,{onClick:function(){return i(e)},children:e.name},t)}))})})]})},E=function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(t,a){return t<e.close[a]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}},F=function(e){return{graph:[{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},z=function(e,t){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:e.open.map((function(t,a){return t<e.close[a]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},N=function(e){return[{name:"T1",id:1,template:Object(c.a)({},E(e))},{name:"T2",id:2,template:Object(c.a)({},F(e))},{name:"T3",id:3,template:Object(c.a)({},z(e))}]},B={x:[],close:[],decreasing:{size:8,fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"candlestick",xaxis:"x",yaxis:"y"};var J=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)("candlestick"),l=Object(s.a)(r,2),u=l[0],x=l[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),h=(b[0],b[1],Object(n.useState)([])),y=Object(s.a)(h,2),j=(y[0],y[1],Object(n.useState)([])),O=Object(s.a)(j,2),f=(O[0],O[1],Object(n.useState)([])),g=Object(s.a)(f,2),v=g[0],k=g[1],T=Object(n.useState)([]),w=Object(s.a)(T,2),S=w[0],M=w[1],D=Object(n.useState)({dragmode:"zoom",margin:{r:10,t:25,b:0,l:60},showlegend:!1,xaxis:{domain:[0,1],range:[],rangeslider:{visible:!1},title:"Date",type:"date"},yaxis:{domain:[0,1],rangeslider:{visible:!1},position:1,side:"bottom"},opacity:.2,autosize:!0,height:550}),A=Object(s.a)(D,2),G=A[0],L=A[1],E=Object(n.useState)("MMM"),F=Object(s.a)(E,2),z=F[0],J=F[1],P=Object(n.useState)({name:"1d",ms:864e5}),H=Object(s.a)(P,2),R=H[0],U=H[1],V=Object(n.useState)(Object(c.a)({},B)),W=Object(s.a)(V,2),q=W[0],K=W[1],Q=function(e,t,a){i(!0);var n="stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=").concat(t.name);a&&(n+="&template=".concat(a)),C(n).then((function(e){var n,r;console.log("Total candles on time ",t.name," is ",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.length),i(!1);var l=Object(o.a)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data),s=[],u=[],x=[],p=[],d=[],b=[],m=[],h=[],y=[],j=[],O=[],f=[],g=[],v=[];null===l||void 0===l||l.forEach((function(e){var t,n,i;if(s.push(e.high),u.push(e.low),x.push(e.open),p.push(e.close),1===a)b.push(null===(t=e.indicators)||void 0===t?void 0:t.EMA0),m.push(null===(n=e.indicators)||void 0===n?void 0:n.EMA1),h.push(null===(i=e.indicators)||void 0===i?void 0:i.EMA2);else if(2===a){var r,l,c,o,k,T;y.push(null===(r=e.indicators)||void 0===r?void 0:r.MACD0),j.push(null===(l=e.indicators)||void 0===l?void 0:l.MACD1),O.push(null===(c=e.indicators)||void 0===c?void 0:c.MACD2),f.push(null===(o=e.indicators)||void 0===o?void 0:o.MACDSIGNAL0),g.push(null===(k=e.indicators)||void 0===k?void 0:k.MACDHIST1),v.push(null===(T=e.indicators)||void 0===T?void 0:T.MACDSIGNAL2)}d.push(new Date(e.date))}));for(var T=Math.min.apply(Math,Object(o.a)(u.filter((function(e){return null!==e})))),w=Math.min.apply(Math,Object(o.a)(p.filter((function(e){return null!==e})))),S=T>w?w:T,C=Math.min.apply(Math,Object(o.a)(u.filter((function(e){return null!==e})))),D=Math.max.apply(Math,Object(o.a)(p.filter((function(e){return null!==e})))),A=D>C?D:C,I=0;I<20;I++)s.push(null),u.push(null),x.push(null),p.push(null),1===a?(b.push(null),m.push(null),h.push(null)):2===a&&(y.push(null),j.push(null),O.push(null),f.push(null),g.push(null),v.push(null)),d.push(new Date(Date.now(d[d.length-1])+(I+1)*t.ms));1===a?k([{x:d,y:b,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:d,y:m,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:d,y:h,xaxis:"x",yaxis:"y",marker:{color:"blue"}}]):2===a&&M([{x:d,y:y,marker:{color:"blue"},xaxis:"x",yaxis:"y",templates:[{x:d,y:f,xaxis:"x",yaxis:"y",marker:{color:"black"}}]},{x:d,y:j,xaxis:"x",yaxis:"y",marker:{color:"black"},templates:[{x:d,y:g,type:"bar",xaxis:"x",yaxis:"y",marker:{color:g.map((function(e,t){return e>0?"green":"red"}))}}]},{x:d,y:O,xaxis:"x",yaxis:"y",marker:{color:"blue"},templates:[{x:d,y:v,xaxis:"x",yaxis:"y",marker:{color:"black"}}]}]),K(Object(c.a)(Object(c.a)({},B),{},{high:s,low:u,open:x,close:p,x:d})),L(Object(c.a)(Object(c.a)({},G),{},{yaxis:Object(c.a)(Object(c.a)({},G.yaxis),{},{rangeslider:{visible:!1},range:[S,A]}),xaxis:Object(c.a)(Object(c.a)({},G.xaxis),{},{range:[new Date(d[0]),new Date(d[d.length-1])],rangeslider:{visible:!1}})}))})).catch((function(e){i(!1)}))};return Object(n.useState)((function(){Q(z,R)}),[]),Object(d.jsxs)(d.Fragment,{children:[a?Object(d.jsx)("div",{className:"loader"}):Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("div",{style:{padding:"10px"},children:[Object(d.jsx)(I,{graphType:u,handleGrapthType:function(e){x(e)},templateChange:function(e){Q(z,R,e.id)},templatesOptions:N,data:q,selectedStock:z,selectedTime:R,hanldeSelectedTime:function(e){U(e),Q(z,e)},handleStockChange:function(e){J(e),Q(e,R)}}),Object(d.jsxs)("div",{id:"fullscreen",children:[Object(d.jsx)(m,{time:R,style:{width:"100%",height:"100%"},data:Object(c.a)(Object(c.a)({},q),{},{type:u}),layout:G,templates:v.length?Object(o.a)(v):[],loader:a}),S.map((function(e){return Object(d.jsx)(m,{templates:e.templates,style:{width:"100%"},data:Object(c.a)({},e),layout:{dragmode:"zoom",margin:{r:10,t:1,b:0,l:60},showlegend:!1,xaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},title:"Date",type:"date"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom"},opacity:.2,autosize:!0,height:150}},e)}))]})]})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1625)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),i(e),r(e),l(e)}))};l.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),P()},429:function(e,t,a){},737:function(e,t,a){},938:function(e,t){},940:function(e,t){}},[[1563,1,2]]]);
//# sourceMappingURL=main.6fa30940.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1083:function(e,t){},1565:function(e,t,a){"use strict";a.r(t);var l=a(0),i=a.n(l),n=a(141),o=a.n(n),r=(a(749),a(1637)),s=a(187),d=a.n(s);d.a.defaults.baseURL="http://3.210.142.92:5000/";const c=async(e,t,a)=>"post"===t?await d.a.post("".concat(e),a).then((e=>e)).catch((e=>{console.log(e)})):await d.a.get("".concat(e)).then((e=>e)).catch((e=>{console.log(e)})),u={dragmode:"pan",margin:{r:10,t:25,b:40,l:20},hovermode:"x",showlegend:!0,legend:{x:0,y:1,traceorder:"normal",font:{family:"sans-serif",size:12,color:"#000"},bgcolor:"#E2E2E211",bordercolor:"#FFFFFF"},xaxis:{domain:[0,1],rangeslider:{visible:!1},autorange:!1,type:"category",tickmode:"array",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom",type:"linear",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},opacity:.2,autosize:!0,width:window.innerWidth-10,height:window.innerHeight-80},m=[{name:"5m",desc:"5 Minutes",ms:3e5},{name:"10m",desc:"10 Minutes",ms:6e5},{name:"15m",desc:"15 Minutes",ms:9e5},{name:"30m",desc:"30 Minutes",ms:18e5},{name:"1h",desc:"1 Hour",ms:36e5},{name:"2h",desc:"2 Hour",ms:72e5},{name:"4h",desc:"4 Hour",ms:144e5},{name:"6h",desc:"6 Hour",ms:216e5},{name:"8h",desc:"8 Hour",ms:288e5},{name:"12h",desc:"12 Hour",ms:432e5},{name:"18h",desc:"18 Hour",ms:648e5},{name:"1d",desc:"1 Day",ms:864e5},{name:"2d",desc:"2 Day",ms:1728e5},{name:"3d",desc:"3 Day",ms:2592e5},{name:"1wk",desc:"1 Week",ms:6048e5},{name:"2wk",desc:"2 Week",ms:12096e5},{name:"1mo",desc:"1 Month",ms:2629746e3}],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],x={id:0,name:"T0",merged:{},separate:{}},g={x:[],name:"main",close:[],decreasing:{fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},low:[],open:[],type:"candlestick",hoverinfo:"x"},v=[{name:"T0",id:0,merged:{},separate:{},layout:{yaxis:{...u.yaxis,domain:[0,1]}}},{name:"T1",id:1,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 20",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"},hoverinfo:"x"},EMA1:{data:[],name:"EMA 22",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 26",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}}},separate:{"Volume EMA":{data:[],name:"Volume",marker:{color:"#9fa5c5"},yaxis:"y2",hoverinfo:"x",type:"bar",markerFn:(e,t)=>({color:t.open.map(((e,a)=>e<t.close[a]?"green":"red"))})}},layout:{yaxis:{...u.yaxis,domain:[.3,1]},yaxis2:{...u.yaxis,domain:[0,.25]}}},{name:"T2",id:2,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 10",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],xaxis:"x",yaxis:"y",name:"EMA 20",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},separate:{},layout:{yaxis:{...u.yaxis,domain:[0,1]}}},{name:"T3",id:3,merged:{donchian_price0:{data:[],name:"DONCHIAN AVG",xaxis:"x",yaxis:"y",marker:{color:"blue",size:12},line:{width:1}},donchian_min0:{data:[],name:"DONCHAIN MIN",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}},donchian_max0:{data:[],name:"DONCHAIN MAX",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}},ema_10:{data:[],name:"EMA 10",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}}},separate:{"%R0":{data:[],name:"%R(5)",type:"bar",marker:{color:"blue"},yaxis:"y2"},"%R1":{data:[],name:"%R(20)",type:"bar",marker:{color:"red"},yaxis:"y3"}},layout:{yaxis:{...u.yaxis,domain:[.55,1]},yaxis2:{...u.yaxis,domain:[.25,.5]},yaxis3:{...u.yaxis,domain:[0,.25]},xaxis:{...u.xaxis}}},{name:"T4",id:4,merged:{SMA0:{data:[],name:"MMA 20",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,173,89)"}},SMA1:{data:[],name:"MMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(253,91,252)"}},SMA2:{data:[],name:"MMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(172,91,170)"}},SMA3:{data:[],name:"MMA 200",xaxis:"x",yaxis:"y",marker:{color:"rgb(89,89,89)"}}},layout:{yaxis:{...u.yaxis,domain:[.5,1]},yaxis2:{...u.yaxis,domain:[.3,.45],range:[-5,5],autorange:!1},yaxis3:{...u.yaxis,domain:[.15,.3]},yaxis4:{...u.yaxis,domain:[0,.15]},xaxis:{...u.xaxis}},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACD HIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:e=>({color:e.map(((e,t)=>e>0?"green":"red"))})},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}}},{name:"T5",id:5,merged:{EMA0:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,0,56)"}},EMA2:{data:[],name:"EMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(13,190,58)"}},EMA3:{data:[],name:"EMA 200",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACDHIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:e=>({color:e.map(((e,t)=>e>0?"green":"red"))})},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{customLine:80,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}},layout:{yaxis:{...u.yaxis,domain:[.5,1]},yaxis2:{...u.yaxis,domain:[.3,.45]},yaxis3:{...u.yaxis,domain:[.15,.3]},yaxis4:{...u.yaxis,domain:[0,.15]},xaxis:{...u.xaxis}}},{name:"T6",id:6,merged:{EMA0:{data:[],name:"EMA 10",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},layout:{yaxis:{...u.yaxis,domain:[.35,1]},yaxis2:{...u.yaxis,domain:[0,.3]},xaxis:{...u.xaxis}},separate:{HIST0:{data:[],type:"bar",name:"HIST0",markerFn:e=>({color:e.map(((e,t)=>e>0?"rgb(38,165,154)":"rgb(254,82,82)"))}),xaxis:"x",yaxis:"y2"}}},{name:"T7",id:7,merged:{EMA0:{data:[],name:"EMA 5",xaxis:"x",yaxis:"y",marker:{color:"blue"}},MA0:{data:[],name:"MA 10",xaxis:"x",yaxis:"y",marker:{color:"black"}},MA1:{data:[],name:"MA 30",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{RSI0:{data:[],name:"RSI(14)",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},line1:{customLine:60,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{dash:"dashdot",width:2,color:"green"}},line2:{customLine:40,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{color:"red",dash:"dash",width:2}},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y3"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y3",marker:{color:"rgb(13,0,255)"}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line5:{data:[],customLine:20,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line6:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}}},layout:{yaxis:{...u.yaxis,domain:[.55,1]},yaxis2:{...u.yaxis,domain:[.25,.5],range:[20,80],autorange:!1},yaxis3:{...u.yaxis,domain:[0,.25]},xaxis:{...u.xaxis}}}];var b=a(2);function p(e){return e.reduce((function(e,t){return Math.min(e,t)}))}const y=(e,t,a)=>[...e?[{x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,a)=>e?t.high[a]:null)),showlegend:!1,name:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,l)=>e?"Confirm High "+t.high[a]:null)),mode:"markers",marker:{color:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,a)=>e?t.is_closed_based[a]?"red":t.real_condition[a]?"black":t.insertion_condition[a]?"green":t.modified_condition[a]?"purple":null:null)),symbol:"diamond"},hoverinfo:"skip"}]:[],...e?[{x:null===t||void 0===t?void 0:t.x,y:t.ConfrimLow.map(((e,a)=>e?t.low[a]:null)),showlegend:!1,name:"Confirm Low "+t.low[a],mode:"markers",marker:{color:null===t||void 0===t?void 0:t.ConfrimLow.map(((e,a)=>e?t.is_closed_based[a]?"red":t.real_condition[a]?"black":t.insertion_condition[a]?"green":t.modified_condition[a]?"purple":null:null)),symbol:"diamond"},hoverinfo:"skip"}]:[]],j=(e,t,a)=>{var l;return(null===e||void 0===e||null===(l=e[a])||void 0===l?void 0:l[t])?e.is_closed_based[t]?"Closed Based":e.real_condition[t]?"Real Condition":e.insertion_condition[t]?"Insertion Condition":e.modified_condition[t]?"Modified Condition":null:null},k=(e,t,a,l)=>{let i=[];return 6===e.id&&(i=[{...g,type:l,name:"Red price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map(((e,a)=>t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_red?e:null:e)):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"red",line:{color:"ohlc"===l?"red":"black",width:1}},increasing:{fillcolor:"red",line:{color:"ohlc"===l?"red":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData},{...g,type:l,name:"Green price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map(((e,a)=>t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_green?e:null:e)):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"green",line:{color:"ohlc"===l?"green":"black",width:1}},increasing:{fillcolor:"green",line:{color:"ohlc"===l?"green":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData}]),e.merged&&Object.keys(e.merged).length?[...i,...Object.keys(e.merged).map((l=>({...e.merged[l],x:null===t||void 0===t?void 0:t.x,y:e.merged[l].data.map((e=>e||null)),name:"".concat(e.merged[l].name," ").concat(e.merged[l].data[a]),hoverinfo:"x"})))]:[]},w=(e,t,a)=>e.separate&&Object.keys(e.separate).length?[...Object.keys(e.separate).map((l=>({...e.separate[l],x:null===t||void 0===t?void 0:t.x,y:e.separate[l].data.map((e=>e||null)),...e.separate[l].markerFn?{marker:e.separate[l].markerFn(e.separate[l].data,t)}:{},name:"".concat(e.separate[l].name," ").concat(e.separate[l].data[a]),hoverinfo:"x"})))]:[],O=(e,t)=>{let a=e&&t.patternData.findLastIndex((e=>Object.values(e).includes(1)));return e&&a>=0?[{type:"rect",text:"ddd",x0:a-.5,y0:0,x1:a+.5,yref:"paper",y1:1,line:{color:"#ffff00",width:1.5},hoverinfo:"x",fillcolor:"#ffff00",opacity:.6}]:[]},f=(e,t)=>e?t.x.slice(0,t.x.length-23).map(((e,a)=>{let l=new Date(e).getDate(),i=new Date(t.x[a-1]).getDate(),n=new Date(t.x[a-2]).getDate();return 1===l||2===l&&1!==i||3===l&&1!==n&&2!==i?{type:"line",text:"ddd",x0:String(e),y0:0,x1:String(e),yref:"paper",y1:1,line:{color:"grey",width:1.5,dash:"dot"},hoverinfo:"x"}:null})):[];const S=(e,t,a,l)=>{let i=e&&e.length&&Object.keys(e[0]).filter((e=>!["trigger","trigger_failure","trigger_failure_value","trigger_value","is_combo_pattern","candle_type"].find((t=>t===e)))),n="";return e.length&&Array.isArray(i)&&i.forEach(((l,i)=>{var o,r,s,d,c;(C(a)?(null===e||void 0===e||null===(o=e[t])||void 0===o?void 0:o.pattern_end)&&(null===e||void 0===e||null===(r=e[t])||void 0===r?void 0:r[l])&&"pattern_end"!==l:null===e||void 0===e||null===(s=e[t])||void 0===s?void 0:s[l])&&(n.length>0&&(n+=", "),n+=l),_(a)&&((null===e||void 0===e||null===(d=e[t])||void 0===d?void 0:d.pattern_end)||(null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.failure_trigger))&&0===n.length&&(n+=a)})),console.log("occured-",n,"-,",((C(a)||_(a))&&n?"".concat(a," - "):"")+n+("All Failure Patterns"===a&&n?l.close[t]>l.open[t]?" - Bullish":" - Bearish":"")),_(a)&&n?a:((C(a)||_(a))&&n?"".concat(a," - "):"")+n+("All Failure Patterns"===a&&n?l.close[t]>l.open[t]?" - Bullish":" - Bearish":"")},C=e=>["T3 Down","T3 Up","T3 Sell","T3 Buy","T3 Turn Down","T3 Turn Up","T3 Rev Up","T3 Rev Down","T3 Bull Now","T3 Bear Now","T3 Up Down","T3 Down Up"].includes(e),_=e=>["T3 Down Failure","T3 Up Failure","T3 Sell Failure","T3 Buy Failure","T3 Turn Dowm Failure","T3 Turn Up Failure","T3 Rev Down Failure","T3 Rev Up Failure","T3 Bull Now Failure","T3 Bear Now Failure","T3 Up Down Failure","T3 Down Up Failure"].includes(e),T=e=>{let t=e&&Object.keys(e);return Array.isArray(t)&&t.length&&(null===t||void 0===t?void 0:t.filter((e=>!["trigger","trigger_failure","trigger_failure_value","trigger_value","is_combo_pattern"].find((t=>t===e)))))},D=(e,t,a)=>{var l,i,n,o,r;if("All Failure Patterns"===t)return[];let s=e.patternData,d=null;if(e.patternData&&e.patternData[0]&&e.patternData[0].is_combo_pattern||"All Reversal Patterns"===t||"S Combo Pattern"===t||"All T3 Patterns"===t||C(t)||"All High/Low Patterns"===t||a){s=e.patternData&&e.patternData[0];let a=(null===e||void 0===e?void 0:e.pattern_name_list)||T(s);s=e.patternData.map((e=>{let l=0;if(Array.isArray(a))for(let i of a)if(e[i]){l=C(t)?null===e||void 0===e?void 0:e.pattern_end:1;break}return l}))}return _(t)&&(d=e.patternData,s=e.patternData.map((e=>{let t=0;return t=null===e||void 0===e?void 0:e.failure_trigger,t})),d=e.patternData.map((e=>{let t=0;return t=null===e||void 0===e?void 0:e.pattern_end,t}))),(null===(l=s)||void 0===l?void 0:l.length)?[...d&&d.length?[{x:null===e||void 0===e?void 0:e.x,y:null===(i=d)||void 0===i?void 0:i.map(((t,a)=>{let l=(e.max-e.min)/100*2.5;return t?e.close[a]>e.open[a]?Number(e.low[a])-l:Number(e.high[a])+l:null})),showlegend:!1,mode:"markers",marker:{color:null===(n=d)||void 0===n?void 0:n.map(((t,a)=>t?e.close[a]<e.open[a]?"red":"green":null)),symbol:d.map(((e,t)=>e?"x":null)),size:7},hoverinfo:"skip"}]:[],{x:null===e||void 0===e?void 0:e.x,y:null===(o=s)||void 0===o?void 0:o.map(((t,a)=>{let l=(e.max-e.min)/100*2.5;return t?e.close[a]>e.open[a]?Number(e.low[a])-l:Number(e.high[a])+l:null})),showlegend:!1,mode:"markers",marker:{color:null===(r=s)||void 0===r?void 0:r.map(((a,l)=>a?"All High/Low Patterns"===t||e.close[l]<e.open[l]?"red":"green":null)),symbol:s.map(((a,l)=>a?"All High/Low Patterns"===t?"x":e.close[l]<e.open[l]?"triangle-down":"triangle-up":null)),size:7},hoverinfo:"skip"}]:[]},M=(e,t)=>{var a,l,i,n,o;let r=e.patternTrigger;if(t){let t=(null===e||void 0===e?void 0:e.pattern_name_list)||T(r);r=e.patternTrigger.map((e=>{let a=null;if(Array.isArray(t))for(let i of t){var l;if(null===(l=e[i])||void 0===l?void 0:l.trigger){a=e[i];break}}return a}))}return(null===(a=r)||void 0===a?void 0:a.length)?[{x:null===e||void 0===e?void 0:e.x,y:null===(l=r)||void 0===l?void 0:l.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?Number(e.trigger_value):null)),showlegend:!1,mode:"markers",marker:{color:null===(i=r)||void 0===i?void 0:i.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?"red":null)),symbol:r.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?"x":null)),size:7},hoverinfo:"skip"},{x:null===e||void 0===e?void 0:e.x,y:null===(n=r)||void 0===n?void 0:n.map(((t,a)=>{let l=(e.max-e.min)/100*2.5;return(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]>e.open[a]?(null===t||void 0===t?void 0:t.trigger_failure_value)-l:t.trigger_failure_value+l:null})),showlegend:!1,mode:"markers",marker:{color:null===(o=r)||void 0===o?void 0:o.map(((t,a)=>(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]<e.open[a]?"red":"green":null)),symbol:r.map(((t,a)=>(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]<e.open[a]?"triangle-down":"triangle-up":null)),size:7},hoverinfo:"skip"}]:[]};var L=a(715),A=a(718),E=a.n(A);a(286);const H=E()(L),I=e=>{var t;let{data:a,layout:i,templates:n,loader:o,separateGraphs:r,onHover:s,onUnhover:d,onClick:c,toggleFirstDayLine:u,onDoubleClick:m,id:h,setLayout:x,dualChartWidth:g,sidebarWidth:v,selectedStrategy:p}=e;null===(t=document.querySelector('[data-title="Autoscale"]'))||void 0===t||t.addEventListener("onclick",(function(e){}));let[y,j]=Object(l.useState)([]);return Object(l.useEffect)((()=>{let e=[];(null===r||void 0===r?void 0:r.length)&&r.forEach((t=>{var a,l;e.push(t),(null===t||void 0===t||null===(a=t.templates)||void 0===a?void 0:a.length)&&(null===(l=t.templates)||void 0===l||l.forEach((t=>{e.push(t)})))})),j(e)}),[r]),o?Object(b.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(b.jsx)(H,{id:h,onClick:c,onDoubleClick:m,onHover:s,onUnhover:d,data:[a,...n||[],...y],layout:{...i,shapes:[...f(u,a),...p.length<2?O(a.strategiesData,a):[]]},config:{scrollZoom:!0},useResizeHandler:!0,onRelayout:e=>{e["xaxis.autorange"]&&x({...i,xaxis:{...i.xaxis,autorange:!1,range:[a.x.length-280,a.x.length-1]},width:window.innerWidth-g-v,shapes:[...f(u,a),...O(a.strategiesData,a)]})}})};var F=e=>{let{selectedStock:t,ohlc:{high:a,low:l,open:i,close:n,ConfrimLow:o,ConfrimHigh:r},selectedPattern:s,selectedTime:d,patternTrigger:c}=e;return Object(b.jsxs)("div",{style:{marginLeft:"10px",fontSize:"12px"},children:[t&&Object(b.jsxs)("div",{children:[t.name," - ",t.description||"description"," - ",t.sources.length&&String(t.sources[0]).toUpperCase()," - ",d.desc]}),Object(b.jsxs)("div",{children:["Open: ",i," High: ",a," Low: ",l," Close: ",n]}),s||c?Object(b.jsxs)("div",{children:["Pattern: ",s]}):Object(b.jsx)(b.Fragment,{}),o?Object(b.jsxs)("div",{children:["Confirm Low: ",o," - ",l]}):Object(b.jsx)(b.Fragment,{}),r?Object(b.jsxs)("div",{children:["Confirm High: ",r," - ",a]}):Object(b.jsx)(b.Fragment,{})]})};function B(e){var t,a,i;let{onHover:n,onUnhover:o,onClick:r,pointIndex:s,graphType:u,style:m,layout:x,toggleFirstDayLine:v,switchToggle:O,selectedTemp:f,selectedPattern:T,type:L,onDoubleClick:A,selectedStock:E,selectedTime:H,selectedCategory:B,id:W,setLayout:N,selectedStrategy:z,enableDualChart:R,sidebarWidth:P,dualChartWidth:U,dataBaseUrl:G,setStrategiesData:X,strategiesData:V}=e;const[q,K]=Object(l.useState)({...g}),[J,Y]=Object(l.useState)(f);Object(l.useEffect)((()=>{Y(f)}),[f]);const[Z,$]=Object(l.useState)(!1),Q=Object(l.useRef)(),ee=function(e,t,a,l,i,n,o,r,s,u,m,x,v){return async(b,y,j,k,w,O)=>{var f,S,_,T,D;null===(f=document.querySelector('[data-title="Autoscale"]'))||void 0===f||f.click();let M=null===m||void 0===m?void 0:m.length;if(M){let a=m[M-1];t(!0);let l=await d.a.get("stocks/get_strategy_watchlist?watch_list=".concat(e,"&interval=").concat(y.name,"&strategy_name=").concat(a));t(!1),x([...new Map([...v,{data:l.data.data,name:a}].map((e=>[e.name,e]))).values()].filter((e=>m.includes(e.name))))}else x(v.filter((e=>m.find((t=>t===e.name)))));if(!e||!(null===b||void 0===b?void 0:b.name)||(null===b||void 0===b?void 0:b.selectedSource))return;t(!0);let L=M>0?"stocks/strategy_data_against_symbol":"stocks".concat(u||"","?category=").concat(e,"&symbol=").concat(null===(S=b.name)||void 0===S?void 0:S.toLowerCase(),"&source=").concat((null===b||void 0===b?void 0:b.selectedSource)||(null===b||void 0===b||null===(_=b.sources)||void 0===_?void 0:_.length)&&b.sources[0],"&interval=").concat(y.name);M<=0&&(j&&(null===j||void 0===j?void 0:j.id)>0&&(L+="&template=".concat(j.id)),(null===k||void 0===k?void 0:k.length)&&(L+="&pattern=".concat(k)),w&&(L+="&meta_template=".concat(w))),await c(L,M?"post":null,{watch_list:e,interval:y.name,symbol:null===(T=b.name)||void 0===T?void 0:T.toLowerCase(),strategies:m,source:(null===b||void 0===b?void 0:b.selectedSource)||(null===b||void 0===b||null===(D=b.sources)||void 0===D?void 0:D.length)&&b.sources[0]}).then((e=>{var d,c;t(!1);let u=null===(d=e.data)||void 0===d?void 0:d.patterns_list,x=[...null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.data],v=[],b=[],f=[],S=[],_=[],T=[],D=[],M=[],L=[],A=[],E=[],H=[],I=[],F=[],B=j&&j.merged,W=B;Object.keys(B).length&&Object.keys(B).forEach((e=>{W[e].data=[]}));let N=j&&j.separate,z=N;Object.keys(N).length&&Object.keys(N).forEach((e=>{z[e].data=[]})),null===x||void 0===x||x.forEach(((e,t)=>{var a,l,i;let n=e;if(v.push(n.high),b.push(n.low),f.push(n.open),S.push(n.close),_.push(new Date(n.date).toUTCString()),w&&(L.push(n["meta-indicators"]["Confrim High"]),A.push(n["meta-indicators"]["Confrim Low"]),I.push(n.insertion_condition),H.push(n.is_closed_based),E.push(n.real_condition),F.push(n.modified_condition)),void 0===(null===(a=n[k])||void 0===a?void 0:a.pattern_end)&&void 0===(null===(l=n[k])||void 0===l?void 0:l.trigger_value)||void 0===(null===(i=n[k])||void 0===i?void 0:i.trigger)||"All High/Low Patterns"===k)void 0!==n[k]&&T.push(n[k]);else{var o,r,s,d,c;let e={trigger:null===(o=n[k])||void 0===o?void 0:o.trigger,trigger_value:null===(r=n[k])||void 0===r?void 0:r.trigger_value,trigger_value_max:null===(s=n[k])||void 0===s?void 0:s.trigger_value_max,trigger_value_min:null===(d=n[k])||void 0===d?void 0:d.trigger_value_min};var h,x,g;(null===(c=n[k])||void 0===c?void 0:c.trigger_failure)&&(e={...e,trigger_failure:null===(h=n[k])||void 0===h?void 0:h.trigger_failure,trigger_failure_value:null===(x=n[k])||void 0===x?void 0:x.trigger_failure_value}),"All Failure Patterns"===k||C(k)?T.push(n[k]):T.push(null===(g=n[k])||void 0===g?void 0:g.pattern_end),D.push(e)}if(m.length){let e={},t={};u.forEach((a=>{var l,i,o,r,s,d,c,u;void 0===(null===(l=n[a])||void 0===l?void 0:l.pattern_end)&&void 0===(null===(i=n[a])||void 0===i?void 0:i.trigger_value)||void 0===(null===(o=n[a])||void 0===o?void 0:o.trigger)||(t[a]={trigger:null===(r=n[a])||void 0===r?void 0:r.trigger,trigger_value:null===(s=n[a])||void 0===s?void 0:s.trigger_value,trigger_value_max:null===(d=n[a])||void 0===d?void 0:d.trigger_value_max,trigger_value_min:null===(c=n[a])||void 0===c?void 0:c.trigger_value_min},e[a]=null===(u=n[a])||void 0===u?void 0:u.pattern_end)})),T.push({...e}),D.push({...t})}var p;j&&(B&&Object.keys(B).length&&Object.keys(B).forEach((e=>{W[e].data=[...W[e].data,n.indicators[e]]})),N&&Object.keys(N).length&&Object.keys(N).forEach((e=>{z[e].data=[...z[e].data,z[e].customLine?z[e].customLine:n.indicators[e]]})),6===j.id&&M.push(null===(p=n.indicators)||void 0===p?void 0:p.elder_impulse_system))}));let R={...a,...j.layout};for(let t=0;t<23;t++)v.push(null),b.push(null),f.push(null),S.push(null),_.push(new Date(Date.now(_[_.length-1])+(t+1)*y.ms).toUTCString()),j&&(B&&Object.keys(B).forEach((e=>{W[e].data=[...W[e].data,null]})),N&&Object.keys(N).forEach((e=>{z[e].data=[...z[e].data,null]})));var P;j&&l({...j,merged:W,separate:z}),i({...g,realHigh:v,high:M.length?v.map(((e,t)=>M[t]?1!==M[t].is_red||1!==M[t].is_green?e:null:e)):v,low:b,open:f,close:S,x:_,hovertext:v,increasing:6===j.id?{fillcolor:"blue",line:{color:"ohlc"===o?"blue":"black",width:1}}:g.increasing,decreasing:6===j.id?{fillcolor:"blue",line:{color:"ohlc"===o?"blue":"black",width:1}}:g.decreasing,ConfrimHigh:L,ConfrimLow:A,patternData:T,patternTrigger:D,pattern_name_list:m.length>0?[...(null===O||void 0===O?void 0:O.pattern_name_list)||[],...u||[]]:null,strategiesData:!!m.length,elder_impulse_system:M,max:(P=v,P.reduce((function(e,t){return Math.max(e,t)}))),min:p(b.filter((e=>0!==e&&null!==e))),insertion_condition:I,is_closed_based:H,real_condition:E,modified_condition:F}),n({...R,width:r?(window.innerWidth-s)/2:window.innerWidth-s,dualChartSet:r,height:window.innerHeight-80,xaxis:{...a.xaxis,rangeslider:{visible:!1},autorange:!1,range:[_.length-280,_.length-1],tickvals:[..._.filter(((e,t)=>t%15===0))],ticktext:[..._.filter(((e,t)=>t%15===0)).map((e=>{let t=new Date(e);return h[t.getMonth()]+" "+t.getUTCFullYear()}))]},shapes:[...v.map(((e,t)=>{if(T[t]){let e=Math.min(b[t],v[t],f[t],S[t]),a=Math.max(b[t],v[t],f[t],S[t]);return{type:"rect",xref:"x",yref:"y",x0:String(new Date(_[t-1]).toUTCString()),y0:e,x1:String(new Date(_[t+1]).toUTCString()),width:1,y1:a,fillcolor:"yellow",opacity:.6,rightMargin:3,line:{width:2,color:f[t]<S[t]?"green":"red",opacity:1},hoverinfo:"x"}}return null}))]})})).catch((e=>{console.log("err",e),t(!1),i(null)}))}}(B,$,x,Y,K,N,u,R,P,G,z,X,V);return Object(l.useEffect)((()=>{let e=!0;E!==Q.current&&(e=!1),Q.current=E,H&&ee(E,H,J,T,O,q,e)}),[E,H,B,T,O,J.id,u,R,z]),q&&(null===q||void 0===q||null===(t=q.x)||void 0===t?void 0:t.length)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F,{selectedStock:E,ohlc:{high:q.high[s],low:q.low[s],open:q.open[s],close:q.close[s],ConfrimHigh:j(q,s,"ConfrimHigh"),ConfrimLow:j(q,s,"ConfrimLow")},selectedPattern:(q.patternData[s]?q.patternData[s].is_combo_pattern||"All Reversal Patterns"===T||"All Failure Patterns"===T||"S Combo Pattern"===T||"All T3 Patterns"===T||C(T)||_(T)||"All High/Low Patterns"===T||q.strategiesData?S(q.patternData,s,T,q):T:void 0)||((null===q||void 0===q||null===(a=q.patternTrigger[s])||void 0===a?void 0:a.trigger_failure)?T:void 0),patternTrigger:null===q||void 0===q||null===(i=q.patternTrigger[s])||void 0===i?void 0:i.trigger_failure,selectedTime:H,pointIndex:s,data:q}),Object(b.jsx)(I,{id:W,onHover:n,onUnhover:o,onClick:r,onDoubleClick:()=>A(L),style:{...m,border:"1px solid red"},data:{...q,type:u},layout:x,toggleFirstDayLine:v,templates:[...k(J,q,s,u),...y(O,q,s),...D(q,T,q.strategiesData)||[],...M(q,q.strategiesData)||[]],separateGraphs:[...w(J,q,s)],loader:Z,setLayout:N,dualChartWidth:U,sidebarWidth:P,selectedStrategy:z})]}):Object(b.jsx)(b.Fragment,{})}const W={width:"100%",height:"100%"};var N=e=>{let{layout:t,enableDualChart:a,graphType:n,selectedTemp:o,separateGraphs:r,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,setLayout:u,selectedStock:m,selectedTime:h,selectedCategory:x,selectedStrategy:g,sidebarWidth:v,secondaryLayout:p,setSecondaryLayout:y,dataBaseUrl:j,setStrategiesData:k,strategiesData:w}=e;const[O,f]=Object(l.useState)(null);Object(l.useEffect)((()=>{let e=(e=>{switch(e.name){case"1d":case"2d":case"3d":return{name:"1wk",desc:"1 Week",ms:6048e5};case"1wk":case"2wk":return{name:"1mo",desc:"1 Month",ms:2629746e3};default:return{name:"1d",desc:"1 Day",ms:864e5}}})(h);f(a?e:h)}),[h,a]);const[S,C]=Object(l.useState)("crosshair"),[_,T]=Object(l.useState)(""),[D,M]=Object(l.useState)(1),L=e=>{let{points:[t]}=e;M(t.pointIndex),C("crosshair")},A=()=>{C("crosshair")},E=()=>{C("grabbing")},H=Object(l.useRef)(null),[I,F]=Object(l.useState)(!1),[N,z]=Object(l.useState)(0),R=i.a.useCallback((()=>{F(!1)}),[]),P=i.a.useCallback((e=>{F(!0)}),[]),U=i.a.useCallback((e=>{if(I){var a;null===(a=document.querySelector('[data-title="Autoscale"]'))||void 0===a||a.click();let l=window.innerWidth-(H.current.getBoundingClientRect().right-e.clientX)-10;u({...t,width:l,height:window.innerHeight-80}),y({...p,width:H.current.getBoundingClientRect().right-e.clientX-10,height:window.innerHeight-80}),z(H.current.getBoundingClientRect().right-e.clientX)}}),[I,v]);return Object(l.useEffect)((()=>(window.addEventListener("mousemove",U),window.addEventListener("mouseup",R),()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",R)})),[U,R]),t?Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("div",{style:{height:"100vh",overflowY:"hidden",overflowX:"hidden"},children:Object(b.jsx)("div",{id:"default-chart",style:{cursor:S,marginTop:"52px",border:"default"===_?"4px solid #438695":"none"},children:Object(b.jsx)(B,{type:"default",onHover:L,onDoubleClick:e=>T(e),onUnhover:A,onClick:E,pointIndex:D,graphType:n,style:W,enableDualChart:a,selectedTemp:o,layout:t,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,separateGraphs:r,selectedStock:m,id:"default",selectedTime:O,selectedCategory:x,setLayout:u,selectedStrategy:g,sidebarWidth:v,dualChartWidth:N,dataBaseUrl:j,setStrategiesData:k,strategiesData:w})})}),a&&Object(b.jsxs)("div",{ref:H,className:"app-dualchart",style:{width:p.width+10+"px",marginTop:"52px"},onMouseDown:e=>e.preventDefault(),children:[Object(b.jsx)("div",{className:"app-dualchart-resizer",onMouseDown:P}),Object(b.jsx)("div",{className:"app-dualchart-content",children:Object(b.jsx)("div",{id:"secondary-chart",style:{cursor:S,border:"secondary"===_?"4px solid #438695":"none"},children:Object(b.jsx)(B,{type:"secondary",onHover:L,onDoubleClick:e=>T(e),graphType:n,style:W,enableDualChart:a,selectedTemp:o,layout:p,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,onUnhover:A,onClick:E,pointIndex:D,separateGraphs:r,selectedStock:m,id:"secondary",selectedTime:h,selectedCategory:x,setLayout:y,selectedStrategy:g,sidebarWidth:v,dualChartWidth:N,dataBaseUrl:j,setStrategiesData:k,strategiesData:w})})})]})]}):Object(b.jsx)(b.Fragment,{})},z=a(720),R=a.n(z),P=a(1645),U=a(1643),G=a(1649),X=a(1654),V=a(1655),q=a(299),K=a(1652),J=a(1635),Y=a(1636);const Z=e=>Object(b.jsx)(K.a,{elevation:8,...e});var $=e=>{let{options:t,value:a,label:i,handleChange:n,selectedStock:o,getOptionLabel:r,renderOption:s,multiple:d,renderInput:c,limitTags:u}=e;const[m,h]=Object(l.useState)(!1);let x=Object(l.useRef)(null);Object(l.useEffect)((()=>{h(!1)}),[o]);return Object(b.jsx)("div",{ref:x,onMouseLeave:()=>{h(!1)},children:Object(b.jsx)(J.a,{limitTags:2,onKeyPress:e=>{(38===e.keyCode||40===e.keyCode)&&h(!1)},selectOnFocus:!1,blurOnSelect:"touch",onChange:(e,t)=>{n(t)},fullWidth:!0,multiple:!!d,open:m,options:[...t],onBlur:()=>{h(!1)},onMouseLeave:()=>{x.current.click()},onKeyDown:()=>{h(!0)},onClick:()=>{h(!0)},value:a,defaultValue:t.find((e=>e[0])),PaperComponent:Z,getOptionLabel:r&&r,renderOption:s&&s,renderInput:c||(e=>Object(b.jsx)(Y.a,{...e,label:i,variant:"standard",onClick:()=>{h(!m)}}))})})},Q=a(1657),ee=a(1642);var te=e=>{let{handleGrapthType:t,graphType:a,templateChange:i,setEnableDualChart:n,enableDualChart:o,handlePatternChange:r,selectedTime:s,hanldeSelectedTime:d,selectedTemp:u,selectedPattern:h,handlSwitchToggle:x,switchToggle:g,toggleFirstDayLine:p,setToggleFirstDayLine:y,selectedStock:j,dataBaseUrl:k,setSidebarWidth:w}=e,O=Object(l.useRef)(),[f,S]=Object(l.useState)([]),[C,_]=Object(l.useState)(!1);Object(l.useEffect)((()=>{c("stocks/patterns").then((e=>{var t;S((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]);return Object(b.jsx)(Q.a,{sx:{flexGrow:1},children:Object(b.jsxs)(ee.a,{container:!0,spacing:2,style:{position:"fixed",padding:"10px"},children:[Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsx)(ee.a,{container:!0,spacing:2,children:Object(b.jsx)(ee.a,{item:!0,xs:12,children:Object(b.jsx)($,{options:f,value:h,label:"Pattern",handleChange:r,selectedStock:j})})})}),Object(b.jsx)(ee.a,{item:!0,xs:5,children:Object(b.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsx)(P.a,{control:Object(b.jsx)(U.a,{disabled:"1d"!==s.name,checked:p,onChange:e=>{y(e.target.checked)}}),label:"1st"})}),Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsxs)(V.a,{variant:"text","aria-label":"text button group",children:[Object(b.jsx)(X.a,{className:"btn ".concat("ohlc"!==a?"templateBtn":""),onClick:()=>t("candlestick"),children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",fill:"currentColor",children:[Object(b.jsx)("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"}),Object(b.jsx)("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"}),Object(b.jsx)("path",{d:"M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"}),Object(b.jsx)("path",{d:"M10 4h1v3.5h-1zm0 16.5h1V24h-1z"})]})}),Object(b.jsx)(X.a,{className:"btn ".concat("ohlc"===a?"templateBtn":""),onClick:()=>t("ohlc"),children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",children:Object(b.jsx)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"square",children:Object(b.jsx)("path",{d:"M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"})})})})]})}),Object(b.jsx)(ee.a,{item:!0,md:2,children:Object(b.jsx)($,{options:["0",1,2,3,4,5],value:g,label:"MT4",handleChange:x,selectedStock:j,getOptionLabel:e=>e})}),Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsx)($,{options:m,value:s,label:"Time",handleChange:d,selectedStock:j,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:"",isOptionEqualToValue:(e,t)=>e.name===t.name&&e.desc===t.desc&&e.ms===t.ms})}),Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsx)($,{options:v,value:u,label:"Template",handleChange:i,selectedStock:j,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:""})}),Object(b.jsx)(ee.a,{item:!0,xs:2,children:Object(b.jsx)(X.a,{onClick:()=>{var e;n(!o),null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click()},className:"btn ".concat(o?"templateBtn":""),children:"Dual Chart"})})]})}),Object(b.jsx)(ee.a,{item:!0,xs:5,children:Object(b.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(b.jsx)(ee.a,{item:!0,md:11,children:"/db_v1"!==k?Object(b.jsxs)(V.a,{variant:"text","aria-label":"text button group",children:[Object(b.jsx)(q.b,{style:{display:"none"},ref:O,target:"_blank",to:"/db_v1"}),Object(b.jsx)(X.a,{onClick:()=>{O.current.click()},style:{color:"white"},children:"__"})]}):Object(b.jsx)(b.Fragment,{})}),Object(b.jsx)(ee.a,{item:!0,md:1,children:Object(b.jsx)(G.a,{onClick:()=>{C||w(500),C&&w(6),_(!C)},color:"primary",children:Object(b.jsx)(R.a,{})})})]})})]})})},ae=a(302),le=a.n(ae),ie=a(301),ne=a.n(ie),oe=a(1644),re=a(1640),se=a(1638),de=a(1647);function ce(e,t,a){return(null===t||void 0===t?void 0:t[a])<(null===e||void 0===e?void 0:e[a])?-1:(null===t||void 0===t?void 0:t[a])>(null===e||void 0===e?void 0:e[a])?1:0}var ue=a(1641),me=a(1646),he=a(1658),xe=a(1651),ge=a(1650),ve=a(1648),be=a(1656),pe=a(1632);var ye=e=>{var t;let{row:a,index:l,selectedStock:i,handleStockChange:n,selectedTime:o,placeSelectedItemInTheMiddle:r,setSelectStockIndex:s,hanldeSelectedTime:d,selectedStrategy:c,strategiesData:u}=e;return a&&i?Object(b.jsxs)(be.a,{className:a.name===i.name?"selectedRowStyle":"",active:a.name===i.name,onClick:()=>{d(o),r(l),n(a),s(l)},focus:a.name===i.name,children:[Object(b.jsx)(xe.a,{align:"center",children:a.name}),Object(b.jsx)(xe.a,{align:"center",children:(null===a||void 0===a||null===(t=a.sources)||void 0===t?void 0:t.length)&&a.sources[0]}),Object(b.jsx)(xe.a,{align:"center",children:(null===a||void 0===a?void 0:a.description)||"-"}),Object(b.jsx)(xe.a,{align:"center",children:a.sectorName}),Object(b.jsx)(xe.a,{align:"center",children:o.name}),u.map(((e,t)=>{var l,i,n,o,r,s,d,c,u,m,h,x;return(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l[null===a||void 0===a?void 0:a.name])||void 0===i?void 0:i.value)&&"temp"!==(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n[null===a||void 0===a?void 0:a.name])||void 0===o?void 0:o.value)?Object(b.jsxs)(xe.a,{align:"center",children:["temp"!==(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r[null===a||void 0===a?void 0:a.name])||void 0===s?void 0:s.value)?(null===e||void 0===e||null===(d=e.data)||void 0===d||null===(c=d[null===a||void 0===a?void 0:a.name])||void 0===c?void 0:c.value)+", ":" ","temp"!==(null===e||void 0===e||null===(u=e.data)||void 0===u||null===(m=u[null===a||void 0===a?void 0:a.name])||void 0===m?void 0:m.time)?null===e||void 0===e||null===(h=e.data)||void 0===h||null===(x=h[null===a||void 0===a?void 0:a.name])||void 0===x?void 0:x.time:" "]},t):Object(b.jsx)(b.Fragment,{})}))]},l):Object(b.jsx)(b.Fragment,{})};var je=e=>{let{height:t,scrollableListRef:a,selectedStrategy:l,orderBy:i,createSortHandler:n,order:o,placeSelectedItemInTheMiddle:r,selectedStock:s,hanldeSelectedTime:d,handleStockChange:c,setSelectStockIndex:u,selectedTime:m,stocks:h,setStocks:x,strategiesData:g}=e;return Object(b.jsx)(ge.a,{sx:{maxHeight:t-20-25,margin:"10px 0px",overflowX:"auto"},children:Object(b.jsxs)(me.a,{sx:{minWidth:"300px"},ref:a,stickyHeader:!0,"aria-label":"sticky table",children:[Object(b.jsx)(ve.a,{children:Object(b.jsx)(be.a,{children:[{label:"Symbol",numeric:!1},{label:"Sources",numeric:!1},{label:"Description",numeric:!1},{label:"Sector Name",numeric:!1},{label:"Time",numeric:!1},...(null===g||void 0===g?void 0:g.length)?[...new Set(g.map((e=>e.name)))].map((e=>({label:e,numeric:!1}))):[]].map(((e,t)=>Object(b.jsx)(xe.a,{sx:{minWidth:"100px"},align:(e.numeric,"center"),sortDirection:i===e.label&&o,children:Object(b.jsxs)(ue.a,{active:i===e.label,direction:i===e.label?o:"asc",onClick:n(e.label),children:[e.label,i===e.id?Object(b.jsx)(Q.a,{component:"span",sx:pe.a,children:"desc"===o?"sorted descending":"sorted ascending"}):null]})},t)))})}),Object(b.jsx)(he.a,{children:h.map(((e,t)=>Object(b.jsx)(ye,{row:e,index:t,selectedStock:s,handleStockChange:c,setSelectStockIndex:u,selectedTime:m,placeSelectedItemInTheMiddle:r,setStocks:x,stocks:h,hanldeSelectedTime:d,selectedStrategy:l,strategiesData:g},t)))})]})})};var ke=e=>{let{filtersColumns:t,height:a,scrollableListRef:i,selectedStrategy:n,orderBy:o,createSortHandler:r,order:s,placeSelectedItemInTheMiddle:d,selectedStock:u,hanldeSelectedTime:h,handleStockChange:x,setSelectStockIndex:g,selectedTime:v,stocks:p,setStocks:y,strategiesData:j,selectedCategory:k}=e;const[w,O]=Object(l.useState)([]);Object(l.useEffect)((()=>{f()}),[u]);const f=()=>{void 0!==u.name&&u.sources&&void 0!==u.sources[0]&&c("stocks/table_alert_data/1?category=".concat(k,"&symbol=").concat(u.name,"&source=").concat(u.sources[0],"&interval=").concat(v.name),"get").then((e=>{var t,a;console.log("data",e);let l=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)?Object.values(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data).filter((e=>null===e||void 0===e?void 0:e.datetime)):[];O(l)}))};return Object(b.jsx)(ge.a,{sx:{maxHeight:a-20-25,margin:"10px 0px",overflowX:"auto"},children:Object(b.jsxs)(me.a,{sx:{minWidth:"300px"},ref:i,stickyHeader:!0,"aria-label":"sticky table",children:[Object(b.jsx)(ve.a,{children:Object(b.jsx)(be.a,{children:[...t,...(null===j||void 0===j?void 0:j.length)?[...new Set(j.map((e=>e.name)))].map((e=>({label:e,numeric:!1}))):[]].map(((e,t)=>Object(b.jsx)(xe.a,{align:(e.numeric,"center"),sortDirection:o===e.label&&s,children:Object(b.jsxs)(ue.a,{active:o===e.label,direction:o===e.label?s:"asc",onClick:r(e.label),children:[e.label,o===e.id?Object(b.jsx)(Q.a,{component:"span",sx:pe.a,children:"desc"===s?"sorted descending":"sorted ascending"}):null]})},t)))})}),Object(b.jsx)(he.a,{children:w.map(((e,t)=>Object(b.jsxs)(be.a,{active:(null===e||void 0===e?void 0:e.symbol)===u.name,onClick:()=>{var a;h((a=null===e||void 0===e?void 0:e.interval,m.find((e=>e.name===a)))),d(t),x({description:"",name:u.name,sectorName:"",sources:[u&&u.sources&&u.sources.length&&u.sources[0]]}),g(t)},focus:e.symbol===u.name,children:[Object(b.jsx)(xe.a,{sx:{width:"100px"},align:"center",children:null===e||void 0===e?void 0:e.symbol}),Object(b.jsx)(xe.a,{align:"center",children:null===e||void 0===e?void 0:e.interval}),Object(b.jsx)(xe.a,{align:"center",children:e.datetime})]},t)))})]})})};const we=Object(b.jsx)(ne.a,{fontSize:"small"}),Oe=Object(b.jsx)(le.a,{fontSize:"small"});var fe=e=>{let{filtersColumns:t,height:a,scrollableListRef:i,selectedStrategy:n,orderBy:o,createSortHandler:r,order:s,placeSelectedItemInTheMiddle:d,selectedStock:u,hanldeSelectedTime:h,handleStockChange:x,setSelectStockIndex:g,selectedTime:v,stocks:p,setStocks:y,strategiesData:j,selectedCategory:k,handleKeyDown:w,categories:O,setSelectedCategory:f,setSelectedTime:S}=e;const[C,_]=Object(l.useState)([]),[T,D]=Object(l.useState)([]),[M,L]=Object(l.useState)([]);Object(l.useEffect)((()=>{A()}),[u]);const A=()=>{void 0!==u.name&&u.sources&&void 0!==u.sources[0]&&c("stocks/table_alert_data/1?category=".concat(k,"&symbol=").concat(u.name,"&source=").concat(u.sources[0],"&interval=").concat(v.name),"get").then((e=>{var t,a;console.log("data",e);let l=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)?Object.values(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data).filter((e=>null===e||void 0===e?void 0:e.datetime)):[];_(l)}))};return Object(b.jsxs)(ee.a,{container:!0,style:{margin:"0px 6px"},children:[Object(b.jsxs)(ee.a,{container:!0,item:!0,md:12,sm:12,xs:12,spacing:2,children:[Object(b.jsx)(ee.a,{item:!0,md:4,sm:4,xs:4,children:Object(b.jsx)($,{options:p,value:T,label:"Symbol",handleChange:e=>{e&&e.length?D([...e]):D([])},selectedStock:u,multiple:!0,getOptionLabel:e=>e&&e.name,renderOption:(e,t,a)=>{let l=null===a||void 0===a?void 0:a.selected;return Object(b.jsxs)("li",{...e,children:[Object(b.jsx)(re.a,{icon:we,checkedIcon:Oe,checked:l}),t.name]})}})}),Object(b.jsx)(ee.a,{item:!0,md:4,sm:4,xs:4,children:Object(b.jsx)($,{options:m,limitTags:2,id:"multiple-limit-tags",value:M,label:"Time",handleChange:e=>{e&&e.length?L([...e]):L([])},selectedStock:u,multiple:!0,getOptionLabel:e=>e&&e.name,renderOption:(e,t,a)=>{let l=null===a||void 0===a?void 0:a.selected;return Object(b.jsxs)("li",{...e,children:[Object(b.jsx)(re.a,{icon:we,checkedIcon:Oe,checked:l}),t.name]})}})}),Object(b.jsx)(ee.a,{item:!0,md:7,sm:7,xs:7})]}),Object(b.jsx)(ee.a,{item:!0,md:12,sm:12,xs:12,children:Object(b.jsx)("div",{onKeyPress:w,children:Object(b.jsx)(ke,{filtersColumns:t,height:a,scrollableListRef:i,selectedStrategy:n,orderBy:o,createSortHandler:r,order:s,selectedCategory:k,selectedStock:u,hanldeSelectedTime:h,handleStockChange:x,setSelectStockIndex:g,selectedTime:v,stocks:p,setStocks:y,strategiesData:j,placeSelectedItemInTheMiddle:d})})})]})};const Se=Object(b.jsx)(ne.a,{fontSize:"small"}),Ce=Object(b.jsx)(le.a,{fontSize:"small"});function _e(e){const{children:t,value:a,index:l,...i}=e;return Object(b.jsx)("div",{role:"tabpanel",hidden:a!==l,id:"simple-tabpanel-".concat(l),"aria-labelledby":"simple-tab-".concat(l),...i,children:a===l&&Object(b.jsx)(oe.a,{children:t})})}var Te=e=>{let{handleStockChange:t,selectedStock:a,stocks:n,setStocks:o,height:r,scrollableListRef:s,placeSelectedItemInTheMiddle:d,selectedCategory:u,setSelectedCategory:h,hanldeSelectedTime:x,setLayout:g,layout:v,setSidebarWidth:p,sidebarWidth:y,enableDualChart:j,selectedStrategy:k,setSelectedStrategy:w,secondaryLayout:O,setSecondaryLayout:f,strategiesData:S}=e;const[C,_]=Object(l.useState)([]),[T,D]=Object(l.useState)([]),[M,L]=Object(l.useState)(0),[A,E]=Object(l.useState)(!1),[H,I]=Object(l.useState)({name:"1d",desc:"1 Day",ms:864e5});Object(l.useEffect)((()=>{E(!0),c("/stocks/watchlish").then((e=>{var t,a;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.list)||void 0===a?void 0:a.length)&&(D(e.data.list||[]),h(e.data.list[0])),E(!1)})).catch((()=>{E(!1)})),c("/stocks/active_strategies").then((e=>{var t;_((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[]),E(!1)})).catch((()=>{E(!1)}))}),[h]),Object(l.useEffect)((()=>{c("stocks/watchlish/"+u).then((e=>{var a,l;o((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.list)||[]),L(0),t(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.list[0])}))}),[u]);const F=e=>{38===e.keyCode?(x(H),t(n[M-1]),L(M-1),d(M-1)):40===e.keyCode&&(x(H),t(n[M+1]),L(M+1),d(M+1))},[B,W]=i.a.useState("asc"),[N,z]=i.a.useState("Symbol"),R=e=>t=>{P(t,e)},P=(e,t)=>{const a=N===t&&"asc"===B;W(a?"desc":"asc"),z(t),o(function(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const l=t(e[0],a[0]);return 0!==l?l:e[1]-a[1]})),a.map((e=>e[0]))}(n.map((e=>{let t={};return k.forEach(((a,l)=>{var i,n,o;let r=null===S||void 0===S||null===(i=S[l])||void 0===i||null===(n=i.data)||void 0===n||null===(o=n[e.name])||void 0===o?void 0:o.time;t[a]=r?new Date(r):null})),{...e,Symbol:e.name,Sources:e.sources[0],Description:e.description,Time:H.name,...t}})),function(e,t,a){return"desc"===e?(e,a)=>ce(e,a,t):(e,a)=>-ce(e,a,t)}(a?"desc":"asc",t)))},U=Object(l.useMemo)((()=>Object(b.jsxs)(ee.a,{container:!0,style:{margin:"0px 6px"},children:[Object(b.jsxs)(ee.a,{container:!0,item:!0,md:12,sm:12,xs:12,spacing:2,children:[Object(b.jsx)(ee.a,{item:!0,md:3,sm:3,xs:3,children:Object(b.jsx)($,{options:T,value:u,label:"Categrories",handleChange:h,selectedStock:a})}),Object(b.jsx)(ee.a,{item:!0,md:2,sm:2,xs:2,children:Object(b.jsx)($,{options:m,value:H,label:"Time",handleChange:e=>{I(e),x(e)},selectedStock:a,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:""})}),Object(b.jsx)(ee.a,{item:!0,md:7,sm:7,xs:7,children:Object(b.jsx)($,{options:C,value:k,label:"Strategies",handleChange:e=>{e&&e.length?w([...e]):w([])},selectedStock:a,multiple:!0,renderOption:(e,t,a)=>{let l=null===a||void 0===a?void 0:a.selected;return Object(b.jsxs)("li",{...e,children:[Object(b.jsx)(re.a,{icon:Se,checkedIcon:Ce,checked:l}),t]})}})})]}),Object(b.jsx)(ee.a,{item:!0,md:12,sm:12,xs:12,children:Object(b.jsx)("div",{onKeyPress:F,children:Object(b.jsx)(je,{height:r,scrollableListRef:s,selectedStrategy:k,orderBy:N,createSortHandler:R,order:B,placeSelectedItemInTheMiddle:d,selectedStock:a,hanldeSelectedTime:x,handleStockChange:t,setSelectStockIndex:L,selectedTime:H,stocks:n,setStocks:o,strategiesData:S})})})]})),[n,a,B,N,u,T,n,H,k,S,C,S.length]),G=Object(l.useMemo)((()=>Object(b.jsx)(fe,{filtersColumns:[{label:"Symbol",numeric:!1},{label:"Interval",numeric:!1},{label:"Closing Session Time/Date",numeric:!1}],height:r,scrollableListRef:s,selectedStrategy:k,orderBy:N,createSortHandler:R,order:B,selectedCategory:u,selectedStock:a,hanldeSelectedTime:x,handleStockChange:t,setSelectStockIndex:L,selectedTime:H,stocks:n,setStocks:o,strategiesData:S,handleKeyDown:F,categories:T,setSelectedCategory:h,setSelectedTime:I,placeSelectedItemInTheMiddle:d})),[a,H]),X=Object(l.useRef)(null),[V,q]=Object(l.useState)(!1),K=i.a.useCallback((e=>{if(V){let t=window.innerWidth-(X.current.getBoundingClientRect().right-e.clientX)-10;j&&(t=Math.floor(t/2)),g({...v,width:t,height:window.innerHeight-80}),f({...O,width:t}),p(X.current.getBoundingClientRect().right-e.clientX)}}),[V]),J=i.a.useCallback((()=>{q(!1)}),[]),Y=i.a.useCallback((e=>{q(!0)}),[]);function Z(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}Object(l.useEffect)((()=>(window.addEventListener("mousemove",K),window.addEventListener("mouseup",J),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",J)})),[K,J]),Object(l.useEffect)((()=>(window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)})));const[te,ae]=i.a.useState(0);return Object(b.jsxs)("div",{ref:X,className:"app-sidebar",style:{width:y+"px",height:"calc(100vh - ".concat(52,"px")},onMouseDown:e=>e.preventDefault(),children:[A?Object(b.jsx)("div",{className:"watchListLoader"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{className:"app-sidebar-resizer",onMouseDown:Y}),Object(b.jsxs)("div",{className:"app-sidebar-content",style:{overflowX:"clip"},children:[Object(b.jsx)(Q.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(b.jsxs)(se.a,{value:te,onChange:(e,t)=>{ae(t)},"aria-label":"basic tabs example",children:[Object(b.jsx)(de.a,{label:"Symbol",...Z(0)}),Object(b.jsx)(de.a,{label:"Pattern Triggers",...Z(1)})]})}),Object(b.jsx)(_e,{value:te,index:0,children:U}),Object(b.jsx)(_e,{value:te,index:1,children:G})]})]})};const De=Object(r.a)((()=>({container:e=>({width:"calc(100% - ".concat(e,"px)")})})));var Me=function(e){let{dataBaseUrl:t}=e;const[a,n]=Object(l.useState)([]),[o,r]=Object(l.useState)(6),s=De(o),[d,c]=Object(l.useState)("candlestick"),[m,h]=Object(l.useState)("FOREX"),[g,v]=Object(l.useState)(!0),[p,y]=Object(l.useState)(!1),[j,k]=Object(l.useState)({...u}),w=Object(l.useRef)(null),[O,f]=Object(l.useState)("MMM"),[S,C]=Object(l.useState)(null),[_,T]=Object(l.useState)([]),[D,M]=Object(l.useState)({name:"1d",desc:"1 Day",ms:864e5}),[L,A]=Object(l.useState)({...j,width:"50%",height:window.innerHeight-80}),[E,H]=Object(l.useState)(x),[I,F]=Object(l.useState)(0),[B,W]=Object(l.useState)([]);i.a.useEffect((()=>{window.addEventListener("resize",(function(){var e;j.width===window.innerWidth-10&&j.height===window.innerHeight-80||(null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click(),k({...j,width:window.innerWidth-10,height:window.innerHeight-80}))}))}),[window.innerWidth,window.innerHeight]);const z=e=>{f(e)},R=e=>{"1d"!==(null===e||void 0===e?void 0:e.name)&&v(!1),M(e)};return Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsxs)("div",{className:s.container+" app-frame",children:[Object(b.jsx)(te,{setEnableDualChart:y,enableDualChart:p,handleGrapthType:e=>{c(e)},graphType:d,templateChange:e=>{H(e)},setSidebarWidth:r,selectedStock:O,handleStockChange:z,handlePatternChange:e=>{C(e),W([]),T([])},selectedTime:D,hanldeSelectedTime:R,selectedTemp:E,selectedPattern:S,handlSwitchToggle:e=>{F(e)},switchToggle:I,toggleFirstDayLine:g,setToggleFirstDayLine:v,dataBaseUrl:t}),Object(b.jsx)("div",{style:{height:"100vh",overflowY:"hidden"},children:Object(b.jsx)(N,{layout:j,enableDualChart:p,graphType:d,selectedTemp:E,toggleFirstDayLine:g,switchToggle:I,selectedPattern:S,selectedStock:O,setLayout:k,selectedTime:D,selectedCategory:m,selectedStrategy:B,sidebarWidth:o,secondaryLayout:L,setSecondaryLayout:A,dataBaseUrl:t,setStrategiesData:T,strategiesData:_})})]}),Object(b.jsx)(Te,{selectedStock:O,handleStockChange:z,stocks:a,setStocks:n,height:j.height,scrollableListRef:w,placeSelectedItemInTheMiddle:e=>{const t=315+21*e;w.current.scrollTo(t,0)},selectedCategory:m,setSelectedCategory:h,hanldeSelectedTime:R,setLayout:k,layout:j,setSidebarWidth:r,sidebarWidth:o,enableDualChart:p,selectedStrategy:B,setSelectedStrategy:e=>{W([...e]),C(null)},secondaryLayout:L,setSecondaryLayout:A,strategiesData:_})]})};var Le=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,1659)).then((t=>{let{getCLS:a,getFID:l,getFCP:i,getLCP:n,getTTFB:o}=t;a(e),l(e),i(e),n(e),o(e)}))},Ae=a(1634),Ee=a(1653),He=a(722),Ie=a(1633);let Fe="#901f61";const Be=Object(He.a)(Object(Ie.a)({palette:{primary:{main:Fe,light:"#901f6117"},secondary:{main:"#829ae621"}},typography:{fontSize:12,fontFamily:"Arial",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,h1:{fontSize:26,wordBreak:"break-all"},h2:{fontSize:24,wordBreak:"break-all"},h3:{fontSize:22,wordBreak:"break-all"},h4:{fontSize:20,wordBreak:"break-all"},h5:{fontSize:18,wordBreak:"break-all"},h6:{fontSize:18,wordBreak:"break-all"},subtitle1:{fontSize:20,fontWeight:"bold",wordBreak:"break-all"},subtitle2:{wordBreak:"break-all"},body1:{wordBreak:"break-all"},body2:{fontSize:13,wordBreak:"break-all"}},props:{MuiTextField:{variant:"standard",margin:"none"},MuiTooltip:{placement:"bottom",arrow:!0}},overrides:{MuiInput:{input:{fontSize:12}},MuiInputLabel:{root:{fontSize:12}},MuiTooltip:{tooltip:{fontSize:"10px",color:"white",backgroundColor:Fe},arrow:{color:Fe,backgroundColor:"white"}},MuiCheckbox:{colorSecondary:{"&$checked":{color:Fe}}},MuiTableCell:{root:{padding:"none",fontSize:"12px",minWidth:"10px",maxWidth:"10px",width:"10px"},head:{background:"#484848",color:"white",minWidth:"10px",maxWidth:"10px",width:"10px"}}}}));var We=a(25);o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(Ae.a,{injectFirst:!0,children:Object(b.jsx)(Ee.a,{theme:Be,children:Object(b.jsx)(q.a,{children:Object(b.jsxs)(We.c,{children:[Object(b.jsx)(We.a,{path:"/",element:Object(b.jsx)(Me,{dataBaseUrl:""})}),Object(b.jsx)(We.a,{path:"/db_v1",element:Object(b.jsx)(Me,{dataBaseUrl:"/db_v1"})})]})})})})}),document.getElementById("root")),Le()},286:function(e,t,a){},749:function(e,t,a){},968:function(e,t){},970:function(e,t){}},[[1565,1,2]]]);
//# sourceMappingURL=main.d78a5da3.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1055:function(e,t){},1563:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(138),i=a.n(r),l=(a(737),a(50)),o=a(27),s=a(19),u=(a(429),a(712)),x=a(715),p=a.n(x),d=a(4),b=p()(u),h=function(e){var t=e.style,a=e.data,n=e.layout,c=e.templates,r=e.time;return e.loader?Object(d.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(d.jsx)(b,{style:t,data:[a].concat(Object(o.a)(c||[])),layout:n,config:{responsive:!0}},r)},m=a(718),j=a.n(m),y=a(717),O=a.n(y),f=a(1623),g=a(1622),v=a(1618),k=a(420),w=a.n(k),T=a(716),M=a(421),S=a.n(M);S.a.defaults.baseURL="http://3.210.142.92:5000/";var C=function(){var e=Object(T.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(t)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=a(1621),A=a(1619),G=[{name:"1h",ms:36e5},{name:"1d",ms:864e5},{name:"1wk",ms:6048e5},{name:"1mo",ms:2629746e3}],D=[{name:"T1",id:1},{name:"T2",id:2},{name:"T3",id:3}],F=function(e){var t=e.handleGrapthType,a=e.graphType,c=e.templateChange,r=(e.templatesOptions,e.data,e.selectedStock),i=e.handleStockChange,o=e.selectedTime,u=e.hanldeSelectedTime,x=Object(n.useState)([]),p=Object(s.a)(x,2),b=p[0],h=p[1];return Object(n.useEffect)((function(){C("stocks/available").then((function(e){var t;console.log("res",e),h((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]),Object(d.jsxs)(E.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",style:{padding:"10px"},children:[Object(d.jsx)(E.a,{item:!0,xs:2,children:Object(d.jsx)(v.a,{value:r,disableClearable:!0,onChange:function(e,t){i(t)},fullWidth:!0,inputValue:r,options:b,renderInput:function(e){return Object(d.jsx)(A.a,Object(l.a)(Object(l.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(d.jsx)(E.a,{item:!0,xs:1,children:Object(d.jsxs)(g.a,{variant:"text","aria-label":"text button group",children:[Object(d.jsx)(f.a,{onClick:function(){return t("candlestick")},children:Object(d.jsx)(O.a,{color:"candlestick"===a?"primary":"action"})}),Object(d.jsx)(f.a,{onClick:function(){return t("ohlc")},children:Object(d.jsx)(j.a,{color:"ohlc"!==a?"primary":"action"})})]})}),Object(d.jsx)(E.a,{item:!0,xs:4,children:Object(d.jsx)(g.a,{variant:"text","aria-label":"text button group",children:G.map((function(e,t){return Object(d.jsx)(f.a,{onClick:function(){return u(e)},color:o.name!==e.name?"primary":"error",children:e.name},t)}))})}),Object(d.jsxs)(E.a,{item:!0,xs:5,children:[" ",Object(d.jsx)(g.a,{variant:"text","aria-label":"text button group",children:D.map((function(e,t){return Object(d.jsx)(f.a,{onClick:function(){return c(e)},children:e.name},t)}))})]})]})},L=function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(t,a){return t<e.close[a]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}},z=function(e){return{graph:[{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(t,a){return(t+e.high[a])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},I=function(e,t){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(255,0,0,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(t,a){return t<e.close[a]?t:-1*t})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},B=function(e){return[{name:"T1",id:1,template:Object(l.a)({},L(e))},{name:"T2",id:2,template:Object(l.a)({},z(e))},{name:"T3",id:3,template:Object(l.a)({},I(e))}]},J={x:[],close:[],decreasing:{size:8,fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"candlestick",xaxis:"x",yaxis:"y"};var N=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("candlestick"),i=Object(s.a)(r,2),u=i[0],x=i[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),m=b[0],j=(b[1],Object(n.useState)([])),y=Object(s.a)(j,2),O=(y[0],y[1],Object(n.useState)([])),f=Object(s.a)(O,2),g=(f[0],f[1],Object(n.useState)({dragmode:"zoom",margin:{t:0,l:30,r:0,b:0},showlegend:!1,xaxis:{domain:[0,1],range:[],rangeslider:{visible:!1},title:"Date",type:"date"},itemwidth:50,yaxis:{domain:[0,1],range:[169,187],rangeslider:{visible:!1},position:1,side:"bottom"},opacity:.2,autosize:!0,height:550})),v=Object(s.a)(g,2),k=v[0],w=v[1],T=Object(n.useState)("MMM"),M=Object(s.a)(T,2),S=M[0],E=M[1],A=Object(n.useState)({name:"1d",ms:864e5}),G=Object(s.a)(A,2),D=G[0],L=G[1],z=Object(n.useState)(Object(l.a)({},J)),I=Object(s.a)(z,2),N=I[0],P=I[1],R=function(e,t,a){c(!0);var n="stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=").concat(t.name);a&&(n+="&template=".concat(a)),C(n).then((function(e){var a;c(!1);var n=Object(o.a)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data),r=[],i=[],s=[],u=[],x=[],p=[],d=[],b=[];null===n||void 0===n||n.forEach((function(e){var t,a,n;r.push(e.high),i.push(e.low),s.push(e.open),u.push(e.close),p.push(null===(t=e.indicators)||void 0===t?void 0:t.EMA0),d.push(null===(a=e.indicators)||void 0===a?void 0:a.EMA1),b.push(null===(n=e.indicators)||void 0===n?void 0:n.EMA2),x.push(new Date(e.date))}));for(var h=Math.min.apply(Math,Object(o.a)(i.filter((function(e){return null!==e})))),m=Math.min.apply(Math,Object(o.a)(u.filter((function(e){return null!==e})))),j=h>m?m:h,y=Math.min.apply(Math,Object(o.a)(i.filter((function(e){return null!==e})))),O=Math.max.apply(Math,Object(o.a)(u.filter((function(e){return null!==e})))),f=O>y?O:y,g=0;g<20;g++)r.push(null),i.push(null),s.push(null),u.push(null),p.push(null),d.push(null),b.push(null),x.push(new Date(Date.now(x[x.length-1])+(g+1)*t.ms));P(Object(l.a)(Object(l.a)({},J),{},{high:r,low:i,open:s,close:u,x:x,EMA0:p,EMA1:d,EMA2:b})),w(Object(l.a)(Object(l.a)({},k),{},{yaxis:Object(l.a)(Object(l.a)({},k.yaxis),{},{range:[j,f]}),xaxis:Object(l.a)(Object(l.a)({},k.xaxis),{},{range:[new Date(Date.now(x[x.length-1])-214*t.ms),new Date(x[x.length-1])],rangeslider:{visible:!1}})}))})).catch((function(e){c(!1)}))};return Object(n.useState)((function(){R(S,D)}),[]),Object(d.jsxs)(d.Fragment,{children:[a?Object(d.jsx)("div",{className:"loader"}):Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("div",{style:{padding:"10px"},children:[Object(d.jsx)(F,{graphType:u,handleGrapthType:function(e){x(e)},templateChange:function(e){R(S,D,e.id)},templatesOptions:B,data:N,selectedStock:S,selectedTime:D,hanldeSelectedTime:function(e){L(e),R(S,e)},handleStockChange:function(e){E(e),R(e,D)}}),Object(d.jsxs)("div",{id:"fullscreen",children:[Object(d.jsx)(h,{time:D,style:{width:"100%",height:"100%"},data:Object(l.a)(Object(l.a)({},N),{},{type:u}),layout:k,templates:N.EMA0?[{x:N.x,y:N.EMA0,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:N.x,y:N.EMA1,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:N.x,y:N.EMA2,xaxis:"x",yaxis:"y",marker:{color:"blue"}}]:[],loader:a}),m.map((function(e){return Object(d.jsx)(h,{style:{width:"100%"},data:Object(l.a)({},e),layout:Object(l.a)(Object(l.a)({},k),{},{autosize:!0,height:150}),templates:e.mergedGraphs},e)}))]})]})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1625)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),P()},429:function(e,t,a){},737:function(e,t,a){},938:function(e,t){},940:function(e,t){}},[[1563,1,2]]]);
//# sourceMappingURL=main.bb2d9d37.chunk.js.map
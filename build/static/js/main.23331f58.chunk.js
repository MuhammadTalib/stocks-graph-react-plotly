(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1076:function(e,t){},1558:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),n=a(139),o=a.n(n),r=(a(742),a(1635)),s=a(185),d=a.n(s);d.a.defaults.baseURL="http://3.210.142.92:5000/";const c=async(e,t,a)=>"post"===t?await d.a.post("".concat(e),a).then((e=>e)).catch((e=>{console.log(e)})):await d.a.get("".concat(e)).then((e=>e)).catch((e=>{console.log(e)})),u={dragmode:"pan",margin:{r:10,t:25,b:40,l:20},hovermode:"x",showlegend:!0,legend:{x:0,y:1,traceorder:"normal",font:{family:"sans-serif",size:12,color:"#000"},bgcolor:"#E2E2E211",bordercolor:"#FFFFFF"},xaxis:{domain:[0,1],rangeslider:{visible:!1},autorange:!1,type:"category",tickmode:"array",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom",type:"linear",showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor",spikethickness:1,spikecolor:"black",spikedash:"dot"},opacity:.2,autosize:!0,width:window.innerWidth-10,height:window.innerHeight-80},h=[{name:"5m",desc:"5 Minutes",ms:3e5},{name:"10m",desc:"10 Minutes",ms:6e5},{name:"15m",desc:"15 Minutes",ms:9e5},{name:"30m",desc:"30 Minutes",ms:18e5},{name:"1h",desc:"1 Hour",ms:36e5},{name:"2h",desc:"2 Hour",ms:72e5},{name:"4h",desc:"4 Hour",ms:144e5},{name:"6h",desc:"6 Hour",ms:216e5},{name:"8h",desc:"8 Hour",ms:288e5},{name:"12h",desc:"12 Hour",ms:432e5},{name:"18h",desc:"18 Hour",ms:648e5},{name:"1d",desc:"1 Day",ms:864e5},{name:"2d",desc:"2 Day",ms:1728e5},{name:"3d",desc:"3 Day",ms:2592e5},{name:"1wk",desc:"1 Week",ms:6048e5},{name:"2wk",desc:"2 Week",ms:12096e5},{name:"1mo",desc:"1 Month",ms:2629746e3}],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],x={id:0,name:"T0",merged:{},separate:{}},g={x:[],name:"main",close:[],decreasing:{fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},low:[],open:[],type:"candlestick",hoverinfo:"x"},v=[{name:"T0",id:0,merged:{},separate:{},layout:{yaxis:{...u.yaxis,domain:[0,1]}}},{name:"T1",id:1,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 20",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"},hoverinfo:"x"},EMA1:{data:[],name:"EMA 22",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 26",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}}},separate:{"Volume EMA":{data:[],name:"Volume",marker:{color:"#9fa5c5"},yaxis:"y2",hoverinfo:"x",type:"bar",markerFn:(e,t)=>({color:t.open.map(((e,a)=>e<t.close[a]?"green":"red"))})}},layout:{yaxis:{...u.yaxis,domain:[.3,1]},yaxis2:{...u.yaxis,domain:[0,.25]}}},{name:"T2",id:2,merged:{EMA0:{data:[],xaxis:"x",name:"EMA 10",yaxis:"y",mode:"line",type:"scatter",marker:{size:4,color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",type:"scatter",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",type:"scatter",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],xaxis:"x",yaxis:"y",name:"EMA 20",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},separate:{},layout:{yaxis:{...u.yaxis,domain:[0,1]}}},{name:"T3",id:3,merged:{donchian_price0:{data:[],name:"DONCHIAN AVG",xaxis:"x",yaxis:"y",marker:{color:"blue",size:12},line:{width:1}},donchian_min0:{data:[],name:"DONCHAIN MIN",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}},donchian_max0:{data:[],name:"DONCHAIN MAX",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}},ema_10:{data:[],name:"EMA 10",xaxis:"x",yaxis:"y",marker:{color:"blue"},line:{width:2}}},separate:{"%R0":{data:[],name:"%R(5)",type:"bar",marker:{color:"blue"},yaxis:"y2"},"%R1":{data:[],name:"%R(20)",type:"bar",marker:{color:"red"},yaxis:"y3"}},layout:{yaxis:{...u.yaxis,domain:[.55,1]},yaxis2:{...u.yaxis,domain:[.25,.5]},yaxis3:{...u.yaxis,domain:[0,.25]},xaxis:{...u.xaxis}}},{name:"T4",id:4,merged:{SMA0:{data:[],name:"MMA 20",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,173,89)"}},SMA1:{data:[],name:"MMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(253,91,252)"}},SMA2:{data:[],name:"MMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(172,91,170)"}},SMA3:{data:[],name:"MMA 200",xaxis:"x",yaxis:"y",marker:{color:"rgb(89,89,89)"}}},layout:{yaxis:{...u.yaxis,domain:[.5,1]},yaxis2:{...u.yaxis,domain:[.3,.45],range:[-5,5],autorange:!1},yaxis3:{...u.yaxis,domain:[.15,.3]},yaxis4:{...u.yaxis,domain:[0,.15]},xaxis:{...u.xaxis}},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACD HIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:e=>({color:e.map(((e,t)=>e>0?"green":"red"))})},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}}},{name:"T5",id:5,merged:{EMA0:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 50",xaxis:"x",yaxis:"y",marker:{color:"rgb(255,0,56)"}},EMA2:{data:[],name:"EMA 100",xaxis:"x",yaxis:"y",marker:{color:"rgb(13,190,58)"}},EMA3:{data:[],name:"EMA 200",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{MACD0:{data:[],name:"MACD LINE",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},MACDSIGNAL0:{data:[],name:"MACD SIGNAL",xaxis:"x",yaxis:"y2",marker:{color:"black"}},MACDHIST0:{data:[],name:"MACDHIST",type:"bar",xaxis:"x",yaxis:"y3",markerFn:e=>({color:e.map(((e,t)=>e>0?"green":"red"))})},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y4"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y4",marker:{color:"rgb(13,0,255)"}},line1:{customLine:20,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{dash:"dash",width:2,color:"red"}},line2:{customLine:80,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y4",line:{color:"red",dash:"dash",width:2}}},layout:{yaxis:{...u.yaxis,domain:[.5,1]},yaxis2:{...u.yaxis,domain:[.3,.45]},yaxis3:{...u.yaxis,domain:[.15,.3]},yaxis4:{...u.yaxis,domain:[0,.15]},xaxis:{...u.xaxis}}},{name:"T6",id:6,merged:{EMA0:{data:[],name:"EMA 10",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA1:{data:[],name:"EMA 11",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA2:{data:[],name:"EMA 13",xaxis:"x",yaxis:"y",marker:{color:"blue"}},EMA3:{data:[],name:"EMA 20",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA4:{data:[],name:"EMA 22",xaxis:"x",yaxis:"y",marker:{color:"red"}},EMA5:{data:[],name:"EMA 26",xaxis:"x",yaxis:"y",marker:{color:"red"}}},layout:{yaxis:{...u.yaxis,domain:[.35,1]},yaxis2:{...u.yaxis,domain:[0,.3]},xaxis:{...u.xaxis}},separate:{HIST0:{data:[],type:"bar",name:"HIST0",markerFn:e=>({color:e.map(((e,t)=>e>0?"rgb(38,165,154)":"rgb(254,82,82)"))}),xaxis:"x",yaxis:"y2"}}},{name:"T7",id:7,merged:{EMA0:{data:[],name:"EMA 5",xaxis:"x",yaxis:"y",marker:{color:"blue"}},MA0:{data:[],name:"MA 10",xaxis:"x",yaxis:"y",marker:{color:"black"}},MA1:{data:[],name:"MA 30",xaxis:"x",yaxis:"y",marker:{color:"black"}}},separate:{RSI0:{data:[],name:"RSI(14)",marker:{color:"blue"},xaxis:"x",yaxis:"y2"},line1:{customLine:60,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{dash:"dashdot",width:2,color:"green"}},line2:{customLine:40,data:[],mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y2",line:{color:"red",dash:"dash",width:2}},stochd0:{data:[],name:"stochd",marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y3"},stochk0:{data:[],name:"stochk",xaxis:"x",yaxis:"y3",marker:{color:"rgb(13,0,255)"}},line3:{data:[],customLine:10,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line4:{data:[],customLine:90,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line5:{data:[],customLine:20,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}},line6:{data:[],customLine:80,mode:"lines",xaxis:"x",showlegend:!1,yaxis:"y3",line:{color:"blue",dash:"dash",width:2}}},layout:{yaxis:{...u.yaxis,domain:[.55,1]},yaxis2:{...u.yaxis,domain:[.25,.5],range:[20,80],autorange:!1},yaxis3:{...u.yaxis,domain:[0,.25]},xaxis:{...u.xaxis}}}];var p=a(2);function y(e){return e.reduce((function(e,t){return Math.min(e,t)}))}const b=(e,t,a)=>[...e?[{x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,a)=>e?t.high[a]:null)),showlegend:!1,name:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,i)=>e?"Confirm High "+t.high[a]:null)),mode:"markers",marker:{color:null===t||void 0===t?void 0:t.ConfrimHigh.map(((e,a)=>e?t.is_closed_based[a]?"red":t.real_condition[a]?"black":t.insertion_condition[a]?"green":t.modified_condition[a]?"purple":null:null)),symbol:"diamond"},hoverinfo:"skip"}]:[],...e?[{x:null===t||void 0===t?void 0:t.x,y:t.ConfrimLow.map(((e,a)=>e?t.low[a]:null)),showlegend:!1,name:"Confirm Low "+t.low[a],mode:"markers",marker:{color:null===t||void 0===t?void 0:t.ConfrimLow.map(((e,a)=>e?t.is_closed_based[a]?"red":t.real_condition[a]?"black":t.insertion_condition[a]?"green":t.modified_condition[a]?"purple":null:null)),symbol:"diamond"},hoverinfo:"skip"}]:[]],j=(e,t,a)=>{var i;return(null===e||void 0===e||null===(i=e[a])||void 0===i?void 0:i[t])?e.is_closed_based[t]?"Closed Based":e.real_condition[t]?"Real Condition":e.insertion_condition[t]?"Insertion Condition":e.modified_condition[t]?"Modified Condition":null:null},k=(e,t,a,i)=>{let l=[];return 6===e.id&&(l=[{...g,type:i,name:"Red price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map(((e,a)=>t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_red?e:null:e)):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"red",line:{color:"ohlc"===i?"red":"black",width:1}},increasing:{fillcolor:"red",line:{color:"ohlc"===i?"red":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData},{...g,type:i,name:"Green price",high:t.elder_impulse_system&&t.elder_impulse_system.length?t.realHigh&&t.realHigh.map(((e,a)=>t.elder_impulse_system[a]?1===t.elder_impulse_system[a].is_green?e:null:e)):t.realHigh,low:t.low,open:t.open,close:t.close,decreasing:{fillcolor:"green",line:{color:"ohlc"===i?"green":"black",width:1}},increasing:{fillcolor:"green",line:{color:"ohlc"===i?"green":"black",width:1}},x:t.x,ConfrimHigh:t.ConfrimHigh,ConfrimLow:t.ConfrimLow,patternData:t.patternData}]),e.merged&&Object.keys(e.merged).length?[...l,...Object.keys(e.merged).map((i=>({...e.merged[i],x:null===t||void 0===t?void 0:t.x,y:e.merged[i].data.map((e=>e||null)),name:"".concat(e.merged[i].name," ").concat(e.merged[i].data[a]),hoverinfo:"x"})))]:[]},w=(e,t,a)=>e.separate&&Object.keys(e.separate).length?[...Object.keys(e.separate).map((i=>({...e.separate[i],x:null===t||void 0===t?void 0:t.x,y:e.separate[i].data.map((e=>e||null)),...e.separate[i].markerFn?{marker:e.separate[i].markerFn(e.separate[i].data,t)}:{},name:"".concat(e.separate[i].name," ").concat(e.separate[i].data[a]),hoverinfo:"x"})))]:[],f=(e,t)=>{let a=e&&t.patternData.findLastIndex((e=>Object.values(e).includes(1)));return e&&a>=0?[{type:"rect",text:"ddd",x0:a-.5,y0:0,x1:a+.5,yref:"paper",y1:1,line:{color:"#ffff00",width:1.5},hoverinfo:"x",fillcolor:"#ffff00",opacity:.6}]:[]},O=(e,t)=>e?t.x.slice(0,t.x.length-23).map(((e,a)=>{let i=new Date(e).getDate(),l=new Date(t.x[a-1]).getDate(),n=new Date(t.x[a-2]).getDate();return 1===i||2===i&&1!==l||3===i&&1!==n&&2!==l?{type:"line",text:"ddd",x0:String(e),y0:0,x1:String(e),yref:"paper",y1:1,line:{color:"grey",width:1.5,dash:"dot"},hoverinfo:"x"}:null})):[];const S=(e,t,a,i)=>{let l=e&&e.length&&Object.keys(e[0]).filter((e=>!["trigger","trigger_failure","trigger_failure_value","trigger_value"].find((t=>t===e)))),n="";return e.length&&Array.isArray(l)&&l.forEach(((i,l)=>{var o,r,s;(C(a)?(null===e||void 0===e||null===(o=e[t])||void 0===o?void 0:o.pattern_end)&&(null===e||void 0===e||null===(r=e[t])||void 0===r?void 0:r[i])&&"pattern_end"!==i:null===e||void 0===e||null===(s=e[t])||void 0===s?void 0:s[i])&&(n.length>0&&(n+=", "),n+=i)})),(C(a)&&n?"".concat(a," - "):"")+n+("All Failure Patterns"===a&&n?i.close[t]>i.open[t]?" - Bullish":" - Bearish":"")},C=e=>["T3 Down","T3 Up","T3 Sell","T3 Buy","T3 Turn Down","T3 Turn Up","T3 Rev Up","T3 Rev Down","T3 Bull Now","T3 Bear Now","T3 Up Down","T3 Down Up"].includes(e),_=(e,t,a)=>{var i,l,n;if("All Failure Patterns"===t)return[];let o=e.patternData;if("All Reversal Patterns"===t||C(t)||"All High/Low Patterns"===t||a){var r;o=e.patternData&&e.patternData[0];let a=(null===e||void 0===e?void 0:e.pattern_name_list)||(null===(r=o&&Object.keys(o))||void 0===r?void 0:r.filter((e=>!["trigger","trigger_failure","trigger_failure_value","trigger_value"].find((t=>t===e)))));o=e.patternData.map((e=>{let i=0;if(Array.isArray(a))for(let l of a)if(e[l]){i=C(t)?null===e||void 0===e?void 0:e.pattern_end:1;break}return i}))}return(null===(i=o)||void 0===i?void 0:i.length)?[{x:null===e||void 0===e?void 0:e.x,y:null===(l=o)||void 0===l?void 0:l.map(((t,a)=>{let i=(e.max-e.min)/100*2.5;return t?e.close[a]>e.open[a]?Number(e.low[a])-i:Number(e.high[a])+i:null})),showlegend:!1,mode:"markers",marker:{color:null===(n=o)||void 0===n?void 0:n.map(((a,i)=>a?"All High/Low Patterns"===t||e.close[i]<e.open[i]?"red":"green":null)),symbol:o.map(((a,i)=>a?"All High/Low Patterns"===t?"x":e.close[i]<e.open[i]?"triangle-down":"triangle-up":null)),size:7},hoverinfo:"skip"}]:[]},M=(e,t)=>{var a,i,l,n,o;let r=e.patternTrigger;if(t){var s;let t=e.pattern_name_list||(null===(s=r&&Object.keys(r))||void 0===s?void 0:s.filter((e=>!["trigger","trigger_failure","trigger_failure_value","trigger_value"].find((t=>t===e)))));r=e.patternTrigger.map((e=>{let a=null;if(Array.isArray(t))for(let l of t){var i;if(null===(i=e[l])||void 0===i?void 0:i.trigger){a=e[l];break}}return a}))}return(null===(a=r)||void 0===a?void 0:a.length)?[{x:null===e||void 0===e?void 0:e.x,y:null===(i=r)||void 0===i?void 0:i.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?Number(e.trigger_value):null)),showlegend:!1,mode:"markers",marker:{color:null===(l=r)||void 0===l?void 0:l.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?"red":null)),symbol:r.map(((e,t)=>(null===e||void 0===e?void 0:e.trigger)?"x":null)),size:7},hoverinfo:"skip"},{x:null===e||void 0===e?void 0:e.x,y:null===(n=r)||void 0===n?void 0:n.map(((t,a)=>{let i=(e.max-e.min)/100*2.5;return(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]>e.open[a]?(null===t||void 0===t?void 0:t.trigger_failure_value)-i:t.trigger_failure_value+i:null})),showlegend:!1,mode:"markers",marker:{color:null===(o=r)||void 0===o?void 0:o.map(((t,a)=>(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]<e.open[a]?"red":"green":null)),symbol:r.map(((t,a)=>(null===t||void 0===t?void 0:t.trigger_failure)?e.close[a]<e.open[a]?"triangle-down":"triangle-up":null)),size:7},hoverinfo:"skip"}]:[]};var D=a(712),T=a(715),L=a.n(T);a(285);const A=L()(D),E=e=>{var t;let{data:a,layout:l,templates:n,loader:o,separateGraphs:r,onHover:s,onUnhover:d,onClick:c,toggleFirstDayLine:u,onDoubleClick:h,id:m,setLayout:x,dualChartWidth:g,sidebarWidth:v,selectedStrategy:y}=e;null===(t=document.querySelector('[data-title="Autoscale"]'))||void 0===t||t.addEventListener("onclick",(function(e){}));let[b,j]=Object(i.useState)([]);return Object(i.useEffect)((()=>{let e=[];(null===r||void 0===r?void 0:r.length)&&r.forEach((t=>{var a,i;e.push(t),(null===t||void 0===t||null===(a=t.templates)||void 0===a?void 0:a.length)&&(null===(i=t.templates)||void 0===i||i.forEach((t=>{e.push(t)})))})),j(e)}),[r]),o?Object(p.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(p.jsx)(A,{id:m,onClick:c,onDoubleClick:h,onHover:s,onUnhover:d,data:[a,...n||[],...b],layout:{...l,shapes:[...O(u,a),...y.length<2?f(a.strategiesData,a):[]]},config:{scrollZoom:!0},useResizeHandler:!0,onRelayout:e=>{e["xaxis.autorange"]&&x({...l,xaxis:{...l.xaxis,autorange:!1,range:[a.x.length-280,a.x.length-1]},width:window.innerWidth-g-v,shapes:[...O(u,a),...f(a.strategiesData,a)]})}})};var H=e=>{let{selectedStock:t,ohlc:{high:a,low:i,open:l,close:n,ConfrimLow:o,ConfrimHigh:r},selectedPattern:s,selectedTime:d,patternTrigger:c}=e;return Object(p.jsxs)("div",{style:{marginLeft:"10px",fontSize:"12px"},children:[t&&Object(p.jsxs)("div",{children:[t.name," - ",t.description||"description"," - ",t.sources.length&&String(t.sources[0]).toUpperCase()," - ",d.desc]}),Object(p.jsxs)("div",{children:["Open: ",l," High: ",a," Low: ",i," Close: ",n]}),s||c?Object(p.jsxs)("div",{children:["Pattern: ",s]}):Object(p.jsx)(p.Fragment,{}),o?Object(p.jsxs)("div",{children:["Confirm Low: ",o," - ",i]}):Object(p.jsx)(p.Fragment,{}),r?Object(p.jsxs)("div",{children:["Confirm High: ",r," - ",a]}):Object(p.jsx)(p.Fragment,{})]})};function F(e){var t,a,l;let{onHover:n,onUnhover:o,onClick:r,pointIndex:s,graphType:u,style:h,layout:x,toggleFirstDayLine:v,switchToggle:f,selectedTemp:O,selectedPattern:D,type:T,onDoubleClick:L,selectedStock:A,selectedTime:F,selectedCategory:I,id:B,setLayout:W,selectedStrategy:z,enableDualChart:N,sidebarWidth:R,dualChartWidth:P,dataBaseUrl:U,setStrategiesData:G,strategiesData:X}=e;const[V,q]=Object(i.useState)({...g}),[J,K]=Object(i.useState)(O);Object(i.useEffect)((()=>{K(O)}),[O]);const[Y,Z]=Object(i.useState)(!1),$=Object(i.useRef)(),Q=function(e,t,a,i,l,n,o,r,s,u,h,x,v){return async(p,b,j,k,w,f)=>{var O,S,_,M,D;null===(O=document.querySelector('[data-title="Autoscale"]'))||void 0===O||O.click();let T=null===h||void 0===h?void 0:h.length;if(T){let a=h[T-1];t(!0);let i=await d.a.get("stocks/get_strategy_watchlist?watch_list=".concat(e,"&interval=").concat(b.name,"&strategy_name=").concat(a));t(!1),x([...new Map([...v,{data:i.data.data,name:a}].map((e=>[e.name,e]))).values()].filter((e=>h.includes(e.name))))}else x(v.filter((e=>h.find((t=>t===e.name)))));if(!e||!(null===p||void 0===p?void 0:p.name)||(null===p||void 0===p?void 0:p.selectedSource))return;t(!0);let L=T>0?"stocks/strategy_data_against_symbol":"stocks".concat(u||"","?category=").concat(e,"&symbol=").concat(null===(S=p.name)||void 0===S?void 0:S.toLowerCase(),"&source=").concat((null===p||void 0===p?void 0:p.selectedSource)||(null===p||void 0===p||null===(_=p.sources)||void 0===_?void 0:_.length)&&p.sources[0],"&interval=").concat(b.name);T<=0&&(j&&(null===j||void 0===j?void 0:j.id)>0&&(L+="&template=".concat(j.id)),(null===k||void 0===k?void 0:k.length)&&(L+="&pattern=".concat(k)),w&&(L+="&meta_template=".concat(w))),await c(L,T?"post":null,{watch_list:e,interval:b.name,symbol:null===(M=p.name)||void 0===M?void 0:M.toLowerCase(),strategies:h,source:(null===p||void 0===p?void 0:p.selectedSource)||(null===p||void 0===p||null===(D=p.sources)||void 0===D?void 0:D.length)&&p.sources[0]}).then((e=>{var d,c;t(!1);let u=null===(d=e.data)||void 0===d?void 0:d.patterns_list,x=[...null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.data],v=[],p=[],O=[],S=[],_=[],M=[],D=[],T=[],L=[],A=[],E=[],H=[],F=[],I=[],B=j&&j.merged,W=B;Object.keys(B).length&&Object.keys(B).forEach((e=>{W[e].data=[]}));let z=j&&j.separate,N=z;Object.keys(z).length&&Object.keys(z).forEach((e=>{N[e].data=[]})),null===x||void 0===x||x.forEach(((e,t)=>{var a,i,l;let n=e;if(v.push(n.high),p.push(n.low),O.push(n.open),S.push(n.close),_.push(new Date(n.date).toUTCString()),w&&(L.push(n["meta-indicators"]["Confrim High"]),A.push(n["meta-indicators"]["Confrim Low"]),F.push(n.insertion_condition),H.push(n.is_closed_based),E.push(n.real_condition),I.push(n.modified_condition)),void 0===(null===(a=n[k])||void 0===a?void 0:a.pattern_end)&&void 0===(null===(i=n[k])||void 0===i?void 0:i.trigger_value)||void 0===(null===(l=n[k])||void 0===l?void 0:l.trigger)||"All High/Low Patterns"===k)void 0!==n[k]&&M.push(n[k]);else{var o,r,s,d,c;let e={trigger:null===(o=n[k])||void 0===o?void 0:o.trigger,trigger_value:null===(r=n[k])||void 0===r?void 0:r.trigger_value,trigger_value_max:null===(s=n[k])||void 0===s?void 0:s.trigger_value_max,trigger_value_min:null===(d=n[k])||void 0===d?void 0:d.trigger_value_min};var m,x,g;(null===(c=n[k])||void 0===c?void 0:c.trigger_failure)&&(e={...e,trigger_failure:null===(m=n[k])||void 0===m?void 0:m.trigger_failure,trigger_failure_value:null===(x=n[k])||void 0===x?void 0:x.trigger_failure_value}),"All Failure Patterns"===k||C(k)?M.push(n[k]):M.push(null===(g=n[k])||void 0===g?void 0:g.pattern_end),D.push(e)}if(h.length){let e={},t={};u.forEach((a=>{var i,l,o,r,s,d,c,u;void 0===(null===(i=n[a])||void 0===i?void 0:i.pattern_end)&&void 0===(null===(l=n[a])||void 0===l?void 0:l.trigger_value)||void 0===(null===(o=n[a])||void 0===o?void 0:o.trigger)||(t[a]={trigger:null===(r=n[a])||void 0===r?void 0:r.trigger,trigger_value:null===(s=n[a])||void 0===s?void 0:s.trigger_value,trigger_value_max:null===(d=n[a])||void 0===d?void 0:d.trigger_value_max,trigger_value_min:null===(c=n[a])||void 0===c?void 0:c.trigger_value_min},e[a]=null===(u=n[a])||void 0===u?void 0:u.pattern_end)})),M.push({...e}),D.push({...t})}var y;j&&(B&&Object.keys(B).length&&Object.keys(B).forEach((e=>{W[e].data=[...W[e].data,n.indicators[e]]})),z&&Object.keys(z).length&&Object.keys(z).forEach((e=>{N[e].data=[...N[e].data,N[e].customLine?N[e].customLine:n.indicators[e]]})),6===j.id&&T.push(null===(y=n.indicators)||void 0===y?void 0:y.elder_impulse_system))}));let R={...a,...j.layout};for(let t=0;t<23;t++)v.push(null),p.push(null),O.push(null),S.push(null),_.push(new Date(Date.now(_[_.length-1])+(t+1)*b.ms).toUTCString()),j&&(B&&Object.keys(B).forEach((e=>{W[e].data=[...W[e].data,null]})),z&&Object.keys(z).forEach((e=>{N[e].data=[...N[e].data,null]})));var P;j&&i({...j,merged:W,separate:N}),l({...g,realHigh:v,high:T.length?v.map(((e,t)=>T[t]?1!==T[t].is_red||1!==T[t].is_green?e:null:e)):v,low:p,open:O,close:S,x:_,hovertext:v,increasing:6===j.id?{fillcolor:"blue",line:{color:"ohlc"===o?"blue":"black",width:1}}:g.increasing,decreasing:6===j.id?{fillcolor:"blue",line:{color:"ohlc"===o?"blue":"black",width:1}}:g.decreasing,ConfrimHigh:L,ConfrimLow:A,patternData:M,patternTrigger:D,pattern_name_list:h.length>0?[...(null===f||void 0===f?void 0:f.pattern_name_list)||[],...u||[]]:null,strategiesData:!!h.length,elder_impulse_system:T,max:(P=v,P.reduce((function(e,t){return Math.max(e,t)}))),min:y(p.filter((e=>0!==e&&null!==e))),insertion_condition:F,is_closed_based:H,real_condition:E,modified_condition:I}),n({...R,width:r?(window.innerWidth-s)/2:window.innerWidth-s,dualChartSet:r,height:window.innerHeight-80,xaxis:{...a.xaxis,rangeslider:{visible:!1},autorange:!1,range:[_.length-280,_.length-1],tickvals:[..._.filter(((e,t)=>t%15===0))],ticktext:[..._.filter(((e,t)=>t%15===0)).map((e=>{let t=new Date(e);return m[t.getMonth()]+" "+t.getUTCFullYear()}))]},shapes:[...v.map(((e,t)=>{if(M[t]){let e=Math.min(p[t],v[t],O[t],S[t]),a=Math.max(p[t],v[t],O[t],S[t]);return{type:"rect",xref:"x",yref:"y",x0:String(new Date(_[t-1]).toUTCString()),y0:e,x1:String(new Date(_[t+1]).toUTCString()),width:1,y1:a,fillcolor:"yellow",opacity:.6,rightMargin:3,line:{width:2,color:O[t]<S[t]?"green":"red",opacity:1},hoverinfo:"x"}}return null}))]})})).catch((e=>{console.log("err",e),t(!1),l(null)}))}}(I,Z,x,K,q,W,u,N,R,U,z,G,X);return Object(i.useEffect)((()=>{let e=!0;A!==$.current&&(e=!1),$.current=A,F&&Q(A,F,J,D,f,V,e)}),[A,F,I,D,f,J.id,u,N,z]),V&&(null===V||void 0===V||null===(t=V.x)||void 0===t?void 0:t.length)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(H,{selectedStock:A,ohlc:{high:V.high[s],low:V.low[s],open:V.open[s],close:V.close[s],ConfrimHigh:j(V,s,"ConfrimHigh"),ConfrimLow:j(V,s,"ConfrimLow")},selectedPattern:(V.patternData[s]?"All Reversal Patterns"===D||"All Failure Patterns"===D||C(D)||"All High/Low Patterns"===D||V.strategiesData?S(V.patternData,s,D,V):D:void 0)||((null===V||void 0===V||null===(a=V.patternTrigger[s])||void 0===a?void 0:a.trigger_failure)?D:void 0),patternTrigger:null===V||void 0===V||null===(l=V.patternTrigger[s])||void 0===l?void 0:l.trigger_failure,selectedTime:F,pointIndex:s,data:V}),Object(p.jsx)(E,{id:B,onHover:n,onUnhover:o,onClick:r,onDoubleClick:()=>L(T),style:{...h,border:"1px solid red"},data:{...V,type:u},layout:x,toggleFirstDayLine:v,templates:[...k(J,V,s,u),...b(f,V,s),..._(V,D,V.strategiesData)||[],...M(V,V.strategiesData)||[]],separateGraphs:[...w(J,V,s)],loader:Y,setLayout:W,dualChartWidth:P,sidebarWidth:R,selectedStrategy:z})]}):Object(p.jsx)(p.Fragment,{})}const I={width:"100%",height:"100%"};var B=e=>{let{layout:t,enableDualChart:a,graphType:n,selectedTemp:o,separateGraphs:r,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,setLayout:u,selectedStock:h,selectedTime:m,selectedCategory:x,selectedStrategy:g,sidebarWidth:v,secondaryLayout:y,setSecondaryLayout:b,dataBaseUrl:j,setStrategiesData:k,strategiesData:w}=e;const[f,O]=Object(i.useState)(null);Object(i.useEffect)((()=>{let e=(e=>{switch(e.name){case"1d":case"2d":case"3d":return{name:"1wk",desc:"1 Week",ms:6048e5};case"1wk":case"2wk":return{name:"1mo",desc:"1 Month",ms:2629746e3};default:return{name:"1d",desc:"1 Day",ms:864e5}}})(m);O(a?e:m)}),[m,a]);const[S,C]=Object(i.useState)("crosshair"),[_,M]=Object(i.useState)(""),[D,T]=Object(i.useState)(1),L=e=>{let{points:[t]}=e;T(t.pointIndex),C("crosshair")},A=()=>{C("crosshair")},E=()=>{C("grabbing")},H=Object(i.useRef)(null),[B,W]=Object(i.useState)(!1),[z,N]=Object(i.useState)(0),R=l.a.useCallback((()=>{W(!1)}),[]),P=l.a.useCallback((e=>{W(!0)}),[]),U=l.a.useCallback((e=>{if(B){var a;null===(a=document.querySelector('[data-title="Autoscale"]'))||void 0===a||a.click();let i=window.innerWidth-(H.current.getBoundingClientRect().right-e.clientX)-10;u({...t,width:i,height:window.innerHeight-80}),b({...y,width:H.current.getBoundingClientRect().right-e.clientX-10,height:window.innerHeight-80}),N(H.current.getBoundingClientRect().right-e.clientX)}}),[B,v]);return Object(i.useEffect)((()=>(window.addEventListener("mousemove",U),window.addEventListener("mouseup",R),()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",R)})),[U,R]),t?Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)("div",{style:{height:"100vh",overflowY:"hidden",overflowX:"hidden"},children:Object(p.jsx)("div",{id:"default-chart",style:{cursor:S,marginTop:"52px",border:"default"===_?"4px solid #438695":"none"},children:Object(p.jsx)(F,{type:"default",onHover:L,onDoubleClick:e=>M(e),onUnhover:A,onClick:E,pointIndex:D,graphType:n,style:I,enableDualChart:a,selectedTemp:o,layout:t,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,separateGraphs:r,selectedStock:h,id:"default",selectedTime:f,selectedCategory:x,setLayout:u,selectedStrategy:g,sidebarWidth:v,dualChartWidth:z,dataBaseUrl:j,setStrategiesData:k,strategiesData:w})})}),a&&Object(p.jsxs)("div",{ref:H,className:"app-dualchart",style:{width:y.width+10+"px",marginTop:"52px"},onMouseDown:e=>e.preventDefault(),children:[Object(p.jsx)("div",{className:"app-dualchart-resizer",onMouseDown:P}),Object(p.jsx)("div",{className:"app-dualchart-content",children:Object(p.jsx)("div",{id:"secondary-chart",style:{cursor:S,border:"secondary"===_?"4px solid #438695":"none"},children:Object(p.jsx)(F,{type:"secondary",onHover:L,onDoubleClick:e=>M(e),graphType:n,style:I,enableDualChart:a,selectedTemp:o,layout:y,toggleFirstDayLine:s,switchToggle:d,selectedPattern:c,onUnhover:A,onClick:E,pointIndex:D,separateGraphs:r,selectedStock:h,id:"secondary",selectedTime:m,selectedCategory:x,setLayout:b,selectedStrategy:g,sidebarWidth:v,dualChartWidth:z,dataBaseUrl:j,setStrategiesData:k,strategiesData:w})})})]})]}):Object(p.jsx)(p.Fragment,{})},W=a(717),z=a.n(W),N=a(1638),R=a(1643),P=a(1645),U=a(1651),G=a(1650),X=a(298),V=a(1648),q=a(1633),J=a(1634);const K=e=>Object(p.jsx)(V.a,{elevation:8,...e});var Y=e=>{let{options:t,value:a,label:l,handleChange:n,selectedStock:o,getOptionLabel:r,renderOption:s,multiple:d,renderInput:c}=e;const[u,h]=Object(i.useState)(!1);let m=Object(i.useRef)(null);Object(i.useEffect)((()=>{h(!1)}),[o]);return Object(p.jsx)("div",{ref:m,onMouseLeave:()=>{h(!1)},children:Object(p.jsx)(q.a,{onKeyPress:e=>{(38===e.keyCode||40===e.keyCode)&&h(!1)},selectOnFocus:!1,blurOnSelect:"touch",onChange:(e,t)=>{n(t)},fullWidth:!0,multiple:!!d,open:u,options:[...t],onBlur:()=>{h(!1)},onMouseLeave:()=>{m.current.click()},onKeyDown:()=>{h(!0)},onClick:()=>{h(!0)},value:a,defaultValue:t.find((e=>e[0])),PaperComponent:K,getOptionLabel:r&&r,renderOption:s&&s,renderInput:c||(e=>Object(p.jsx)(J.a,{...e,label:l,variant:"standard",onClick:()=>{h(!u)}}))})})},Z=a(1649),$=a(1640);var Q=e=>{let{handleGrapthType:t,graphType:a,templateChange:l,setEnableDualChart:n,enableDualChart:o,handlePatternChange:r,selectedTime:s,hanldeSelectedTime:d,selectedTemp:u,selectedPattern:m,handlSwitchToggle:x,switchToggle:g,toggleFirstDayLine:y,setToggleFirstDayLine:b,selectedStock:j,dataBaseUrl:k,setSidebarWidth:w}=e,f=Object(i.useRef)(),[O,S]=Object(i.useState)([]),[C,_]=Object(i.useState)(!1);Object(i.useEffect)((()=>{c("stocks/patterns").then((e=>{var t;S((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[])}))}),[]);return Object(p.jsx)(Z.a,{sx:{flexGrow:1},children:Object(p.jsxs)($.a,{container:!0,spacing:2,style:{position:"fixed",padding:"10px"},children:[Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsx)($.a,{container:!0,spacing:2,children:Object(p.jsx)($.a,{item:!0,xs:12,children:Object(p.jsx)(Y,{options:O,value:m,label:"Pattern",handleChange:r,selectedStock:j})})})}),Object(p.jsx)($.a,{item:!0,xs:5,children:Object(p.jsxs)($.a,{container:!0,spacing:2,children:[Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsx)(N.a,{control:Object(p.jsx)(R.a,{disabled:"1d"!==s.name,checked:y,onChange:e=>{b(e.target.checked)}}),label:"1st"})}),Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsxs)(G.a,{variant:"text","aria-label":"text button group",children:[Object(p.jsx)(U.a,{className:"btn ".concat("ohlc"!==a?"templateBtn":""),onClick:()=>t("candlestick"),children:Object(p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",fill:"currentColor",children:[Object(p.jsx)("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"}),Object(p.jsx)("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"}),Object(p.jsx)("path",{d:"M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"}),Object(p.jsx)("path",{d:"M10 4h1v3.5h-1zm0 16.5h1V24h-1z"})]})}),Object(p.jsx)(U.a,{className:"btn ".concat("ohlc"===a?"templateBtn":""),onClick:()=>t("ohlc"),children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24",children:Object(p.jsx)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"square",children:Object(p.jsx)("path",{d:"M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"})})})})]})}),Object(p.jsx)($.a,{item:!0,md:2,children:Object(p.jsx)(Y,{options:["0",1,2,3,4],value:g,label:"MT4",handleChange:x,selectedStock:j,getOptionLabel:e=>e})}),Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsx)(Y,{options:h,value:s,label:"Time",handleChange:d,selectedStock:j,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:""})}),Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsx)(Y,{options:v,value:u,label:"Template",handleChange:l,selectedStock:j,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:""})}),Object(p.jsx)($.a,{item:!0,xs:2,children:Object(p.jsx)(U.a,{onClick:()=>{var e;n(!o),null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click()},className:"btn ".concat(o?"templateBtn":""),children:"Dual Chart"})})]})}),Object(p.jsx)($.a,{item:!0,xs:5,children:Object(p.jsxs)($.a,{container:!0,spacing:2,children:[Object(p.jsx)($.a,{item:!0,md:11,children:"/db_v1"!==k?Object(p.jsx)(G.a,{variant:"text","aria-label":"text button group",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(X.b,{style:{display:"none"},ref:f,target:"_blank",to:"/db_v1"}),Object(p.jsx)(U.a,{onClick:()=>{f.current.click()},style:{color:"white"},children:"__"})]})}):Object(p.jsx)(p.Fragment,{})}),Object(p.jsx)($.a,{item:!0,md:1,children:Object(p.jsx)(P.a,{onClick:()=>{C||w(500),C&&w(6),_(!C)},color:"primary",children:Object(p.jsx)(z.a,{})})})]})})]})})},ee=a(719),te=a.n(ee),ae=a(718),ie=a.n(ae),le=a(1637);function ne(e,t,a){return(null===t||void 0===t?void 0:t[a])<(null===e||void 0===e?void 0:e[a])?-1:(null===t||void 0===t?void 0:t[a])>(null===e||void 0===e?void 0:e[a])?1:0}var oe=a(1639),re=a(1641),se=a(1646),de=a(1644),ce=a(1647),ue=a(1653),he=a(1642),me=a(1630);var xe=e=>{var t;let{row:a,index:i,selectedStock:l,handleStockChange:n,selectedTime:o,placeSelectedItemInTheMiddle:r,setSelectStockIndex:s,hanldeSelectedTime:d,selectedStrategy:c,strategiesData:u}=e;return a&&l?Object(p.jsxs)(he.a,{className:a.name===l.name?"selectedRowStyle":"",active:a.name===l.name,onClick:()=>{d(o),r(i),n(a),s(i)},focus:a.name===l.name,children:[Object(p.jsx)(de.a,{align:"center",children:a.name}),Object(p.jsx)(de.a,{align:"center",children:(null===a||void 0===a||null===(t=a.sources)||void 0===t?void 0:t.length)&&a.sources[0]}),Object(p.jsx)(de.a,{align:"center",children:(null===a||void 0===a?void 0:a.description)||"-"}),Object(p.jsx)(de.a,{align:"center",children:a.sectorName}),Object(p.jsx)(de.a,{align:"center",children:o.name}),u.map(((e,t)=>{var i,l,n,o,r,s,d,c,u,h,m,x;return(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i[null===a||void 0===a?void 0:a.name])||void 0===l?void 0:l.value)&&"temp"!==(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n[null===a||void 0===a?void 0:a.name])||void 0===o?void 0:o.value)?Object(p.jsxs)(de.a,{align:"center",children:["temp"!==(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r[null===a||void 0===a?void 0:a.name])||void 0===s?void 0:s.value)?(null===e||void 0===e||null===(d=e.data)||void 0===d||null===(c=d[null===a||void 0===a?void 0:a.name])||void 0===c?void 0:c.value)+", ":" ","temp"!==(null===e||void 0===e||null===(u=e.data)||void 0===u||null===(h=u[null===a||void 0===a?void 0:a.name])||void 0===h?void 0:h.time)?null===e||void 0===e||null===(m=e.data)||void 0===m||null===(x=m[null===a||void 0===a?void 0:a.name])||void 0===x?void 0:x.time:" "]},t):Object(p.jsx)(p.Fragment,{})}))]},i):Object(p.jsx)(p.Fragment,{})};var ge=e=>{let{height:t,scrollableListRef:a,selectedStrategy:i,orderBy:l,createSortHandler:n,order:o,placeSelectedItemInTheMiddle:r,selectedStock:s,hanldeSelectedTime:d,handleStockChange:c,setSelectStockIndex:u,selectedTime:h,stocks:m,setStocks:x,strategiesData:g}=e;return Object(p.jsx)(ce.a,{sx:{maxHeight:t-20-25,margin:"10px 0px",overflowX:"auto"},children:Object(p.jsxs)(re.a,{sx:{minWidth:"300px"},ref:a,stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(ue.a,{children:Object(p.jsx)(he.a,{children:[{label:"Symbol",numeric:!1},{label:"Sources",numeric:!1},{label:"Description",numeric:!1},{label:"Sector Name",numeric:!1},{label:"Time",numeric:!1},...(null===g||void 0===g?void 0:g.length)?[...new Set(g.map((e=>e.name)))].map((e=>({label:e,numeric:!1}))):[]].map(((e,t)=>Object(p.jsx)(de.a,{sx:{minWidth:"100px"},align:(e.numeric,"center"),sortDirection:l===e.label&&o,children:Object(p.jsxs)(oe.a,{active:l===e.label,direction:l===e.label?o:"asc",onClick:n(e.label),children:[e.label,l===e.id?Object(p.jsx)(Z.a,{component:"span",sx:me.a,children:"desc"===o?"sorted descending":"sorted ascending"}):null]})},t)))})}),Object(p.jsx)(se.a,{children:m.map(((e,t)=>Object(p.jsx)(xe,{row:e,index:t,selectedStock:s,handleStockChange:c,setSelectStockIndex:u,selectedTime:h,placeSelectedItemInTheMiddle:r,setStocks:x,stocks:m,hanldeSelectedTime:d,selectedStrategy:i,strategiesData:g},t)))})]})})};const ve=Object(p.jsx)(ie.a,{fontSize:"small"}),pe=Object(p.jsx)(te.a,{fontSize:"small"});var ye=e=>{let{handleStockChange:t,selectedStock:a,stocks:n,setStocks:o,height:r,scrollableListRef:s,placeSelectedItemInTheMiddle:d,selectedCategory:u,setSelectedCategory:m,hanldeSelectedTime:x,setLayout:g,layout:v,setSidebarWidth:y,sidebarWidth:b,enableDualChart:j,selectedStrategy:k,setSelectedStrategy:w,secondaryLayout:f,setSecondaryLayout:O,strategiesData:S}=e;const[C,_]=Object(i.useState)([]),[M,D]=Object(i.useState)([]),[T,L]=Object(i.useState)(0),[A,E]=Object(i.useState)(!1),[H,F]=Object(i.useState)({name:"1d",desc:"1 Day",ms:864e5});Object(i.useEffect)((()=>{E(!0),c("/stocks/watchlish").then((e=>{var t,a;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.list)||void 0===a?void 0:a.length)&&(D(e.data.list||[]),m(e.data.list[0])),E(!1)})).catch((()=>{E(!1)})),c("/stocks/active_strategies").then((e=>{var t;_((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[]),E(!1)})).catch((()=>{E(!1)}))}),[m]),Object(i.useEffect)((()=>{c("stocks/watchlish/"+u).then((e=>{var a,i;o((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.list)||[]),L(0),t(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.list[0])}))}),[u]);const I=e=>{38===e.keyCode?(x(H),t(n[T-1]),L(T-1),d(T-1)):40===e.keyCode&&(x(H),t(n[T+1]),L(T+1),d(T+1))},[B,W]=l.a.useState("asc"),[z,N]=l.a.useState("Symbol"),R=e=>t=>{P(t,e)},P=(e,t)=>{const a=z===t&&"asc"===B;W(a?"desc":"asc"),N(t),o(function(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const i=t(e[0],a[0]);return 0!==i?i:e[1]-a[1]})),a.map((e=>e[0]))}(n.map((e=>{let t={};return k.forEach(((a,i)=>{var l,n,o;let r=null===S||void 0===S||null===(l=S[i])||void 0===l||null===(n=l.data)||void 0===n||null===(o=n[e.name])||void 0===o?void 0:o.time;t[a]=r?new Date(r):null})),{...e,Symbol:e.name,Sources:e.sources[0],Description:e.description,Time:H.name,...t}})),function(e,t,a){return"desc"===e?(e,a)=>ne(e,a,t):(e,a)=>-ne(e,a,t)}(a?"desc":"asc",t)))},U=Object(i.useMemo)((()=>Object(p.jsxs)($.a,{container:!0,style:{margin:"0px 6px"},children:[Object(p.jsxs)($.a,{container:!0,item:!0,md:12,sm:12,xs:12,spacing:2,children:[Object(p.jsx)($.a,{item:!0,md:3,sm:3,xs:3,children:Object(p.jsx)(Y,{options:M,value:u,label:"Categrories",handleChange:m,selectedStock:a})}),Object(p.jsx)($.a,{item:!0,md:2,sm:2,xs:2,children:Object(p.jsx)(Y,{options:h,value:H,label:"Time",handleChange:e=>{F(e),x(e)},selectedStock:a,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.name:""})}),Object(p.jsx)($.a,{item:!0,md:7,sm:7,xs:7,children:Object(p.jsx)(Y,{options:C,value:k,label:"Strategies",handleChange:e=>{e&&e.length?w([...e]):w([])},selectedStock:a,multiple:!0,renderOption:(e,t,a)=>{let i=null===a||void 0===a?void 0:a.selected;return Object(p.jsxs)("li",{...e,children:[Object(p.jsx)(le.a,{icon:ve,checkedIcon:pe,checked:i}),t]})}})})]}),Object(p.jsx)($.a,{item:!0,md:12,sm:12,xs:12,children:Object(p.jsx)("div",{onKeyPress:I,children:Object(p.jsx)(ge,{height:r,scrollableListRef:s,selectedStrategy:k,orderBy:z,createSortHandler:R,order:B,placeSelectedItemInTheMiddle:d,selectedStock:a,hanldeSelectedTime:x,handleStockChange:t,setSelectStockIndex:L,selectedTime:H,stocks:n,setStocks:o,strategiesData:S})})})]})),[n,a,B,z,u,M,n,H,k,S,C,S.length]),G=Object(i.useRef)(null),[X,V]=Object(i.useState)(!1),q=l.a.useCallback((e=>{if(X){let t=window.innerWidth-(G.current.getBoundingClientRect().right-e.clientX)-10;j&&(t=Math.floor(t/2)),g({...v,width:t,height:window.innerHeight-80}),O({...f,width:t}),y(G.current.getBoundingClientRect().right-e.clientX)}}),[X]),J=l.a.useCallback((()=>{V(!1)}),[]),K=l.a.useCallback((e=>{V(!0)}),[]);return Object(i.useEffect)((()=>(window.addEventListener("mousemove",q),window.addEventListener("mouseup",J),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",J)})),[q,J]),Object(i.useEffect)((()=>(window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}))),Object(p.jsxs)("div",{ref:G,className:"app-sidebar",style:{width:b+"px",height:"calc(100vh - ".concat(52,"px")},onMouseDown:e=>e.preventDefault(),children:[A?Object(p.jsx)("div",{className:"watchListLoader"}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)("div",{className:"app-sidebar-resizer",onMouseDown:K}),Object(p.jsx)("div",{className:"app-sidebar-content",style:{overflowX:"clip"},children:U})]})};const be=Object(r.a)((()=>({container:e=>({width:"calc(100% - ".concat(e,"px)")})})));var je=function(e){let{dataBaseUrl:t}=e;const[a,n]=Object(i.useState)([]),[o,r]=Object(i.useState)(6),s=be(o),[d,c]=Object(i.useState)("candlestick"),[h,m]=Object(i.useState)("FOREX"),[g,v]=Object(i.useState)(!0),[y,b]=Object(i.useState)(!1),[j,k]=Object(i.useState)({...u}),w=Object(i.useRef)(null),[f,O]=Object(i.useState)("MMM"),[S,C]=Object(i.useState)(null),[_,M]=Object(i.useState)([]),[D,T]=Object(i.useState)({name:"1d",ms:864e5,desc:"1 Day"}),[L,A]=Object(i.useState)({...j,width:"50%",height:window.innerHeight-80}),[E,H]=Object(i.useState)(x),[F,I]=Object(i.useState)(0),[W,z]=Object(i.useState)([]);l.a.useEffect((()=>{window.addEventListener("resize",(function(){var e;j.width===window.innerWidth-10&&j.height===window.innerHeight-80||(null===(e=document.querySelector('[data-title="Autoscale"]'))||void 0===e||e.click(),k({...j,width:window.innerWidth-10,height:window.innerHeight-80}))}))}),[window.innerWidth,window.innerHeight]);const N=e=>{O(e)},R=e=>{"1d"!==(null===e||void 0===e?void 0:e.name)&&v(!1),T(e)};return Object(p.jsxs)("div",{className:"app-container",children:[Object(p.jsxs)("div",{className:s.container+" app-frame",children:[Object(p.jsx)(Q,{setEnableDualChart:b,enableDualChart:y,handleGrapthType:e=>{c(e)},graphType:d,templateChange:e=>{H(e)},setSidebarWidth:r,selectedStock:f,handleStockChange:N,handlePatternChange:e=>{C(e),z([]),M([])},selectedTime:D,hanldeSelectedTime:R,selectedTemp:E,selectedPattern:S,handlSwitchToggle:e=>{I(e)},switchToggle:F,toggleFirstDayLine:g,setToggleFirstDayLine:v,dataBaseUrl:t}),Object(p.jsx)("div",{style:{height:"100vh",overflowY:"hidden"},children:Object(p.jsx)(B,{layout:j,enableDualChart:y,graphType:d,selectedTemp:E,toggleFirstDayLine:g,switchToggle:F,selectedPattern:S,selectedStock:f,setLayout:k,selectedTime:D,selectedCategory:h,selectedStrategy:W,sidebarWidth:o,secondaryLayout:L,setSecondaryLayout:A,dataBaseUrl:t,setStrategiesData:M,strategiesData:_})})]}),Object(p.jsx)(ye,{selectedStock:f,handleStockChange:N,stocks:a,setStocks:n,height:j.height,scrollableListRef:w,placeSelectedItemInTheMiddle:e=>{const t=315+21*e;w.current.scrollTo(t,0)},selectedCategory:h,setSelectedCategory:m,hanldeSelectedTime:R,setLayout:k,layout:j,setSidebarWidth:r,sidebarWidth:o,enableDualChart:y,selectedStrategy:W,setSelectedStrategy:e=>{z([...e]),C(null)},secondaryLayout:L,setSecondaryLayout:A,strategiesData:_})]})};var ke=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,1654)).then((t=>{let{getCLS:a,getFID:i,getFCP:l,getLCP:n,getTTFB:o}=t;a(e),i(e),l(e),n(e),o(e)}))},we=a(1632),fe=a(1652),Oe=a(721),Se=a(1631);let Ce="#901f61";const _e=Object(Oe.a)(Object(Se.a)({palette:{primary:{main:Ce,light:"#901f6117"},secondary:{main:"#829ae621"}},typography:{fontSize:12,fontFamily:"Arial",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,h1:{fontSize:26,wordBreak:"break-all"},h2:{fontSize:24,wordBreak:"break-all"},h3:{fontSize:22,wordBreak:"break-all"},h4:{fontSize:20,wordBreak:"break-all"},h5:{fontSize:18,wordBreak:"break-all"},h6:{fontSize:18,wordBreak:"break-all"},subtitle1:{fontSize:20,fontWeight:"bold",wordBreak:"break-all"},subtitle2:{wordBreak:"break-all"},body1:{wordBreak:"break-all"},body2:{fontSize:13,wordBreak:"break-all"}},props:{MuiTextField:{variant:"standard",margin:"none"},MuiTooltip:{placement:"bottom",arrow:!0}},overrides:{MuiInput:{input:{fontSize:12}},MuiInputLabel:{root:{fontSize:12}},MuiTooltip:{tooltip:{fontSize:"10px",color:"white",backgroundColor:Ce},arrow:{color:Ce,backgroundColor:"white"}},MuiCheckbox:{colorSecondary:{"&$checked":{color:Ce}}},MuiTableCell:{root:{padding:"none",fontSize:"12px",minWidth:"10px",maxWidth:"10px",width:"10px"},head:{background:"#484848",color:"white",minWidth:"10px",maxWidth:"10px",width:"10px"}}}}));var Me=a(25);o.a.render(Object(p.jsx)(l.a.StrictMode,{children:Object(p.jsx)(we.a,{injectFirst:!0,children:Object(p.jsx)(fe.a,{theme:_e,children:Object(p.jsx)(X.a,{children:Object(p.jsxs)(Me.c,{children:[Object(p.jsx)(Me.a,{path:"/",element:Object(p.jsx)(je,{dataBaseUrl:""})}),Object(p.jsx)(Me.a,{path:"/db_v1",element:Object(p.jsx)(je,{dataBaseUrl:"/db_v1"})})]})})})})}),document.getElementById("root")),ke()},285:function(e,t,a){},742:function(e,t,a){},961:function(e,t){},963:function(e,t){}},[[1558,1,2]]]);
//# sourceMappingURL=main.23331f58.chunk.js.map
(this.webpackJsonpgpct=this.webpackJsonpgpct||[]).push([[0],{1055:function(e,a){},1563:function(e,a,i){"use strict";i.r(a);var t=i(1),l=i.n(t),n=i(138),o=i.n(n),s=(i(737),i(29)),r=i(60),c=i(19),u=(i(293),i(712)),x=i(715),d=i.n(x),p=i(4),y=d()(u),h=function(e){var a=e.style,i=e.data,t=e.layout,l=e.templates;return e.loader?Object(p.jsx)("div",{className:"loadingLabel",children:"Loading..."}):Object(p.jsx)(y,{style:a,data:[i].concat(Object(s.a)(l||[])),layout:t,config:{responsive:!0}})},m=i(718),b=i.n(m),v=i(717),j=i.n(v),g=i(1623),k=i(1622),f=i(1618),O=i(421),M=i.n(O),A=i(716),S=i(422),T=i.n(S);T.a.defaults.baseURL="http://3.210.142.92:5000/";var C=function(){var e=Object(A.a)(M.a.mark((function e(a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(a)).then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),w=i(1621),D=i(1619),I=[{name:"1h",ms:36e5},{name:"1d",ms:864e5},{name:"1wk",ms:6048e5},{name:"1mo",ms:2629746e3}],G=[{name:"T0",id:0},{name:"T1",id:1},{name:"T2",id:2},{name:"T3",id:3},{name:"T4",id:4},{name:"T5",id:5},{name:"T6",id:6},{name:"T7",id:7},{name:"T8",id:8}],E=function(e){var a=e.handleGrapthType,i=e.graphType,l=e.templateChange,n=(e.templatesOptions,e.data,e.selectedStock),o=e.handleStockChange,s=e.selectedTime,u=e.hanldeSelectedTime,x=e.selectedTemp,d=Object(t.useState)([]),y=Object(c.a)(d,2),h=y[0],m=y[1];return Object(t.useEffect)((function(){C("stocks/available").then((function(e){var a;console.log("res",e),m((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.list)||[])}))}),[]),Object(p.jsxs)(w.a,{container:!0,spacing:2,direction:"row",alignItems:"center",textAlign:"center",style:{padding:"10px"},children:[Object(p.jsx)(w.a,{item:!0,xs:2,children:Object(p.jsx)(f.a,{value:n,disableClearable:!0,onChange:function(e,a){o(a)},fullWidth:!0,inputValue:n,options:h,renderInput:function(e){return Object(p.jsx)(D.a,Object(r.a)(Object(r.a)({},e),{},{variant:"standard",label:"Stock"}))}})}),Object(p.jsx)(w.a,{item:!0,xs:1,children:Object(p.jsxs)(k.a,{variant:"text","aria-label":"text button group",children:[Object(p.jsx)(g.a,{className:"btn ".concat("ohlc"!==i?"templateBtn":""),onClick:function(){return a("candlestick")},children:Object(p.jsx)(j.a,{})}),Object(p.jsx)(g.a,{className:"btn ".concat("ohlc"===i?"templateBtn":""),onClick:function(){return a("ohlc")},children:Object(p.jsx)(b.a,{})})]})}),Object(p.jsx)(w.a,{item:!0,xs:4,children:Object(p.jsx)(k.a,{variant:"text","aria-label":"text button group",children:I.map((function(e,a){return Object(p.jsx)(g.a,{onClick:function(){return u(e)},className:"btn ".concat(s.name===e.name?"templateBtn":""),children:e.name},a)}))})}),Object(p.jsx)(w.a,{item:!0,xs:5,children:Object(p.jsx)(k.a,{variant:"text","aria-label":"text button group",children:G.map((function(e,a){return Object(p.jsx)(g.a,{onClick:function(){return l(e)},className:"btn ".concat(x.id===e.id?"templateBtn":""),children:e.name},a)}))})})]})},L=function(e){return{graph:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1}],subGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:1,mergedGraphs:[{x:e.x,y:e.a,xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:1},{x:e.x,y:e.high,xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:1},{x:e.x,y:e.open,type:"bar",marker:{color:e.open.map((function(a,i){return a<e.close[i]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:1}]}]}},N=function(e){return{graph:[{x:e.x,y:e.low.map((function(a,i){return(a+e.high[i])/2})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2},{x:e.x,y:e.low.map((function(a,i){return(a+e.high[i])/2+.8999})),xaxis:"x",yaxis:"y",marker:{color:"#90c7fc"},templateType:2}],subGraphs:[]}},B=function(e,a){return{graph:[{x:e.x,y:e.low.map((function(e){return e+10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3},{x:e.x,y:e.low.map((function(e){return e-10})),xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}],subGraphs:[{x:e.x,y:e.open.map((function(a,i){return a<e.close[i]?a:-1*a})),type:"bar",marker:{color:e.open.map((function(a,i){return a<e.close[i]?"green":"red"}))},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.open.map((function(a,i){return a<e.close[i]?a:-1*a})),xaxis:"x",yaxis:"y",type:"scatter",marker:{color:"red"},templateType:3}]},{x:e.x,y:e.open.map((function(a,i){return a<e.close[i]?a:-1*a})),type:"bar",marker:{color:"rgba(0,0,255,0.7)"},xaxis:"x",yaxis:"y",templateType:3,mergedGraphs:[{x:e.x,y:e.low,xaxis:"x",yaxis:"y",marker:{color:"blue"},templateType:3}]}]}},F=function(e){return[{name:"T1",id:1,template:Object(r.a)({},L(e))},{name:"T2",id:2,template:Object(r.a)({},N(e))},{name:"T3",id:3,template:Object(r.a)({},B(e))}]},H={x:[],close:[],decreasing:{fillcolor:"black",line:{color:"black",width:1}},high:[],increasing:{fillcolor:"white",line:{color:"black",width:1}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"candlestick",xaxis:"x",yaxis:"y"};var R=function(){var e=Object(t.useState)(!1),a=Object(c.a)(e,2),i=a[0],l=a[1],n=Object(t.useState)("candlestick"),o=Object(c.a)(n,2),u=o[0],x=o[1],d=Object(t.useState)([]),y=Object(c.a)(d,2),m=(y[0],y[1],Object(t.useState)([])),b=Object(c.a)(m,2),v=(b[0],b[1],Object(t.useState)([])),j=Object(c.a)(v,2),g=(j[0],j[1],Object(t.useState)([])),k=Object(c.a)(g,2),f=k[0],O=k[1],M=Object(t.useState)([]),A=Object(c.a)(M,2),S=A[0],T=A[1],w=Object(t.useState)({dragmode:"zoom",margin:{r:10,t:25,b:40,l:20},showlegend:!1,xaxis:{domain:[0,1],range:[],rangeslider:{visible:!1},type:"date"},yaxis:{domain:[0,1],rangeslider:{visible:!1},position:1,side:"bottom",type:"linear"},opacity:.2,autosize:!0,height:550}),D=Object(c.a)(w,2),I=D[0],G=D[1],L=Object(t.useState)("MMM"),N=Object(c.a)(L,2),B=N[0],R=N[1],z=Object(t.useState)({name:"1d",ms:864e5}),J=Object(c.a)(z,2),P=J[0],U=J[1],V=Object(t.useState)(0),W=Object(c.a)(V,2),q=W[0],K=W[1],Q=Object(t.useState)(Object(r.a)({},H)),X=Object(c.a)(Q,2),Y=X[0],Z=X[1],$=function(e,a,i){l(!0);var t="stocks?stock=".concat(null===e||void 0===e?void 0:e.toLowerCase(),"&interval=").concat(a.name);i>0&&(t+="&template=".concat(i)),C(t).then((function(e){var t,n;console.log("Total candles on time ",a.name," is ",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.length),l(!1);var o=Object(s.a)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),c=[],u=[],x=[],d=[],p=[],y=[],h=[],m=[],b=[],v=[],j=[],g=[],k=[],f=[],M=[],A=[],S=[],C=[],w=[],D=[],E=[],L=[],N=[],B=[],F=[],R=[],z=[],J=[],P=[],U=[],V=[],W=[];null===o||void 0===o||o.forEach((function(e){var a,t,l;if(c.push(e.high),u.push(e.low),x.push(e.open),d.push(e.close),p.push(new Date(e.date)),1===i)y.push(null===(a=e.indicators)||void 0===a?void 0:a.EMA0),h.push(null===(t=e.indicators)||void 0===t?void 0:t.EMA1),m.push(null===(l=e.indicators)||void 0===l?void 0:l.EMA2);else if(2===i){var n,o,s,r,O,T;y.push(null===(n=e.indicators)||void 0===n?void 0:n.EMA0),h.push(null===(o=e.indicators)||void 0===o?void 0:o.EMA1),m.push(null===(s=e.indicators)||void 0===s?void 0:s.EMA2),b.push(null===(r=e.indicators)||void 0===r?void 0:r.EMA3),v.push(null===(O=e.indicators)||void 0===O?void 0:O.EMA4),j.push(null===(T=e.indicators)||void 0===T?void 0:T.EMA5)}else if(3===i&&e.indicators){var I;U.push(e.indicators["%R0"]),V.push(e.indicators["%R1"]),W.push(null===(I=e.indicators)||void 0===I?void 0:I.donchian0)}else if(4===i){var G,H,q,K,Q,X,Y,Z,$,_,ee,ae;g.push(null===(G=e.indicators)||void 0===G?void 0:G.MACD0),k.push(null===(H=e.indicators)||void 0===H?void 0:H.MACD1),f.push(null===(q=e.indicators)||void 0===q?void 0:q.MACD2),C.push(null===(K=e.indicators)||void 0===K?void 0:K.MACDSIGNAL0),A.push(null===(Q=e.indicators)||void 0===Q?void 0:Q.MACDHIST1),D.push(null===(X=e.indicators)||void 0===X?void 0:X.MACDSIGNAL2),E.push(null===(Y=e.indicators)||void 0===Y?void 0:Y.SMA0),L.push(null===(Z=e.indicators)||void 0===Z?void 0:Z.SMA1),N.push(null===($=e.indicators)||void 0===$?void 0:$.SMA2),B.push(null===(_=e.indicators)||void 0===_?void 0:_.SMA3),F.push(null===(ee=e.indicators)||void 0===ee?void 0:ee.stochd0),R.push(null===(ae=e.indicators)||void 0===ae?void 0:ae.stochk0)}else if(5===i){var ie,te,le,ne,oe,se,re,ce,ue,xe,de,pe,ye,he,me;g.push(null===(ie=e.indicators)||void 0===ie?void 0:ie.MACD0),k.push(null===(te=e.indicators)||void 0===te?void 0:te.MACD1),f.push(null===(le=e.indicators)||void 0===le?void 0:le.MACD2),M.push(null===(ne=e.indicators)||void 0===ne?void 0:ne.MACDHIST0),A.push(null===(oe=e.indicators)||void 0===oe?void 0:oe.MACDHIST1),S.push(null===(se=e.indicators)||void 0===se?void 0:se.MACDHIST2),C.push(null===(re=e.indicators)||void 0===re?void 0:re.MACDSIGNAL0),w.push(null===(ce=e.indicators)||void 0===ce?void 0:ce.MACDSIGNAL1),D.push(null===(ue=e.indicators)||void 0===ue?void 0:ue.MACDSIGNAL2),E.push(null===(xe=e.indicators)||void 0===xe?void 0:xe.SMA0),L.push(null===(de=e.indicators)||void 0===de?void 0:de.SMA1),N.push(null===(pe=e.indicators)||void 0===pe?void 0:pe.SMA2),B.push(null===(ye=e.indicators)||void 0===ye?void 0:ye.SMA3),F.push(null===(he=e.indicators)||void 0===he?void 0:he.stochd0),R.push(null===(me=e.indicators)||void 0===me?void 0:me.stochk0)}else if(6===i);else if(7===i){var be,ve,je,ge,ke,fe;y.push(null===(be=e.indicators)||void 0===be?void 0:be.EMA0),z.push(null===(ve=e.indicators)||void 0===ve?void 0:ve.MA0),J.push(null===(je=e.indicators)||void 0===je?void 0:je.MA1),P.push(null===(ge=e.indicators)||void 0===ge?void 0:ge.RSI0),F.push(null===(ke=e.indicators)||void 0===ke?void 0:ke.stochd0),R.push(null===(fe=e.indicators)||void 0===fe?void 0:fe.stochk0)}else if(8===i){var Oe,Me,Ae,Se,Te,Ce;g.push(null===(Oe=e.indicators)||void 0===Oe?void 0:Oe.MACD0),M.push(null===(Me=e.indicators)||void 0===Me?void 0:Me.MACDHIST0),C.push(null===(Ae=e.indicators)||void 0===Ae?void 0:Ae.MACDSIGNAL0),P.push(null===(Se=e.indicators)||void 0===Se?void 0:Se.RSI0),F.push(null===(Te=e.indicators)||void 0===Te?void 0:Te.stochd0),R.push(null===(Ce=e.indicators)||void 0===Ce?void 0:Ce.stochk0)}}));var q=Math.min.apply(Math,Object(s.a)(u.filter((function(e){return null!==e})))),K=Math.min.apply(Math,Object(s.a)(d.filter((function(e){return null!==e})))),Q=q>K?K:q,X=Math.min.apply(Math,Object(s.a)(u.filter((function(e){return null!==e})))),Y=Math.max.apply(Math,Object(s.a)(d.filter((function(e){return null!==e})))),$=Y>X?Y:X;console.log("lowest",Q,$);for(var _=0;_<20;_++)c.push(null),u.push(null),x.push(null),d.push(null),p.push(new Date(Date.now(p[p.length-1])+(_+1)*a.ms)),1===i?(y.push(null),h.push(null),m.push(null)):2===i?(y.push(null),h.push(null),m.push(null),b.push(null),v.push(null),j.push(null)):3===i?(U.push(null),V.push(null),W.push(null)):4===i?(g.push(null),k.push(null),f.push(null),C.push(null),A.push(null),D.push(null),E.push(null),L.push(null),N.push(null),B.push(null),F.push(null),R.push(null)):5===i?(g.push(null),k.push(null),f.push(null),M.push(null),A.push(null),S.push(null),C.push(null),w.push(null),D.push(null),E.push(null),L.push(null),N.push(null),B.push(null),F.push(null),R.push(null)):7===i?(y.push(null),z.push(null),J.push(null),P.push(null),F.push(null),R.push(null)):6===i||8===i&&(g.push(null),M.push(null),C.push(null),P.push(null),F.push(null),R.push(null));0===i&&(O([]),T([])),1===i?(O([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:h,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:m,xaxis:"x",yaxis:"y",marker:{color:"blue"}}]),T([])):2===i?(O([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:h,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:m,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:b,xaxis:"x",yaxis:"y",marker:{color:"red"}},{x:p,y:v,xaxis:"x",yaxis:"y",marker:{color:"red"}},{x:p,y:j,xaxis:"x",yaxis:"y",marker:{color:"red"}}]),T([])):3===i?(O([{x:p,y:W,xaxis:"x",yaxis:"y",marker:{color:"blue"}}]),T([{x:p,y:U,marker:{color:"blue"},xaxis:"x",yaxis:"y"},{x:p,y:V,xaxis:"x",yaxis:"y",marker:{color:"red"}}])):4===i?(O([{x:p,y:E,xaxis:"x",yaxis:"y",marker:{color:"rgb(255,173,89)"}},{x:p,y:L,xaxis:"x",yaxis:"y",marker:{color:"rgb(253,91,252)"}},{x:p,y:N,xaxis:"x",yaxis:"y",marker:{color:"rgb(172,91,170)"}},{x:p,y:B,xaxis:"x",yaxis:"y",marker:{color:"rgb(89,89,89)"}}]),T([{x:p,y:g,marker:{color:"blue"},xaxis:"x",yaxis:"y",templates:[{x:p,y:C,xaxis:"x",yaxis:"y",marker:{color:"black"}}]},{x:p,y:k,xaxis:"x",yaxis:"y",marker:{color:"black"},templates:[{x:p,y:A,type:"bar",xaxis:"x",yaxis:"y",marker:{color:A.map((function(e,a){return e>0?"green":"red"}))}}]},{x:p,y:F,marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y",templates:[{x:p,y:R,xaxis:"x",yaxis:"y",marker:{color:"rgb(13,0,255)"}}]}])):5===i?(O([{x:p,y:E,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:L,xaxis:"x",yaxis:"y",marker:{color:"rgb(255,0,56)"}},{x:p,y:N,xaxis:"x",yaxis:"y",marker:{color:"rgb(13,190,58)"}},{x:p,y:B,xaxis:"x",yaxis:"y",marker:{color:"black"}}]),T([{x:p,y:g,marker:{color:"blue"},xaxis:"x",yaxis:"y",templates:[{x:p,y:C,xaxis:"x",yaxis:"y",marker:{color:"black"}}]},{x:p,y:g,marker:{color:"blue"},xaxis:"x",yaxis:"y",templates:[{x:p,y:C,type:"bar",xaxis:"x",yaxis:"y",marker:{color:C.map((function(e,a){return e>0?"green":"red"}))}}]},{x:p,y:F,marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y",templates:[{x:p,y:R,xaxis:"x",yaxis:"y",marker:{color:"rgb(13,0,255)"}}]}])):6===i?(O([]),T([])):7===i?(O([{x:p,y:y,xaxis:"x",yaxis:"y",marker:{color:"blue"}},{x:p,y:z,xaxis:"x",yaxis:"y",marker:{color:"black"}},{x:p,y:J,xaxis:"x",yaxis:"y",marker:{color:"black"}}]),T([{x:p,y:P,marker:{color:"blue"},xaxis:"x",yaxis:"y"},{x:p,y:F,marker:{color:"rgb(153,42,173)"},xaxis:"x",yaxis:"y",templates:[{x:p,y:R,xaxis:"x",yaxis:"y",marker:{color:"rgb(13,0,255)"}}]}])):8===i?(O([]),T([{x:p,y:P,marker:{color:"rgb(126,87,194)"},xaxis:"x",yaxis:"y"},{x:p,y:F,marker:{color:"rgb(255,109,0)"},xaxis:"x",yaxis:"y",templates:[{x:p,y:R,xaxis:"x",yaxis:"y",marker:{color:"rgb(43,97,255)"}}]},{x:p,y:g,marker:{color:"rgb(43,97,255)"},xaxis:"x",yaxis:"y",templates:[{x:p,y:C,xaxis:"x",yaxis:"y",marker:{color:"rgb(255,109,0)"}},{x:p,y:M,type:"bar",xaxis:"x",yaxis:"y",marker:{color:M.map((function(e,a){return e>0?"green":"red"}))}}]}])):(O([]),T([])),console.log("x",p),Z(Object(r.a)(Object(r.a)({},H),{},{high:c,low:u,open:x,close:d,x:p})),G(Object(r.a)(Object(r.a)({},I),{},{yaxis:Object(r.a)(Object(r.a)({},I.yaxis),{},{rangeslider:{visible:!1},range:[Q,$]})}))})).catch((function(e){l(!1),O([]),T([]),Z(null)}))};return Object(t.useState)((function(){$(B,P)}),[]),Object(p.jsxs)(p.Fragment,{children:[i?Object(p.jsx)("div",{className:"loader"}):Object(p.jsx)(p.Fragment,{}),Object(p.jsxs)("div",{style:{padding:"10px"},children:[Object(p.jsx)(E,{graphType:u,handleGrapthType:function(e){x(e)},templateChange:function(e){K(e),$(B,P,e.id)},templatesOptions:F,data:Y,selectedStock:B,selectedTime:P,hanldeSelectedTime:function(e){U(e),$(B,e,q.id)},handleStockChange:function(e){R(e),$(e,P,q.id)},selectedTemp:q}),Object(p.jsxs)("div",{id:"fullscreen",children:[Object(p.jsx)(h,{style:{width:"100%",height:"100%"},data:Object(r.a)(Object(r.a)({},Y),{},{type:u}),layout:I,templates:f.length?Object(s.a)(f):[],loader:i}),!i&&S.map((function(e){return Object(p.jsx)(h,{templates:e.templates,style:{width:"100%"},data:Object(r.a)({},e),layout:{dragmode:"zoom",margin:{r:10,t:1,b:40,l:20},showlegend:!1,xaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},type:"date"},yaxis:{domain:[0,1],autorange:!0,rangeslider:{visible:!1},position:1,side:"bottom"},opacity:.2,autosize:!0,height:150}},e)}))]})]})]})},z=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,1625)).then((function(a){var i=a.getCLS,t=a.getFID,l=a.getFCP,n=a.getLCP,o=a.getTTFB;i(e),t(e),l(e),n(e),o(e)}))};o.a.render(Object(p.jsx)(l.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root")),z()},293:function(e,a,i){},737:function(e,a,i){},938:function(e,a){},940:function(e,a){}},[[1563,1,2]]]);
//# sourceMappingURL=main.b4d53586.chunk.js.map